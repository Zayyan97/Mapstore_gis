(self.webpackChunkMyMapStoreProject=self.webpackChunkMyMapStoreProject||[]).push([[3498],{47098:(e,t,i)=>{"use strict";var o=i(8010),n=i(38225),r=i(70920);const s=(e,t)=>{e.getSource&&"error"===e.getSource().getState()&&t.onError&&t.onError(e),e.getSource&&"loading"===e.getSource().getState()&&setTimeout(s.bind(null,e,t),1e3)};o.default.registerType("bing",{create:e=>{var t=e.apiKey,i=e.maxNativeZoom||19;const o=new n.Z({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new r.Z({key:t,imagerySet:e.name,maxZoom:i})});return setTimeout(s.bind(null,o,e),1e3),o},update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},isValid:e=>!e.getSource||"error"!==e.getSource().getState()})},73431:(e,t,i)=>{"use strict";var o=i(8010),n=i(24852),r=i.n(n),s=i(2285);let a,l,u={},m="ontouchstart"in window,c=m?"touchstart":"mousedown",d=m?"touchmove":"mousemove",p=m?"touchend":"mouseup";function f(){return window?.google?.maps}o.default.registerType("google",{create:(e,t,i)=>{if(document.getElementById(i+"gmaps")){let o=f();if(!o)return null;a||(a={HYBRID:o.MapTypeId.HYBRID,SATELLITE:o.MapTypeId.SATELLITE,ROADMAP:o.MapTypeId.ROADMAP,TERRAIN:o.MapTypeId.TERRAIN}),u[i]||(u[i]=new o.Map(document.getElementById(i+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,minZoom:e.minZoom,maxZoom:e.maxZoom})),u[i].setMapTypeId(a[e.name]);let n=document.getElementById(i+"gmaps"),r=function(){if(u[i]&&"hidden"!==n.style.visibility){const e=(0,s.vs)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");u[i].setCenter(new o.LatLng(e[1],e[0]))}},l=function(){u[i]&&"hidden"!==n.style.visibility&&u[i].setZoom(t.getView().getZoom())},m=function(e,t){const i=t*Math.PI/180,o=e[0],n=e[1];return[o*Math.cos(i)-n*Math.sin(i),o*Math.sin(i)+n*Math.cos(i)]},g=function(e,t){let i=t[0],o=t[1],n=[[i/2,o/2],[-i/2,o/2],[-i/2,-o/2],[i/2,-o/2]].map((function(t){return m(t,e)})),r=n.map((function(e){return e[0]})),s=n.map((function(e){return e[1]})),a=Math.max.apply(null,r),l=Math.min.apply(null,r),u=Math.max.apply(null,s),c=Math.min.apply(null,s),d=Math.abs(u)+Math.abs(c);return{width:Math.abs(a)+Math.abs(l),height:d}},y=function(){if("hidden"!==n.style.visibility){const e=180*t.getView().getRotation()/Math.PI;n.style.transform="rotate("+e+"deg)",o.event.trigger(u[i],"resize")}},h=function(){let e=t.getView();e.on("change:center",r),e.on("change:resolution",l),e.on("change:rotation",y)};t.on("change:view",h),h(),r(),l();let x=t.getViewport(),b=document.getElementById(i+"gmaps").style.transform,v=!1,S=!1,R=function(){let e=/[\+\-]?\d+\.?\d*/i,s=document.getElementById(i+"gmaps").style.transform;if(u[i]&&s!==b&&-1!==s.indexOf("rotate")){let a=parseFloat(s.match(e)[0]),l=g(-a,t.getSize());n.style.width=l.width+"px",n.style.height=l.height+"px",n.style.left=Math.round((t.getSize()[0]-l.width)/2)+"px",n.style.top=Math.round((t.getSize()[1]-l.height)/2)+"px",o.event.trigger(u[i],"resize"),r()}};x.addEventListener(c,(()=>{v=!0})),x.addEventListener(p,(()=>{S&&v&&R(),b=document.getElementById(i+"gmaps").style.transform,v=!1})),x.addEventListener(d,(()=>{S=v}))}return null},render(e,t,i){l||(l=e.name);let o={zIndex:0};if(!0===e.visibility){let t=document.getElementById(i+"gmaps");t&&(t.style.visibility="visible"),u[i]&&a&&(u[i].setMapTypeId(a[e.name]),u[i].setTilt(0))}else o.visibility="hidden";if(l===e.name){let t=document.getElementById(i+"gmaps");return t&&(t.style.visibility=e.visibility?"visible":"hidden"),r().createElement("div",{id:i+"gmaps",className:"fill",style:o})}return null},update(e,t,i,o,n){if(!u[n])return;let r=f();if(!i.visibility&&t.visibility){let e=o.getView();const t=(0,s.vs)(e.getCenter(),"EPSG:3857","EPSG:4326");u[n].setCenter(new r.LatLng(t[1],t[0])),u[n].setZoom(e.getZoom())}!i.minZoom&&t.minZoom&&u[n].setOptions({minZoom:t.minZoom}),!i.maxZoom&&t.maxZoom&&u[n].setOptions({maxZoom:t.maxZoom})},remove(e,t,i){l===e.name&&(l=void 0,delete u[i])}})},30189:(e,t,i)=>{"use strict";var o=i(8010),n=i(13002),r=i(21915),s=i(2285),a=i(97208),l=i(98185),u=i(20767),m=i(15565),c=i(31219),d=i(44538),p=i(40353),f=i(52043),g=i(84023),y=i(23923),h=i(3696);const x=new u.default({color:"rgba(0,0,0,0.2)"}),b=new c.default({stroke:new u.default({color:"rgba(0,0,0,1)"}),fill:new l.default({color:"rgba(255,255,255,1)"})}),v=new m.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),S=new m.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),R=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map_=null,this.postcomposeListenerKey_=null,this.gridProjection_=(0,s.U2)(void 0!==e.projection?e.projection:"EPSG:4326"),this.projection_=null,this.maxY_=1/0,this.maxX_=1/0,this.minY_=-1/0,this.minX_=-1/0,this.maxYP_=1/0,this.maxXP_=1/0,this.minYP_=-1/0,this.minXP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:x,this.fromTargetTransform_=void 0,this.toTargetTransform_=void 0,this.projectionCenterTarget_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,this.frameStyle_=null,this.frame_=null,this.frameRatio_=0,!0===e.showFrame&&(this.frameStyle_=void 0!==e.frameStyle?e.frameStyle:b,this.frameRatio_=void 0!==e.frameRatio?e.frameRatio:.1),!0===e.showLabels&&(this.xLabelFormatter_=(0,y.A4)(e.projection||"EPSG:4326",e.xLabelFormatter),this.yLabelFormatter_=(0,y.u3)(e.projection||"EPSG:4326",e.yLabelFormatter),this.xLabelPosition_=void 0===e.xLabelPosition?0:e.xLabelPosition,this.yLabelPosition_=void 0===e.yLabelPosition?1:e.yLabelPosition,this.xLabelStyle_=void 0!==e.xLabelStyle?e.xLabelStyle:v,this.yLabelStyle_=void 0!==e.yLabelStyle?e.yLabelStyle:S,this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:(0,g.bL)(e.projection||"EPSG:4326"),this.setMap(void 0!==e.map?e.map:null)}createGraticule_(e,t,i,o){const n=(0,g.ZS)(this.intervals_,this.projectionCenterTarget_,this.targetSize_,i,this.fromTargetTransform_),r=(0,g.uI)(n,this.projection_.getCode(),this.gridProjection_.getCode(),[e[0],e[1],e[2],e[3]],[this.minXP_,this.minYP_,this.maxXP_,this.maxYP_],t,o,this.maxLines_,!!this.xLabelFormatter_,this.xLabelFormatter_,this.yLabelFormatter_,this.xLabelPosition_,this.yLabelPosition_,this.frameRatio_,{center:t,resolution:i,interval:n});this.meridians_=r.xLines.map((e=>new d.Z(e,h.Z.XY))),this.parallels_=r.yLines.map((e=>new d.Z(e,h.Z.XY))),this.meridiansLabels_=r.xLabels.map((e=>({...e,geom:new f.Z(e.geom)}))),this.parallelsLabels_=r.yLabels.map((e=>({...e,geom:new f.Z(e.geom)}))),this.frame_=r.frame?new p.ZP([r.frame.exterior,r.frame.interior],h.Z.XY):null}getMap(){return this.map_}getMeridians(){return this.meridians_}getParallels(){return this.parallels_}handlePostCompose_(e){const t=e.vectorContext,i=e.frameState,o=i.extent,n=i.viewState,r=n.center,a=n.projection,l=n.resolution,u=i.pixelRatio,m=l*l/(4*u*u);let c,d,p,f;for((!this.projection_||!(0,s.OP)(this.projection_,a))&&this.updateProjectionInfo_(a),this.createGraticule_(o,r,l,m),t.setFillStrokeStyle(null,this.strokeStyle_),c=0,d=this.meridians_.length;c<d;++c)p=this.meridians_[c],t.drawGeometry(p);for(c=0,d=this.parallels_.length;c<d;++c)p=this.parallels_[c],t.drawGeometry(p);if(this.frame_&&(t.setFillStrokeStyle(this.frameStyle_.getFill(),this.frameStyle_.getStroke()),t.drawGeometry(this.frame_)),this.meridiansLabels_)for(c=0,d=this.meridiansLabels_.length;c<d;++c)f=this.meridiansLabels_[c],this.xLabelStyle_.setText(f.text),t.setTextStyle(this.xLabelStyle_),t.drawGeometry(f.geom);if(this.parallelsLabels_)for(c=0,d=this.parallelsLabels_.length;c<d;++c)f=this.parallelsLabels_[c],this.yLabelStyle_.setText(f.text),t.setTextStyle(this.yLabelStyle_),t.drawGeometry(f.geom)}updateProjectionInfo_(e){const t=this.gridProjection_||(0,s.U2)("EPSG:4326"),i=e.getWorldExtent(),o=e.getExtent();this.maxY_=i[3],this.maxX_=i[2],this.minY_=i[1],this.minX_=i[0],this.maxYP_=o[3],this.maxXP_=o[2],this.minYP_=o[1],this.minXP_=o[0],this.fromTargetTransform_=(0,s.Ck)(t,e),this.toTargetTransform_=(0,s.Ck)(e,t),this.projectionCenterTarget_=this.toTargetTransform_((0,r.qg)(e.getExtent())),this.projection_=e}setMap(e){this.map_&&((0,n.bN)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),e&&(this.postcomposeListenerKey_=(0,n.oL)(e,a.Z.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e}};var w=i(93546);function L(e,t){let i=new R({strokeStyle:e.style?(0,w.C2)(e).getStroke():new u.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),xLabelStyle:e.labelXStyle?(0,w.C2)({style:{...e.labelXStyle,verticalAlign:e.labelXStyle.verticalAlign||"bottom",offsetY:0},properties:{isText:!0}})[0].getText():new m.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),yLabelStyle:e.labelYStyle?(0,w.C2)({style:{...e.labelYStyle,textAlign:e.labelYStyle.textAlign||"end",offsetY:0},properties:{isText:!0}})[0].getText():new m.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),showLabels:e.labels||!1,showFrame:e.frame||!1,frameRatio:e.frameRatio,frameStyle:e.frameStyle?(0,w.C2)({style:e.frameStyle}):new c.default({stroke:new u.default({color:"rgba(0,0,0,1)"}),fill:new l.default({color:"rgba(255,255,255,1)"})}),projection:e.srs,xLabelFormatter:e.xLabelFormatter,yLabelFormatter:e.yLabelFormatter});return i.setMap(t),{detached:!0,remove:()=>{i.setMap(null)}}}o.default.registerType("graticule",{create:L,update:(e,t,i,o)=>t.srs!==i.srs?(e.remove(),L(t,o)):null})},5348:(e,t,i)=>{"use strict";i(8010).default.registerType("mapquest",{create:e=>(e.onError(),!1),isValid:()=>!1})},39075:(e,t,i)=>{"use strict";var o=i(8010),n=i(51635),r=i(38225);o.default.registerType("osm",{create:e=>new r.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new n.Z,minResolution:e.minResolution,maxResolution:e.maxResolution}),update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},23281:(e,t,i)=>{"use strict";var o=i(8010),n=i(98143),r=i.n(n),s=i(93409);const a=e=>{if(0!==e.length)for(let t=0;t<e.length;t++){let i=e.item(t);i.removeAttribute("data-reactid"),a(i.children||[])}};o.default.registerType("overlay",{create:(e,t)=>{const i=((e,t)=>{let i=e.cloneNode(!0);i.id=t.id+"-overlay",i.className=(t.className||e.className)+"-overlay",i.removeAttribute("data-reactid"),a(i.children||[]);const o=t.closeClass||"close";if(t.onClose&&1===i.getElementsByClassName(o).length){const e=i.getElementsByClassName(o)[0],n=e=>{t.onClose(e.target.getAttribute("data-overlayid"))};r().add(e,"click",n)}if(t.onLink){let e=i.getElementsByTagName("a");for(let i=0;i<e.length;i++)r().add(e[i],"click",t.onLink)}return i})(document.getElementById(e.id),e);document.body.appendChild(i);const o=new s.Z({id:e.id,element:i,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(o),{detached:!0,remove:()=>{t.removeOverlay(o)}}}})},60470:(e,t,i)=>{"use strict";var o=i(27361),n=i.n(o),r=i(8010),s=i(36365),a=i(8930),l=i(38225);r.default.registerType("tms",{create:e=>new l.Z(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{minx:t,miny:i,maxx:o,maxy:r}=n()(e,"bbox.bounds",{}),l={projection:e.srs,url:`${e.tileMapUrl}/{z}/{x}/{-y}.${e.extension}`,attributions:e.attribution?[e.attribution]:[]};let u=new s.Z(l);const m=u.getTileGrid();if(e.forceDefaultTileGrid){const n=m.getExtent(),s=[n[0],n[1]],l=new a.Z({origin:s,extent:e.bbox&&[t,i,o,r],resolutions:m.getResolutions(),tileSize:e.tileSize});u.setTileGridForProjection(e.srs,l),"EPSG:3857"===e.srs&&u.setTileGridForProjection("EPSG:900913",l)}else e.tileSets&&u.setTileGridForProjection(e.srs,new a.Z({origin:e.origin,extent:e.bbox&&[t,i,o,r],resolutions:e.tileSets.map((e=>{let{resolution:t}=e;return t})),tileSize:e.tileSize}));return{msId:e.id,extent:e.bbox&&[t,i,o,r],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:u,minResolution:e.minResolution,maxResolution:e.maxResolution}}(e)),update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},86714:(e,t,i)=>{"use strict";var o=i(27418),n=i.n(o),r=i(8010),s=i(45992),a=i(90183),l=i(18056),u=i(36365),m=i(38225);function c(e,t){var[[i,o],[n,r]]=e;return a.default.reprojectBbox([o,i,r,n],"EPSG:4326",a.default.normalizeSRS(t))}r.default.registerType("tileprovider",{create:e=>{let[t,i]=s.Z.getLayerConfig(e.provider,e);return i.url=t,new m.Z(function(e){let t=e.url.match(/(\{s\})/)?(0,l.Um)(e):[(0,l.XK)(e.url,e)],i=n()({},{urls:t,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),o=new u.Z(i);return n()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:o,minResolution:e.minResolution,maxResolution:e.maxResolution},e.bounds?{extent:c(e.bounds,e.srs?e.srs:"EPSG:3857")}:{})}(i))},update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},37420:(e,t,i)=>{"use strict";var o=i(8010),n=i(93546),r=i(18446),s=i.n(r),a=i(97016),l=i(29902);o.default.registerType("vector",{create:e=>{const t=new a.Z({features:[]}),i=(0,n.C2)(e);return new l.Z({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:i,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution})},update:(e,t,i)=>{const o=i.crs||i.srs||"EPSG:3857",r=t.crs||t.srs||"EPSG:3857";r!==o&&e.getSource().forEachFeature((e=>{e.getGeometry().transform(o,r)})),s()(i.style,t.style)&&i.styleName===t.styleName||e.setStyle((0,n.C2)(t)),i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:()=>null})},3690:(e,t,i)=>{"use strict";var o=i(91175),n=i.n(o),r=i(72500),s=i.n(r),a=i(90183),l=i(52259),u=i(8010),m=i(33044),c=i(2285),d=i(21915),p=i(8930),f=i(51895),g=i(85926),y=i(4780),h=i(33358),x=i(29122);const b=e=>{const t=a.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),i=(0,c.U2)(t),o=i.getMetersPerUnit(),r=n()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((e=>{let{supportedCRS:i}=e;return i===t}))),{identifier:u,tileMatrix:b,boundingBox:v}=r||{},S=b&&b.map((e=>{let{scaleDenominator:t}=e;return t})),R=l.default.getResolutions(),w=e.resolutions||S&&S.map((e=>28e-5*e/o))||R,L="ne"===i.getAxisOrientation().substr(0,2),_=b&&b.map((function(){let{topLeftCorner:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).map((function(){let[e,t]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return L?[t,e]:[e,t]})),T=b&&b.map((e=>{let{tileWidth:t,tileHeight:i}=e;return[t,i]})),P=e.bbox,E=P?(0,d.Ne)([parseFloat(P.bounds.minx),parseFloat(P.bounds.miny),parseFloat(P.bounds.maxx),parseFloat(P.bounds.maxy)],(0,c.Ck)(P.crs,e.srs)):null,M=v&&v.lowerCorner&&v.upperCorner?[...v.lowerCorner,...v.upperCorner]:null,Z=new p.Z({extent:M,minZoom:0,origins:_,origin:_?void 0:[20037508.3428,-20037508.3428],resolutions:w,tileSizes:T,tileSize:T?void 0:[256,256]});let I=(e.url||"").replace(/\{tilingSchemeId\}/,u).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),z={};(0,m.addAuthenticationParameter)(I,z,e.securityToken);const C=decodeURI(I),F=s().format({query:{...z}}),j=(0,h.z)(e.format)&&x.y[e.format]||y.Z,G=new g.Z({format:new j({dataProjection:t,layerName:"_layer_"}),tileGrid:Z,url:C+F}),A=new f.Z({extent:E,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution});return(0,x.b)(e.vectorStyle,A),A};u.default.registerType("wfs3",{create:b,update:(e,t,i)=>i.securityToken!==t.securityToken||i.srs!==t.srs?b(t):(i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null),render:()=>null})},73576:(e,t,i)=>{"use strict";var o=i(8010),n=i(93546),r=i(97016),s=i(29902),a=i(69141),l=i(32420),u=i(43378),m=i(38848);const c=(e,t)=>(i,o,n)=>{const r=(0,u.v)(t);var s=n.getCode();const a=()=>{e.removeLoadedExtent(i),e.dispatchEvent("vectorerror")};(0,l.Bm)(t.url,t.name,{outputFormat:"application/json",srsname:s,...r}).then((t=>{200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):a()})).catch((e=>{a()}))},d=(e,t)=>(0,n.C2)({...e,style:{...e.style||{},type:t}}),p=(e,t)=>e.geometryType?e.setStyle(d(t,e.geometryType)):(0,l.v$)(t.url,t.name).then(m.mI).then((i=>{e.geometryType=i,e.setStyle(d(t,i))}));o.default.registerType("wfs",{create:e=>{const t=new r.Z({format:new a.Z});t.setLoader(c(t,e));const i=(0,n.C2)(e),o=new s.Z({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:i,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution});return p(o,e),o},update:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=i.crs||i.srs||"EPSG:3857",n=t.crs||t.srs||"EPSG:3857",r=e.getSource();n!==o&&r.forEachFeature((e=>{e.getGeometry().transform(o,n)})),(0,m.Es)(i,t)&&(r.setLoader(c(r,t)),r.clear(),r.refresh()),t.style===i.style&&t.styleName===i.styleName||p(e,t),i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:()=>null})},28437:(e,t,i)=>{"use strict";var o=i(24852),n=i.n(o),r=i(5346),s=i(8010),a=i(14293),l=i.n(a),u=i(18446),m=i.n(u),c=i(93386),d=i.n(c),p=i(1469),f=i.n(p),g=i(27418),y=i.n(g),h=i(75875),x=i.n(h),b=i(90183),v=i(23502),S=i(37275),R=i(43378),w=i(33044),L=i(24262),_=i(52259),T=i(3901),P=i(2305),E=i(92663),M=i(2285),Z=i(8930),I=i(38225),z=i(91587),C=i(85926),F=i(51895),j=i(33358),G=i(29122),A=i(53231);const k=(e,t)=>function(i,o){var n=i.getImage();if("function"==typeof window.btoa&&o.length>=(e.maxLengthUrl||(0,S.u8)("miscSettings")?.maxURLLength||1/0)){const[e,...i]=o.split("&");x().post(e,"&"+i.join("&"),{headers:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8",...t},responseType:"arraybuffer"}).then((e=>{if(200===e.status){const t=new Uint8Array(e.data);let i=t.length;const o=new Array(i);for(;i--;)o[i]=String.fromCharCode(t[i]);const r=o.join(""),s=e.headers["content-type"];0===s.indexOf("image")&&(n.src="data:"+s+";base64,"+window.btoa(r))}})).catch((e=>{console.error(e)}))}else t?x().get(o,{headers:t,responseType:"blob"}).then((e=>{200===e.status&&e.data?i.getImage().src=URL.createObjectURL(e.data):console.error("Status code: "+e.status)})).catch((e=>{console.error(e)})):n.src=o};function N(e){const t=(0,R.v)(e),i=y()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:b.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:b.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!l()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},y()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:(0,A.h)(e.env)}:{}));return(0,w.addAuthenticationToSLD)(i,e)}function O(e,t){var i=t;(0,v.$)(t)&&(i=(0,v.b)()+encodeURIComponent(t)),e.getImage().src=i}function U(e){return e.join(":")}function Y(e,t,i){let o=i;e&&(0,v.$)(i)&&(o=(0,v.b)()+encodeURIComponent(i));const n=t.getTileCoord();t.getImage().src="",(0,T.qR)(o,n,U(n))}function B(e){try{const t=function(e,t){const i=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,i.getView().getZoom())}(this,e),i=this.getSource().getTileGrid().getTileSize(),o=(0,T.yQ)(U(t),function(e,t,i){const o=e.getSource().getTileGrid(),n=o.getTileCoordExtent(i),r=o.getTileSize()/(n[2]-n[0]);return{x:Math.floor((t[0]-n[0])*r),y:Math.floor((n[3]-t[1])*r)}}(this,e,t),i,this.get("nodata"),this.get("littleEndian"));return o.available?o.value:n().createElement(r.Z,{msgId:o.message})}catch(e){return n().createElement(r.Z,{msgId:"elevationLoadingError"})}}const V=e=>e&&(0,L.go)(e)||void 0,X=(e,t)=>{const i=function(e){return e.map((e=>e.split("?")[0]))}(f()(e.url)?e.url:[e.url]),o=N(e)||{};i.forEach((t=>(0,w.addAuthenticationParameter)(t,o,e.securityToken)));const n=(0,w.getAuthenticationHeaders)(i[0],e.securityToken),r=(0,j.z)(e.format);if(e.singleTile&&!r)return new P.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new E.default({url:i[0],crossOrigin:e.crossOrigin,attributions:V(e.credits),params:o,ratio:e.ratio||1,imageLoadFunction:k(e,n)})});const s=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",a=b.default.normalizeSRS(e.srs||s,e.allowedSRS),l=(0,M.U2)(a).getExtent()||b.default.getExtentForProjection(a).extent,u=function(e,t){return t.useForElevation?y()({},e,{tileLoadFunction:Y.bind(null,[t.forceProxy])}):t.forceProxy?y()({},e,{tileLoadFunction:O}):e}({attributions:V(e.credits),urls:i,crossOrigin:e.crossOrigin,params:o,tileGrid:new Z.Z({extent:l,resolutions:e.resolutions||_.default.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[l[0],l[1]]}),tileLoadFunction:k(e,n)},e),m=new z.default({...u}),c={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution};let d;return d=r?new F.Z({...c,source:new C.Z({...u,format:new G.y[e.format]({layerName:"_layer_"}),tileUrlFunction:(e,t,i)=>m.tileUrlFunction(e,t,i)})}):new I.Z({...c,source:m}),d.set("map",t),r&&(d.set("wmsSource",m),e.vectorStyle&&(0,G.b)(e.vectorStyle,d)),e.useForElevation&&(d.set("nodata",e.nodata),d.set("littleEndian",e.littleendian??!1),d.set("getElevation",B.bind(d))),d};s.default.registerType("wms",{create:X,update:(e,t,i,o)=>{const n=(0,j.z)(t.format);if(((e,t)=>e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||(0,j.z)(e.format)!==(0,j.z)(t.format)||(0,j.z)(e.format)&&(0,j.z)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize)(i,t))return X(t,o);let r=!1;n&&t.vectorStyle&&!m()(t.vectorStyle,i.vectorStyle||{})&&((0,G.b)(t.vectorStyle,e),r=!0);const s=e.get("wmsSource")||e.getSource(),a=n?e.getSource():null;if(i.srs!==t.srs){const i=b.default.normalizeSRS(t.srs,t.allowedSRS),o=(0,M.U2)(i).getExtent()||b.default.getExtentForProjection(i).extent;if(t.singleTile&&!n)e.setExtent(o);else{const e=new Z.Z({extent:o,resolutions:t.resolutions||_.default.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[o[0],o[1]]});s.tileGrid=e,a&&(a.tileGrid=e)}r=!0}i.credits!==t.credits&&t.credits&&(s.setAttributions(V(t.credits)),r=!0);let u,c,p=!1;if(i&&s&&s.updateParams&&(i.params&&t.params?p=d()(Object.keys(i.params),Object.keys(t.params)).reduce(((e,o)=>t.params[o]!==i.params[o]||e),!1):(!i.params&&t.params||i.params&&!t.params)&&(p=!0),u=N(i),c=N(t),p=p||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce(((e,t)=>u[t]!==c[t]||e),!1),r=r||p),i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),r&&(s?.tileCache?.pruneExceptNewestZ?.(),a&&(a.clear(),a.refresh()),p)){const e=y()(c,(0,w.addAuthenticationToSLD)((0,R.v)(t)||{},t));s.updateParams(y()(e,Object.keys(u||{}).reduce(((t,i)=>l()(e[i])?y()(t,{[i]:void 0}):t),{})))}return null}})},7086:(e,t,i)=>{"use strict";var o=i(8010),n=i(84596),r=i.n(n),s=i(91175),a=i.n(s),l=i(10928),u=i.n(l),m=i(33044),c=i(7294),d=i(90183),p=i(52259),f=i(33358),g=i(72500),y=i.n(g),h=i(2285),x=i(21915),b=i(38225),v=i(51895),S=i(92200),R=i(85926),w=i(23241),L=i(4780),_=i(69141),T=i(96476),P=i(93546);const E={"application/vnd.mapbox-vector-tile":L.Z,"application/json;type=geojson":_.Z,"application/json;type=topojson":T.Z},M=e=>{let t="RESTful"===e.requestEncoding?"REST":e.requestEncoding;const i=function(e,t){return e.map((e=>"REST"===t?e:e.split("?")[0]))}(r()(e.url),t),o=d.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),n=(0,h.U2)(o),s=n.getMetersPerUnit(),{tileMatrixSetName:a,tileMatrixSet:l,matrixIds:g}=c.h7(e,o),L=l&&l?.TileMatrix.map((e=>Number(e.ScaleDenominator))),_=p.default.getResolutions(),T=e.resolutions||L&&L.map((e=>28e-5*e/s))||_,M="ne"===n.getAxisOrientation().substr(0,2),Z=l&&l.TileMatrix&&l.TileMatrix.map((function(){let{TopLeftCorner:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&d.default.parseString(e)})).map((function(){let{x:e,y:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M?[t,e]:[e,t]})),I=l&&l.TileMatrix&&l.TileMatrix.map((function(){let{MatrixWidth:e,MatrixHeight:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[parseInt(e,10),parseInt(t,10)]})),z=l&&l.TileMatrix&&l.TileMatrix.map((function(){let{TileWidth:e,TileHeight:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[parseInt(e,10),parseInt(t,10)]})),C=e.bbox,F=C?(0,x.Ne)([parseFloat(C.bounds.minx),parseFloat(C.bounds.miny),parseFloat(C.bounds.maxx),parseFloat(C.bounds.maxy)],(0,h.Ck)(C.crs,e.srs)):n.getExtent();let j=(0,x.Ed)(F,n.getExtent());(0,x.xb)(j)&&(j=n.getExtent());const G={};i.forEach((t=>(0,m.addAuthenticationParameter)(t,G,e.securityToken)));const A=y().format({query:{...G}}),k=e.maxResolution||u()(_.filter((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T[0]/e*256<.5}))),N=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",O=(0,f.z)(N),U={requestEncoding:t,urls:i.map((e=>e+A)),layer:e.name,version:e.version||"1.0.0",matrixSet:a,format:N,style:e.style||"",tileGrid:new w.Z({origins:Z,origin:Z?void 0:[20037508.3428,-20037508.3428],resolutions:T,matrixIds:c.Wg((g||c.nn(e)||[]).map((e=>e.identifier)),T.length),sizes:I,extent:j,tileSizes:z,tileSize:!z&&(e.tileSize||[256,256])}),wrapX:!0},Y=new S.Z(U),B=new(O?v.Z:b.Z)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution<k?e.maxResolution:k,visible:!1!==e.visibility,source:O?new R.Z({...U,format:new E[e.format]({dataProjection:o}),tileUrlFunction:function(){return Y.tileUrlFunction(...arguments)}}):Y});return O&&B.setStyle((0,P.C2)(e)),B};o.default.registerType("wmts",{create:M,update:(e,t,i)=>i.securityToken!==t.securityToken||i.srs!==t.srs||i.format!==t.format||i.style!==t.style?M(t):(i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null),isCompatible:e=>!!a()(d.default.getEquivalentSRS(e.srs||"EPSG:3857").filter((t=>((e,t)=>{const{tileMatrixSetName:i,tileMatrixSet:o}=c.h7(t,e);return o?d.default.getEPSGCode(o["ows:SupportedCRS"])===e:i===e})(t,e))))})},3498:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});const o={BingLayer:i(47098).default,GoogleLayer:i(73431).default,GraticuleLayer:i(30189).default,MapQuest:i(5348).default,OSMLayer:i(39075).default,OverlayLayer:i(23281).default,TMSLayer:i(60470).default,TileProviderLayer:i(86714).default,VectorLayer:i(37420).default,WFSLayer:i(73576).default,WFS3Layer:i(3690).default,WMSLayer:i(28437).default,WMTSLayer:i(7086).default}},3901:(e,t,i)=>{"use strict";i.d(t,{qR:()=>m,yQ:()=>c});var o=i(75875),n=i.n(o),r=i(81399),s=i.n(r),a=i(82702);let l=new(s())(100);const u=function(e,t,i,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=o*e+i;try{const e=t.dataView.getInt16(2*s,r);if(e!==n&&32767!==e&&-32768!==e)return e}catch(e){}return null},m=(e,t,i)=>l.has(i)?null:new a.Promise(((o,r)=>{n().get(e,{responseType:"arraybuffer"}).then((e=>{((e,t,i)=>{l.set(i,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})})(e.data,t,i),o()})).catch((e=>{((e,t,i)=>{l.set(i,{coords:t,current:!0,status:"error: "+e})})(e.message,t,i),r(e)}))})),c=function(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=l.get(e);return r&&"success"===r.status?{available:!0,value:u(i,r,t.x,t.y,o,n)}:r&&"loading"===r.status?{available:!1,message:"elevationLoading"}:r&&"error"===r.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}}},23502:(e,t,i)=>{"use strict";i.d(t,{$:()=>l,b:()=>u});var o=i(37275),n=i(1469),r=i.n(n),s=i(13218),a=i.n(s);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r()(e))return e.reduce(((e,t)=>l(t)&&e),!0);let i=!1,n=!(0===e.indexOf("http")),s=!n&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(s){let e=window.location;n=s[1]===e.protocol&&s[3]===e.hostname;let t=s[4],i=e.port;(80!==t&&""!==t||"80"!==i&&""!==i)&&(n=n&&t===i)}if(!n){let n=o.ZP.getProxyUrl(t);if(n){let t=[];a()(n)&&(t=n.useCORS||[],n=n.url),t.reduce(((t,i)=>t||0===e.indexOf(i)),!1)||(i=!0)}}return i},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.ZP.getProxyUrl(e);return t&&a()(t)&&(t=t.url),t}},45992:(e,t,i)=>{"use strict";i.d(t,{h:()=>a,Z:()=>l});var o=i(35937),n=i.n(o),r=i(36882),s=i(37275);const a=function(e,t){var i=r.Z;let o,a,l,u;if("custom"===e)o=t;else if(u=e.split("."),l=u[0],a=u[1],o=i[l],!o)throw new Error("No such provider ("+l+")");let m={url:o.url,options:o.options||{}};if(a&&"variants"in o){if(!(a in o.variants))throw new Error("No such variant of "+(l||o.url)+" ("+a+")");let e,t=o.variants[a];e="string"==typeof t?{variant:t}:t.options,m={url:t.url||m.url,options:{...m.options||{},...e}}}else"function"==typeof m.url&&(m.url=m.url(u.splice(1,u.length-1).join(".")));let c="file:"===window.location.protocol||m.options.forceHTTP;0===m.url.indexOf("//")&&c&&(m.url="http:"+m.url),m.options.retina&&(t.detectRetina&&s.ZP.getBrowserProperties().retina?t.detectRetina=!1:m.options.retina="");let d=function(e){return-1===e.indexOf("{attribution.")?e:e.replace(/\{attribution.(\w*)\}/,(function(e,t){return d(i[t].options.attribution)}))};m.options.attribution&&(m.options.attribution=d(m.options.attribution));let p={...m.options,...n()(t,(e=>void 0!==e))};return[m.url,p]},l={getLayerConfig:a}},18056:(e,t,i)=>{"use strict";i.d(t,{XK:()=>r,Um:()=>s,ut:()=>a});var o=i(1469),n=i.n(o);function r(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(\{(.*?)\})/g,(function(){let t=arguments[0],i=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(i))return arguments[0];let o=e[i];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",i=e.subdomains||"";return i&&("string"==typeof i&&(i=i.split("")),n()(i))?i.map((i=>r(t.replace("{s}",i),e))):["a","b","c"].map((i=>r(t.replace("{s}",i),e)))}const a=e=>(e.url.match(/(\{s\})/)?s(e):[r(e.url,e)])[0]},33358:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});const o=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],n=e=>-1!==o.indexOf(e)},23923:(e,t,i)=>{"use strict";i.d(t,{A4:()=>l,u3:()=>u});var o=i(23560),n=i.n(o);function r(e,t,i){var o=void 0!==i?e.toFixed(i):""+e,n=o.indexOf(".");return(n=-1===n?o.length:n)>t?o:new Array(1+t-n).join("0")+o}const s={standard:e=>t=>{return"EPSG:4326"===t?(i="x"===e?"EW":"NS",e=>{var t,o=(360*(t=(e+180)%360)<0?t+360:t)-180,n=Math.abs(3600*o),s=Math.floor(n/3600),a=Math.floor((n-3600*s)/60),l=n-3600*s-60*a;return(l=Math.ceil(l))>=60&&(l=0,a+=1),a>=60&&(a=0,s+=1),s+"° "+r(a,2)+"′ "+r(l,2,0)+"″"+(0===o?"":" "+i.charAt(o<0?1:0))}):e=>String(Math.round(e));var i}};function a(e,t,i){return n()(i)?i(e,t):s[i||"standard"](t)(e)}function l(e,t){return a(e,"x",t)}function u(e,t){return a(e,"y",t)}},84023:(e,t,i)=>{"use strict";i.d(t,{bL:()=>x,ZS:()=>b,uI:()=>P,XA:()=>M});var o=i(90173),n=i(90183),r=i(49232),s=i(23923),a=i(8400),l=i.n(a),u=i(75472),m=i.n(u),c=i(52259);function d(e,t,i){const[o,n]=e,[r,s]=t,[a,l]=i,u=a-r,m=l-s;let c=r,d=s;if(0!==u||0!==m){const e=((o-r)*u+(n-s)*m)/(u*u+m*m);e>1?(c=a,d=l):e>0&&(c+=u*e,d+=m*e)}return function(e,t,i,o){return Math.pow(i-e,2)+Math.pow(o-t,2)}(o,n,c,d)}const p=1e4;function f(e,t,i){const o=t(e);return{fraction:e,point:o,reprojected:i(o)}}function g(e,t,i,n){const r=(0,o.default)(t,i).forward;let{fractions:s,line:a,reprojectedLine:l}=function(e,t,i){const o=e.map(t);return{fractions:e,line:o,reprojectedLine:o.map(i)}}([0,1],e,r),u=[];u=function(e,t){return e.push(t[0]),e.push(t[1]),e}(u,l[0]);let m=0;for(;m<p&&s.length>0;){const t=s.shift(),i=s.shift(),o=a.shift(),c=a.shift(),p=l.shift(),g=l.shift(),{fraction:y,point:h,reprojected:x}=f((t+i)/2,e,r);d(x,p,g)<n?(u.push(g[0]),u.push(g[1])):(s.unshift(t,y,y,i),a.unshift(o,h,h,c),l.unshift(p,x,x,g)),m++}return u}function y(e,t,i){return Math.min(Math.max(e,t),i)}const h={degrees:[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],m:[1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100]};function x(e){const t=o.default.defs(e);return h[t?.units??"m"]}function b(e,t,i,o,n){const[r,s]=t,a=Math.pow(i*o,2);return e.reduce(((e,t)=>{const i=t/2,o=n([r-i,s-i]),l=n([r+i,s+i]);return Math.pow(l[0]-o[0],2)+Math.pow(l[1]-o[1],2)>a?t:e}),-1)}function v(e,t,i,o,n){return e.map(((e,r)=>{const s=function(e,t,i){const o=Math.max(t[1],e[1]),n=Math.min(t[3],e[e.length-1]),r=y(t[1]+Math.abs(t[1]-t[3])*i,o,n);return[e[0],r]}(e,t,o);return{geom:s,text:i(e[0],{...n,index:r,extent:t})}}))}function S(e,t,i,o,n){return e.map(((e,r)=>{const s=function(e,t,i){const o=Math.max(t[0],e[0]),n=Math.min(t[2],e[e.length-2]);return[y(t[0]+Math.abs(t[0]-t[2])*i,o,n),e[1]]}(e,t,o);return{geom:s,text:i(e[1],{...n,index:r,extent:t})}}))}function R(e,t,i){return Math.round((t-e)/i)+1}function w(e,t,i,o){return[...Array(R(i,o,Math.abs(t))-1).keys()].map((n=>y(e+(n+1)*t,i,o)))}function L(e,t){return(0,r.Z)({type:"Feature",geometry:{type:"LineString",coordinates:[[e[0],e[1]],[e[2],e[3]]]}},(0,n.bboxToFeatureGeometry)(t))}function _(e,t){return e.slice(0,t)}function T(e){const[t,i,o,n]=e;return[[t,i],[o,i],[o,n],[t,n],[t,i]]}function P(e,t,i,r,s,a,l,u,c,d,p,f,h,x){let b=arguments.length>14&&void 0!==arguments[14]?arguments[14]:{};if(-1===e)return{xLines:[],yLines:[],xLabels:[],yLabels:[],frame:null};const R=(0,o.default)(t,i).forward,[P,E]=R(a),[M,Z,I,z]=(0,n.reprojectBbox)([Math.max(r[0],s[0]),Math.max(r[1],s[1]),Math.min(r[2],s[2]),Math.min(r[3],s[3])],t,i||"EPSG:4326"),[C,F,j,G]=(0,n.reprojectBbox)(s,t,i||"EPSG:4326"),A=y(Math.floor(P/e)*e,C,j),k=m()(w(A,-e,C,A)),N=m()(w(A,e,A,j)),O=y(Math.floor(E/e)*e,F,G),U=m()(w(O,-e,F,O)),Y=m()(w(O,e,O,G)),B=_([...k,A,...N].map((e=>function(e,t,i,o,n,r){return function(e,t,i,o,n,r){return g((function(o){return[e,t+(i-t)*o]}),o,n,r)}(e,t,i,n,r,o)}(e,Z,z,l,i||"EPSG:4326",t))).filter((e=>L(e,r))),u),V=_([...U,O,...Y].map((e=>function(e,t,i,o,n,r){return function(e,t,i,o,n,r){return g((function(o){return[t+(i-t)*o,e]}),o,n,r)}(e,t,i,n,r,o)}(e,M,I,l,i||"EPSG:4326",t))).filter((e=>L(e,r))),u),X=x?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;const[i,o,n,r]=e,s=Math.max(n-i,r-o)*t/2,a=[i+s,o+s,n-s,r-s];return{exterior:T([i-s,o-s,n+s,r+s]),interior:T(a)}}(r,x):null;return{xLines:B,yLines:V,xLabels:c?v(B,r,d,f,b):[],yLabels:c?S(V,r,p,h,b):[],frame:X}}function E(e){return[(e[2]+e[0])/2,(e[3]+e[1])/2]}function M(e){let{mapProjection:t,gridProjection:i,extent:r,center:a=null,zoom:u,withLabels:m=!1,xLabelFormatter:d,yLabelFormatter:p,xLabelPosition:f=0,yLabelPosition:g=1,maxLines:y=100,intervals:h,targetSize:v=100,resolutions:S,xLabelStyle:R,yLabelStyle:w,pixelRatio:L=devicePixelRatio,frameSize:_=0}=e;const T=(S??(0,c.getResolutions)(t))[u],M=(0,o.default)(t,i).forward,Z=(0,o.default)(i,t).forward,I=M(E((0,n.getExtentForProjection)(i).extent)),z=b(h??x(i),I,v,T,Z),C=T*T/(4*L*L),F=P(z,t,i,r,(0,n.getExtentForProjection)(t).extent,a??E(r),C,y,m,(0,s.A4)(i,d),(0,s.u3)(i,p),f,g,_,{center:a,resolution:T,interval:z}),j=[...F.xLines,...F.yLines].map((e=>({type:"Feature",properties:{ms_style:"lines"},geometry:{type:"LineString",coordinates:l()(e,2)}}))),G=[...F.xLabels].map((e=>({type:"Feature",properties:{ms_style:R?{...R,label:e.text}:"xlabels",valueText:e.text},geometry:{type:"Point",coordinates:e.geom}}))),A=[...F.yLabels].map((e=>({type:"Feature",properties:{ms_style:w?{...w,label:e.text}:"ylabels",valueText:e.text},geometry:{type:"Point",coordinates:e.geom}})));return{type:"FeatureCollection",features:[...j,...F.frame?[F.frame].map((e=>({type:"Feature",properties:{ms_style:"frame"},geometry:{type:"Polygon",coordinates:[e.exterior,e.interior]}}))):[],...G,...A]}}},29122:(e,t,i)=>{"use strict";i.d(t,{y:()=>a,b:()=>l});var o=i(4780),n=i(69141),r=i(96476),s=i(93546);const a={"application/vnd.mapbox-vector-tile":o.Z,"application/json;type=geojson":n.Z,"application/json;type=topojson":r.Z},l=(e,t)=>{(0,s.C2)({asPromise:!0,style:e}).then((e=>{t.setStyle(e)})).catch((()=>{}))}}}]);