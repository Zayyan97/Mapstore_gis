(self.webpackChunkMyMapStoreProject=self.webpackChunkMyMapStoreProject||[]).push([[3400],{31566:(e,t,r)=>{var o={"./CRSSelector.jsx":18790,"./MousePosition.jsx":11914,"./MousePositionLabelDD.jsx":59560,"./MousePositionLabelDM.jsx":84848,"./MousePositionLabelDMS.jsx":47461,"./MousePositionLabelDMSNW.jsx":95762,"./MousePositionLabelYX.jsx":54717};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=31566},62769:(e,t,r)=>{var o={"./cesium/plugins/index":[55521,9,6180,5521,5522],"./leaflet/plugins/index":[35701,7,9993,5701,475],"./openlayers/plugins/index":[3498,9,509,4171,4108,5450,5604,4636,3546,3498,2600]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return Promise.all(t.slice(2).map(r.e)).then((()=>r.t(n,16|t[1])))}n.keys=()=>Object.keys(o),n.id=62769,e.exports=n},86450:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(24852);const n=(e,t)=>{const[n,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),l=(0,o.useRef)(),p=(0,o.useRef)();return(0,o.useEffect)((()=>(p.current=!0,()=>{p.current=!1})),[]),(0,o.useEffect)((()=>(e&&!l.current&&(i(!1),s(null),r(87376)("./"+e+"/"+t).then((e=>{p.current&&(l.current=e.default,i(!0))})).catch((e=>{p.current&&s(e)}))),()=>{})),[e]),[n,l.current,a]}},87376:(e,t,r)=>{var o={"./hooks/useMapTool":[86450],"./hooks/useMapTool.js":[86450],"./leaflet/locate":[5095,5095],"./leaflet/locate.js":[5095,5095],"./openlayers/locate":[8934,509,4171,4108,8934],"./openlayers/locate.js":[8934,509,4171,4108,8934]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(n)))}n.keys=()=>Object.keys(o),n.id=87376,e.exports=n},19137:(e,t,r)=>{var o={"./cesium/index":[91726,6180,9692,9216,2227],"./leaflet/index":[97611,2659,3991,9427,8324],"./openlayers/index":[64385,509,4171,4108,5450,5053,8471,9889,6830,8484,3546,6909,4693,4385]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(n)))}n.keys=()=>Object.keys(o),n.id=19137,e.exports=n},60604:(e,t,r)=>{"use strict";r.d(t,{hn:()=>o,yg:()=>n,vD:()=>i,jJ:()=>a,oy:()=>s,W:()=>l,fU:()=>p,cY:()=>c});const o="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",n="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",s="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",l=function(e,t){return{type:a,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},p=function(){let{id:e,owner:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n,id:e,owner:t}},c=e=>({type:i,owner:e})},42780:(e,t,r)=>{"use strict";r.d(t,{g:()=>o}),r(91175);const o=()=>({type:"ANNOTATIONS:CLOSE"})},53001:(e,t,r)=>{"use strict";r.d(t,{vw:()=>n});const o="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function n(e){return{type:o,allow:e}}},41156:(e,t,r)=>{"use strict";r.d(t,{gd:()=>n,zZ:()=>i});const o="BOX_END",n="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:o,boxEndInfo:e}}},31273:(e,t,r)=>{"use strict";r.d(t,{WX:()=>l,r7:()=>p,V3:()=>c,ur:()=>m,CO:()=>b,mh:()=>_,$Y:()=>S,UT:()=>P,xM:()=>x,tt:()=>C,nX:()=>w,Rc:()=>M,K4:()=>I,Dw:()=>L,In:()=>A,N3:()=>R,SU:()=>F,ye:()=>D,m:()=>N,bu:()=>k,A4:()=>G,ky:()=>j,We:()=>Z,nx:()=>U,E9:()=>B});var o=r(59551),n=r(67007),i=r(3475),a=r(32354),s=r(97395);o.ZP,n.ZP,i.Z,a.Z;const l="CATALOG:ADD_LAYERS_FROM_CATALOGS",p="CATALOG:ADD_LAYER_AND_DESCRIBE",c="CATALOG:TEXT_SEARCH",u="CATALOG:RECORD_LIST_LOADED",d="CATALOG:RESET_CATALOG",m="CATALOG:CATALOG_CLOSE",g="CATALOG:RECORD_LIST_LOAD_ERROR",h="CATALOG:DESCRIBE_ERROR",f="CATALOG:CHANGE_SELECTED_SERVICE",y="CATALOG:CHANGE_CATALOG_MODE",b="CATALOG:CHANGE_TEXT",E="CATALOG:ADD_CATALOG_SERVICE",v="CATALOG:DELETE_CATALOG_SERVICE",_="CATALOG:ADD_SERVICE",S="CATALOG:DELETE_SERVICE",T="CATALOG:SAVING_SERVICE",P="CATALOG:GET_METADATA_RECORD_BY_ID",O="CATALOG:SET_LOADING",x="CATALOG:FORMAT_OPTIONS_FETCH";function C(){let{format:e,url:t,startPosition:r,maxRecords:o,text:n,options:i={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:c,format:e,url:t,startPosition:r,maxRecords:o,text:n,options:i}}function w(e,t){return{type:u,searchOptions:e,result:t}}function M(e){return{type:T,status:e}}function I(){return{type:O,loading:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}function L(e){return{type:f,service:e}}function A(e,t){return{type:y,mode:e,isNew:t}}function R(e){return{type:E,service:e}}function F(e){return{type:v,service:e}}function D(){return{type:d}}function N(e){return{type:g,error:e}}function k(e,t){return{type:h,layer:e,error:t}}const G=function(e){let{zoomToLayer:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:p,layer:e,zoomToLayer:t}};function j(e){return{type:P,metadataOptions:e}}const Z=e=>({type:"CATALOG:FORMAT_OPTIONS_LOADING",loading:e}),U=(e,t)=>({type:"CATALOG:SET_FORMAT_OPTIONS",formats:e,url:t});function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},81808:(e,t,r)=>{"use strict";r.d(t,{eD:()=>o,AM:()=>n,ok:()=>i,Gg:()=>a,nT:()=>s,TL:()=>l,KS:()=>p,EB:()=>c,DZ:()=>u,Aw:()=>d,V_:()=>m,H0:()=>g,jW:()=>h,vo:()=>f,JZ:()=>y,fQ:()=>b,HK:()=>E,YO:()=>v,I6:()=>_});const o="MAP:LOAD_NEW_MAP",n="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",a="MAP_CONFIG_LOAD_ERROR",s="MAP_LOAD_INFO",l="MAP_INFO_LOAD_START",p="MAP_INFO_LOADED",c="MAP_INFO_LOAD_ERROR",u="MAP:MAP_SAVE_ERROR",d="MAP:MAP_SAVED",m="MAP:RESET_MAP_SAVE_ERROR";function g(e,t,r){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:r}}function h(e,t){return{type:a,error:e,mapId:t}}function f(e,t){return{type:o,configName:e,contextId:t}}function y(e,t,r,o,i){return{type:n,configName:e,mapId:t,config:r,mapInfo:o,overrideConfig:i}}function b(e,t){return{type:p,mapId:t,info:e}}function E(e,t){return{type:c,mapId:e,error:t}}function v(e){return{type:l,mapId:e}}function _(e){return{type:s,mapId:e}}},82904:(e,t,r)=>{"use strict";r.d(t,{kM:()=>s,At:()=>l,dc:()=>p,l:()=>c,Xi:()=>u,Xg:()=>d,pu:()=>m,fV:()=>g});var o=r(17204),n=r.n(o),i=r(8400),a=r.n(i);const s="TOGGLE_CONTROL",l="SET_CONTROL_PROPERTY",p="SET_CONTROL_PROPERTIES",c="RESET_CONTROLS";function u(e,t){return{type:s,control:e,property:t}}function d(e,t,r,o){return{type:l,control:e,property:t,value:r,toggle:o}}function m(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return{type:p,control:e,properties:n()(a()(r,2))}}function g(){return{type:c,skip:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}},56826:(e,t,r)=>{"use strict";r.d(t,{eR:()=>o,f8:()=>n,UD:()=>i,g9:()=>a,hi:()=>s,bR:()=>l,XT:()=>p,UJ:()=>c,nf:()=>u});const o="DETAILS:OPEN_DETAILS_PANEL",n="DETAILS:CLOSE_DETAILS_PANEL",i="MAPS:UPDATE_DETAILS",a="DETAILS:DETAILS_LOADED",s="NO_DETAILS_AVAILABLE",l=e=>({type:i,detailsText:e}),p=(e,t,r)=>({type:a,mapId:e,detailsUri:t,detailsSettings:r}),c=()=>({type:o}),u=()=>({type:n})},4206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>o,pb:()=>n,kD:()=>i,DI:()=>a,IC:()=>s,Vw:()=>c,KD:()=>u,uj:()=>d,lo:()=>m,Yf:()=>g,fo:()=>h,PY:()=>f});const o="CHANGE_DRAWING_STATUS",n="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",s="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",p="DRAW:DRAWING_FEATURES";function c(e,t,r,o,n){return{type:a,features:e,owner:t,enableEdit:r,textChanged:o,circleChanged:n}}function u(){return{type:l,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function d(){return{type:p,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function m(){return{type:s}}function g(e,t,r,n,i,a){return{type:o,status:e,method:t,owner:r,features:n,options:i,style:a}}function h(e,t){return{type:n,geometry:e,owner:t}}function f(e){return{type:i,currentStyle:e}}},33528:(e,t,r)=>{"use strict";r.d(t,{$O:()=>i,sF:()=>a,DA:()=>s,WB:()=>l,a8:()=>c,lg:()=>u,YV:()=>d});const o="FEATUREGRID:TOGGLE_MODE",n="QUERY:UPDATE_FILTER",i="FEATUREGRID:OPEN_GRID",a="FEATUREGRID:CLOSE_GRID",s="FEATUREGRID:SIZE_CHANGE",l="FEATUREGRID:SET_SYNC_TOOL",p={EDIT:"EDIT",VIEW:"VIEW"};function c(e){return{type:n,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function u(){return{type:o,mode:p.EDIT}}function d(){return{type:a}}},98939:(e,t,r)=>{"use strict";r.d(t,{d2:()=>o,yX:()=>n,Uo:()=>i,n2:()=>a,SA:()=>s});const o="CHANGE_HELP_STATE",n="CHANGE_HELP_TEXT",i="CHANGE_HELPWIN_VIZ";function a(e){return{type:n,helpText:e}}function s(e){return{type:i,helpwinViz:e}}},29386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>o,fu:()=>n,NF:()=>i,_E:()=>a});const o="HIGHLIGHT_STATUS",n="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e,t){return{type:n,features:e,status:t}}},90825:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var o=r(80416),n=r(67007);r(32420),r(75875),r(72500),r(27418),r(5055);var i=r(24262);function a(e,t){const r=(0,i.Fh)(e);return a=>(a((0,o.tV)(e.id,"id",{capabilitiesLoading:!0})),n.ZP.getCapabilities(r,t).then((t=>{const r=n.ZP.parseLayerCapabilities(t,e);a(r?(0,o.tV)(e.id,"id",(0,i.IA)(r)):(0,o.tV)(e.id,"id",{capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:"no layer info"},description:null}))})).catch((t=>{a((0,o.tV)(e.id,"id",{capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:t},description:null}))})))}r(27361),r(38848)},40512:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>n});const o="LAYER_FILTER:OPEN_QUERY_BUILDER";function n(){return{type:o}}},80416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>o,Zz:()=>n,ms:()=>i,ih:()=>a,OX:()=>l,sb:()=>p,K$:()=>c,k7:()=>u,cX:()=>d,x9:()=>m,vs:()=>g,oE:()=>h,Po:()=>f,qv:()=>y,cI:()=>b,g6:()=>E,I4:()=>v,l$:()=>_,Xv:()=>S,k3:()=>T,CQ:()=>P,sH:()=>C,c7:()=>w,_7:()=>M,eF:()=>I,O6:()=>L,ED:()=>A,RP:()=>R,sF:()=>F,VP:()=>D,He:()=>N,vO:()=>k,WO:()=>G,bh:()=>j,pV:()=>Z,ZF:()=>U,tV:()=>B,Dv:()=>q,Yz:()=>z,kI:()=>W,XG:()=>H,A4:()=>V,ct:()=>K,oh:()=>Y,$h:()=>$,ud:()=>X,Qr:()=>Q,LR:()=>J,nN:()=>ee,UG:()=>te,F5:()=>re,c9:()=>oe,Jh:()=>ne});const o="CHANGE_LAYER_PROPERTIES",n="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",s="CONTEXT_NODE",l="SORT_NODE",p="REMOVE_NODE",c="UPDATE_NODE",u="MOVE_NODE",d="LAYER_LOADING",m="LAYER_LOAD",g="LAYER_ERROR",h="ADD_LAYER",f="ADD_GROUP",y="REMOVE_LAYER",b="SHOW_SETTINGS",E="HIDE_SETTINGS",v="UPDATE_SETTINGS",_="REFRESH_LAYERS",S="LAYERS:UPDATE_LAYERS_DIMENSION",T="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",O="LAYERS:BROWSE_DATA",x="LAYERS:DOWNLOAD",C="LAYERS:CLEAR_LAYERS",w="LAYERS:SELECT_NODE",M="LAYERS:FILTER_LAYERS",I="LAYERS:SHOW_LAYER_METADATA",L="LAYERS:HIDE_LAYER_METADATA",A="LAYERS:UPDATE_SETTINGS_PARAMS";function R(e,t,r){return{type:b,node:e,nodeType:t,options:r}}function F(){return{type:E}}function D(e){return{type:v,options:e}}function N(e,t){return{type:o,newProperties:t,layer:e}}function k(e,t){return{type:n,layer:e,params:t}}function G(e,t){return{type:i,newProperties:t,group:e}}function j(e,t,r){return{type:a,node:e,nodeType:t,status:!r}}function Z(e){return{type:s,node:e}}function U(e,t){return{type:p,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function B(e,t,r){return{type:c,node:e,nodeType:t,options:r}}function q(e,t,r){return{type:u,node:e,groupId:t,index:r}}function z(e){return{type:d,layerId:e}}function W(e,t){return{type:m,layerId:e,error:t}}function H(e,t,r){return{type:g,layerId:e,tilesCount:t,tilesErrorCount:r}}function V(e){return{type:h,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function K(e,t){return{type:o,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function Y(e){return{type:T,layers:e}}function $(e,t){return{type:P,layers:e,error:t}}function X(e,t,r,o){return{type:S,dimension:e,value:t,options:r,layers:o}}function Q(e){return{type:O,layer:e}}function J(e){return{type:x,layer:e}}function ee(){return{type:C}}function te(e,t,r){return{type:w,id:e,nodeType:t,ctrlKey:r}}function re(e){return{type:M,text:e}}function oe(e,t){return{type:I,metadataRecord:e,maskLoading:t}}function ne(){return{type:L}}},1550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>o,TR:()=>n,N7:()=>i,mq:()=>a,uv:()=>s,Qy:()=>l,IL:()=>p,Li:()=>c,OW:()=>u,ZO:()=>d,Um:()=>m,TF:()=>g,Ls:()=>h,Ec:()=>f,Eu:()=>y,JJ:()=>b,nZ:()=>E,YD:()=>v,GI:()=>_,Jb:()=>S,Uh:()=>T,e$:()=>P,eh:()=>O,$j:()=>x,Mk:()=>C,xy:()=>w,o6:()=>M,FP:()=>I,Mo:()=>L,Px:()=>A,hd:()=>R,y9:()=>F,BV:()=>D,SO:()=>N,H0:()=>k,$X:()=>G,ou:()=>j,NE:()=>Z,Lq:()=>U});const o="CHANGE_MAP_VIEW",n="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",s="PAN_TO",l="ZOOM_TO_EXTENT",p="ZOOM_TO_POINT",c="CHANGE_MAP_CRS",u="CHANGE_MAP_SCALES",d="CHANGE_MAP_STYLE",m="CHANGE_ROTATION",g="CREATION_ERROR_LAYER",h="UPDATE_VERSION",f="INIT_MAP",y="RESIZE_MAP",b="CHANGE_MAP_LIMITS",E="SET_MAP_RESOLUTIONS",v="REGISTER_EVENT_LISTENER",_="UNREGISTER_EVENT_LISTENER",S="MOUSE_MOVE",T="MOUSE_OUT",P="MAP:MAP_PLUGIN_LOAD",O="MAP:ORIENTATION",x="MAP:UPDATE_MAP_VIEW";function C(e,t,r,o){return{type:P,mapType:t,loading:e,loaded:r,error:o}}function w(e,t,r){return{type:p,pos:e,zoom:t,crs:r}}function M(e,t,r,n,i,a,s,l){return{type:o,center:e,zoom:t,bbox:r,size:n,mapStateSource:i,projection:a,viewerOptions:s,resolution:l}}function I(e,t){return{type:n,point:e,layer:t}}function L(e){return{type:i,pointer:e}}function A(e,t,r,o){return{type:l,extent:e,crs:t,maxZoom:r,options:o}}function R(e,t){return{type:d,style:e,mapStateSource:t}}function F(e){return{type:f,disableFeedbackMask:e}}function D(e){let{restrictedExtent:t,crs:r,minZoom:o}=e;return{type:b,restrictedExtent:t,crs:r,minZoom:o}}function N(e){return{type:E,resolutions:e}}const k=(e,t)=>({type:v,eventName:e,toolName:t}),G=(e,t)=>({type:_,eventName:e,toolName:t}),j=e=>({type:S,position:e}),Z=()=>({type:T}),U=e=>({type:O,orientation:e})},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>n,km:()=>i,Ih:()=>a,Xw:()=>s,Pn:()=>l,DZ:()=>p,e8:()=>c,E0:()=>u,F9:()=>d,X_:()=>m,pb:()=>g,qb:()=>h,Re:()=>f,ih:()=>y,xy:()=>b,jL:()=>E,oz:()=>v,ph:()=>_,lF:()=>S,gG:()=>T,cb:()=>P,GI:()=>O,B1:()=>x,fv:()=>C,gc:()=>w,zX:()=>M,ZF:()=>I,Zb:()=>L,DW:()=>A,Xp:()=>R,Fm:()=>F,sV:()=>D,Mn:()=>N,LU:()=>k,XP:()=>G,WU:()=>j,JB:()=>Z,g:()=>U,ws:()=>B,HP:()=>q,aN:()=>z,Pg:()=>H,u0:()=>V,TM:()=>K,PM:()=>Y,lK:()=>$,sv:()=>X,MO:()=>Q,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>oe,ZM:()=>ne,wm:()=>ie,Y$:()=>ae,Qu:()=>se,kT:()=>le});var o=r(47310);const n="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",s="CHANGE_MAPINFO_STATE",l="NEW_MAPINFO_REQUEST",p="PURGE_MAPINFO_RESULTS",c="CHANGE_MAPINFO_FORMAT",u="SHOW_MAPINFO_MARKER",d="HIDE_MAPINFO_MARKER",m="SHOW_REVERSE_GEOCODE",g="HIDE_REVERSE_GEOCODE",h="GET_VECTOR_INFO",f="NO_QUERYABLE_LAYERS",y="CLEAR_WARNING",b="FEATURE_INFO_CLICK",E="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",v="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",_="TOGGLE_MAPINFO_STATE",S="UPDATE_CENTER_TO_MARKER",T="IDENTIFY:CHANGE_PAGE",P="IDENTIFY:CLOSE_IDENTIFY",O="IDENTIFY:CHANGE_FORMAT",x="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",C="IDENTIFY:EDIT_LAYER_FEATURES",w="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",M="IDENTIFY:SET_MAP_TRIGGER",I="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",L="IDENTIFY:SET_SHOW_IN_MAP_POPUP",A="IDENTIFY:IDENTIFY_IS_MOUNTED",R="IDENTIFY:INIT_PLUGIN";function F(e,t,r,o,i){return{type:n,data:t,reqId:e,requestParams:r,layerMetadata:o,layer:i}}function D(e,t,r,o){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:o}}function N(e,t,r,o){return{type:a,reqId:e,exceptions:t,requestParams:r,layerMetadata:o}}function k(){return{type:f}}function G(){return{type:y}}function j(e,t){return{type:l,reqId:e,request:t}}function Z(e,t,r,o){return{type:h,layer:e,request:t,metadata:r,queryableLayers:o}}function U(){return{type:p}}function B(e){return{type:c,infoFormat:e}}function q(){return{type:u}}function z(){return{type:d}}function W(e){return{type:m,reverseGeocodeData:e.data}}function H(e){return t=>{o.Z.reverseGeocode(e).then((e=>{t(W(e))})).catch((e=>{t(W(e))}))}}function V(){return{type:g}}function K(){return{type:_}}function Y(e){return{type:S,status:e}}function $(e,t){return{type:b,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function X(e){return{type:E,point:e}}function Q(e){return{type:v,enabled:e}}function J(e){return{type:T,index:e}}const ee=()=>({type:P}),te=e=>({type:O,format:e}),re=e=>({type:x,showCoordinateEditor:e}),oe=e=>({type:C,layer:e}),ne=e=>({type:w,query:e}),ie=e=>({type:M,trigger:e}),ae=e=>({type:L,value:e}),se=e=>({type:A,isMounted:e}),le=e=>({type:R,cfg:e})},73814:(e,t,r)=>{"use strict";r.d(t,{xO:()=>o,HH:()=>n,yp:()=>i,i8:()=>a,hC:()=>s,UK:()=>l});const o="MAP:ADD_POPUP",n="MAP:REMOVE_POPUP",i="MAP:CLEAN_POPUPS",a=function(e,t){return{type:o,id:e,popup:{id:e,...t},single:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]}},s=e=>({type:n,id:e}),l=()=>({type:i})},89602:(e,t,r)=>{"use strict";r.d(t,{Bd:()=>p,$3:()=>c,CG:()=>u,wB:()=>d,Y_:()=>m,nl:()=>g});const o="CHANGE_MEASUREMENT_TOOL",n="CHANGE_MEASUREMENT_STATE",i="MEASUREMENT:CHANGED_GEOMETRY",a="MEASUREMENT:SET_TEXT_LABELS",s="MEASUREMENT:RESET_GEOMETRY",l="MEASUREMENT:UPDATE_MEASURES";function p(e){return t=>{t(function(e){return{type:o,...e}}(e))}}function c(e){return{type:i,features:e}}function u(e){return{type:a,textLabels:e}}function d(){return{type:s}}function m(e){return{type:l,measures:e}}function g(e){return{type:n,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}},97395:(e,t,r)=>{"use strict";r.d(t,{Vp:()=>i,vU:()=>a,Kp:()=>s});const o="SHOW_NOTIFICATION";function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{type:o,...e,uid:e.uid||Date.now(),level:t}}function i(e){return n(e,"success")}function a(e){return n(e,"error")}function s(e){return n(e,"warning")}},7878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>o,vo:()=>n,l1:()=>i,J9:()=>a,U:()=>s,z8:()=>l,ql:()=>p,O_:()=>c,M$:()=>u,Ug:()=>d,p5:()=>m,Fz:()=>g,WZ:()=>h,bP:()=>f,d_:()=>y,xM:()=>b,bl:()=>E,Wi:()=>v,PN:()=>_,_M:()=>S,Eg:()=>T,V1:()=>P,cY:()=>O,RD:()=>x,Hl:()=>C,co:()=>w,uY:()=>M,H8:()=>I,je:()=>L,go:()=>A,_8:()=>R,xd:()=>F,o7:()=>D,Nr:()=>N,Gf:()=>k,nh:()=>G,Rf:()=>j,Xp:()=>Z,D6:()=>U,Sm:()=>B,Ef:()=>q}),r(75875);const o="ADD_FILTER_FIELD",n="REMOVE_FILTER_FIELD",i="UPDATE_FILTER_FIELD",a="UPDATE_EXCEPTION_FIELD",s="ADD_GROUP_FIELD",l="UPDATE_LOGIC_COMBO",p="REMOVE_GROUP_FIELD",c="CHANGE_CASCADING_VALUE",u="EXPAND_ATTRIBUTE_PANEL",d="EXPAND_SPATIAL_PANEL",m="QUERYFORM:EXPAND_CROSS_LAYER",g="QUERYFORM:SET_CROSS_LAYER_PARAMETER",h="QUERYFORM:RESET_CROSS_LAYER_FILTER",f="SELECT_SPATIAL_METHOD",y="UPDATE_GEOMETRY",b="SELECT_SPATIAL_OPERATION",E="CHANGE_SPATIAL_ATTRIBUTE",v="CHANGE_SPATIAL_FILTER_VALUE",_="REMOVE_SPATIAL_SELECT",S="SHOW_SPATIAL_DETAILS",T="QUERY_FORM_RESET",P="SHOW_GENERATED_FILTER",O="CHANGE_DWITHIN_VALUE",x="ZONE_SEARCH",C="ZONE_SEARCH_ERROR",w="ZONE_FILTER",M="ZONE_CHANGE",I="ZONES_RESET",L="SIMPLE_FILTER_FIELD_UPDATE",A="ADD_SIMPLE_FILTER_FIELD",R="REMOVE_SIMPLE_FILTER_FIELD",F="REMOVE_ALL_SIMPLE_FILTER_FIELDS",D="UPDATE_FILTER_FIELD_OPTIONS",N="LOADING_FILTER_FIELD_OPTIONS",k="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",G="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",j="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",Z="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD_OPTIONS",U="SET_AUTOCOMPLETE_MODE",B="TOGGLE_AUTOCOMPLETE_MENU",q="QUERYFORM:LOAD_FILTER"},97222:(e,t,r)=>{"use strict";r.d(t,{Vc:()=>n,bj:()=>i,p7:()=>a,Av:()=>s,M8:()=>l,wn:()=>p,gs:()=>c,NN:()=>u,C2:()=>d,O7:()=>m,oQ:()=>g,dX:()=>h,al:()=>f,Gh:()=>y,x2:()=>b,Y7:()=>E,b4:()=>v,GI:()=>_,KP:()=>S,dS:()=>T,Zw:()=>P,Z:()=>O,a:()=>x,WN:()=>C,k9:()=>w,yo:()=>M,kE:()=>I,kV:()=>L,v2:()=>A,_q:()=>R,Bj:()=>F,tt:()=>D,Jc:()=>N,w4:()=>k,QJ:()=>G,KG:()=>j,o$:()=>Z,TS:()=>U,Tw:()=>B,I3:()=>q});var o=r(97395);const n="SEARCH:SEARCH_WITH_FILTER",i="TEXT_SEARCH_STARTED",a="TEXT_SEARCH_RESULTS_LOADED",s="TEXT_SEARCH_RESULTS_PURGE",l="TEXT_SEARCH_RESET",p="TEXT_SEARCH_ADD_MARKER",c="TEXT_SEARCH_TEXT_CHANGE",u="TEXT_SEARCH_LOADING",d="TEXT_SEARCH_NESTED_SERVICE_SELECTED",m="TEXT_SEARCH_ERROR",g="TEXT_SEARCH_CANCEL_ITEM",h="TEXT_SEARCH_ITEM_SELECTED",f="TEXT_SEARCH_SHOW_GFI",y="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",b="UPDATE_RESULTS_STYLE",E="CHANGE_SEARCH_TOOL",v="SEARCH:ZOOM_ADD_POINT",_="SEARCH:CHANGE_FORMAT",S="SEARCH:CHANGE_COORD",T="SEARCH:HIDE_MARKER";function P(e){return{type:_,format:e}}function O(e,t,r){return{type:v,pos:e,zoom:t,crs:r}}function x(e){return{type:E,activeSearchTool:e}}function C(e){return{type:a,results:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1],services:arguments.length>2?arguments[2]:void 0}}function w(e){return{type:c,searchText:e}}function M(e){return{type:u,loading:e}}function I(e){return{type:m,error:e}}function L(){return{type:s}}function A(){return{type:l}}function R(e,t){return{type:p,markerPosition:e,markerLabel:t}}function F(){return{type:T}}function D(e){let{services:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:i,searchText:e,services:t,maxResults:arguments.length>2&&void 0!==arguments[2]?arguments[2]:15}}function N(e,t,r){return{type:h,item:e,mapConfig:t,resultsStyle:r}}const k=e=>({type:f,item:e});function G(e,t,r){return{type:d,searchText:r,services:e,items:t}}function j(e){return{type:g,item:e}}function Z(e){return{type:b,style:e}}function U(e,t){return{type:S,coord:e,val:t}}function B(){return(0,o.vU)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function q(){return(0,o.vU)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},25016:(e,t,r)=>{"use strict";r.d(t,{N3:()=>n});const o="SET_SEARCH_BOOKMARK_CONFIG";function n(e,t){return{type:o,property:e,value:t}}},63516:(e,t,r)=>{"use strict";r.d(t,{Tu:()=>o,XP:()=>i,Nv:()=>a,kk:()=>s}),r(24384),r(33044),r(69293),r(37275);const o="LOGIN:LOGIN_PROMPT_CLOSED",n="LOGIN:LOGIN_REQUIRED",i="LOGIN_SUCCESS",a="LOGOUT";function s(){return{type:n}}},95797:(e,t,r)=>{"use strict";r.d(t,{S0:()=>o,u7:()=>n,lj:()=>i,yz:()=>a,lN:()=>s,zW:()=>l,Yx:()=>p,VN:()=>c,Hu:()=>u,VT:()=>d,RD:()=>m,_T:()=>g,vO:()=>h}),r(75875);const o="FEATURE_TYPE_SELECTED",n="FEATURE_TYPE_LOADED",i="FEATURE_LOADED",a="FEATURE_LOADING",s="FEATURE_TYPE_ERROR",l="FEATURE_ERROR",p="QUERY_CREATE",c="QUERY:UPDATE_QUERY",u="QUERY_RESULT",d="QUERY_ERROR",m="RESET_QUERY",g="QUERY:TOGGLE_SYNC_WMS",h="QUERY:TOGGLE_LAYER_FILTER"},57579:(e,t,r)=>{"use strict";r.d(t,{A4:()=>o}),r(23570);const o=e=>({type:"WIDGETS:NEW",widget:e})},47310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(75875),n=r.n(o),i=r(72500),a=r.n(i),s=r(27418),l=r.n(s);const p={format:"json",bounded:0,polygon_geojson:1,priority:5},c={geocode:function(e,t){var r=l()({q:e},p,t||{}),o=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return n().get(o)},reverseGeocode:function(e,t){const r=l()({lat:e.lat,lon:e.lng},t||{},p),o=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return n().get(o)}}},32420:(e,t,r)=>{"use strict";r.d(t,{DH:()=>p,dN:()=>c,Bm:()=>u,FU:()=>d,v$:()=>m});var o=r(75875),n=r.n(o),i=r(72500),a=r.n(i),s=r(27418),l=r.n(s);const p=function(e,t){return n().get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:l()({outputFormat:"application/json"},t)}).then((e=>"object"!=typeof e.data?JSON.parse(e.data):e.data))},c=function(e){let{version:t="1.1.0"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=a().parse(e,!0);return a().format(l()({},r,{query:l()({service:"WFS",version:t,request:"GetCapabilities"},r.query)}))},u=(e,t,r)=>n().get(function(e,t){let{version:r="1.1.0",...o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=a().parse(e,!0);return a().format(l()({},n,{query:l()({service:"WFS",typeName:t,version:r,request:"GetFeature",...o},n.query)}))}(e,t,r)),d=function(e){return n().get(c(e))},m=function(e,t){return n().get(((e,t)=>{const r=a().parse(e,!0);return a().format({...r,search:void 0,query:{...r.query,service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"}})})(e,t)).then((e=>{let{data:t}=e;return t}))}},64152:(e,t,r)=>{"use strict";r.d(t,{Z:()=>z});var o={};r.r(o),r.d(o,{getRecords:()=>R,testService:()=>N,textSearch:()=>F,validate:()=>D});var n={};r.r(n),r.d(n,{getRecords:()=>U,parseUrl:()=>Z,textSearch:()=>B});var i=r(59551),a=r(67007),s=r(3475),l=r(37275),p=r(5055),c=r.n(p),u=r(75875),d=r.n(u),m=r(27361),g=r.n(m),h=r(84596),f=r.n(h),y=r(33044),b=r(93201);const E={},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=f()(g()(e,"TileMapService.TileMaps.TileMap",[])),{projection:a}=n,s=g()(n,"options.service.allSRS"),l=i.map((t=>{let{$:r={}}=t;return{...r,href:(0,y.cleanAuthParamsFromURL)(r.href),identifier:(0,y.cleanAuthParamsFromURL)(r.href),format:(0,b.A)(r.href),tmsUrl:(0,y.cleanAuthParamsFromURL)(e.url)}})).filter((e=>{let{srs:t}=e;return!(a&&!s)||((e,t)=>e===t||"EPSG:3857"===e&&"EPSG:900913"===t||"EPSG:900913"===e&&"EPSG:3857"===t)(t,a)})).filter((function(){let{title:e="",srs:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!o||-1!==e.toLowerCase().indexOf(o.toLowerCase())||-1!==t.toLowerCase().indexOf(o.toLowerCase())}));return{numberOfRecordsMatched:l.length,numberOfRecordsReturned:Math.min(r,l.length),nextRecord:t+Math.min(r,l.length)+1,records:l.filter(((e,o)=>o>=t-1&&o<t-1+r))}},_=e=>e,S=(e,t,r,o,n)=>{const i=E[e];return i&&(new Date).getTime()<i.timestamp+1e3*(l.ZP.getConfigProp("cacheExpire")||60)?new Promise((e=>{e(v(i.data,t,r,o,n))})):d().get(e).then((i=>{let a;return c().parseString(i.data,{explicitArray:!1},((t,r)=>{a={...r,url:e}})),E[e]={timestamp:(new Date).getTime(),data:a},v(a,t,r,o,n)}))};var T=r(36882),P=r(49977),O=r.n(P),x=r(11847);const C="custom",w=(e,t,r,o,n)=>{const i=g()(n,"options.service");let a=[];if(i.provider&&i.provider!==C){const e=(s=i.provider,Object.keys(T.Z?.[s]?.variants??{}));0===e.length?a.push({provider:`${i.provider}`,title:`${i.provider}`}):a=e.map((e=>({provider:`${i.provider}.${e}`})))}else i.url&&(a=[{...i,title:i.title,type:"tileprovider",url:i.url,attribution:i.attribution,options:i.options||{},provider:C}]);var s;return new Promise((e=>{e(((e,t,r,o)=>{const n=e.filter((function(){let{title:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!o||-1!==e.toLowerCase().indexOf(o.toLowerCase())})),i=n.filter(((e,o)=>o>=t-1&&o<t-1+r));return{numberOfRecordsMatched:n.length,numberOfRecordsReturned:i.length,nextRecord:t+Math.min(r,n.length)+1,records:i}})(a,t,r,o))}))};class M extends Error{constructor(e,t){super(e),this.name="ServiceValidationError",this.notification=t}}const I=e=>O().Observable.of(e),L=e=>""===e.title||""===e.url?O().Observable.throw(new M("Validation Error","catalog.notification.warningAddCatalogService")):O().Observable.of(e),A=e=>{let{parseUrl:t}=e;return e=>{const r="catalog.notification.errorServiceUrl";return O().Observable.defer((()=>d().get(t(e.url)))).catch((()=>{throw new M("Service Test error",r)})).switchMap((t=>{if(t.error||""===t.data)throw new M("Service Test error",r);return O().Observable.of(e)}))}},R=function(e,t,r,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{options:i}=n,{service:a={}}=i||{};return"tms"===a.provider&&S(e,t,r,o,n),w(0,t,r,o,n)},F=function(e,t,r,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{options:i}=n,{service:a={}}=i||{};return"tms"===a.provider?S(e,t,r,o,n):w(0,t,r,o,n)},D=e=>"tms"===e.provider?L(e):(e=>{const t=e.provider&&"custom"!==e.provider?!!e.provider:(r=e.url,(0,x.Nw)(r));var r;if(e.title&&t)return P.Observable.of(e);throw new Error("catalog.config.notValidURLTemplate")})(e),N=e=>"tms"===e.provider?A({parseUrl:_})(e):(e=>P.Observable.of(e))(e);var k=r(32420);const G={},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const n=f()(g()(e,'["wfs:WFS_Capabilities"].FeatureTypeList.FeatureType',[])).map((t=>{const{Name:r,Title:o,Abstract:n,DefaultSRS:i,OtherSRS:a=[]}=t,s=t["ows:WGS84BoundingBox"],l=s["ows:LowerCorner"].split(" "),p=s["ows:UpperCorner"].split(" "),c={minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(p[0]),maxy:parseFloat(p[1])};return{featureType:t,type:"wfs",url:(0,y.cleanAuthParamsFromURL)(e.url),name:r,title:o,description:n,SRS:[i,...a],defaultSRS:i,boundingBox:{bounds:c,crs:"EPSG:4326"}}})).filter((function(){let{title:e="",name:t="",description:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!o||-1!==e.toLowerCase().indexOf(o.toLowerCase())||-1!==t.toLowerCase().indexOf(o.toLowerCase())||-1!==r.toLowerCase().indexOf(o.toLowerCase())})),i=n.filter(((e,o)=>o>=t-1&&o<t-1+r));return{numberOfRecordsMatched:n.length,numberOfRecordsReturned:Math.min(r,i.length),nextRecord:t+Math.min(r,n.length)+1,records:i}},Z=k.dN,U=(e,t,r,o,n)=>{const i=G[e];return i&&(new Date).getTime()<i.timestamp+1e3*(l.ZP.getConfigProp("cacheExpire")||60)?new Promise((e=>{e(j(i.data,t,r,o,n))})):(0,k.FU)(e).then((i=>{let a;return c().parseString(i.data,{explicitArray:!1,stripPrefix:!0},((t,r)=>{a={...r,url:e}})),G[e]={timestamp:(new Date).getTime(),data:a},j(a,t,r,o,n)}))},B=(e,t,r,o,n)=>U(e,t,r,o,n);var q=r(32354);const z={csw:{preprocess:I,validate:L,testService:A(i.ZP),...i.ZP},wfs:{preprocess:I,validate:L,testService:A(n),...n},wms:{preprocess:I,validate:L,testService:A(a.ZP),...a.ZP},tms:o,wmts:{preprocess:I,validate:L,testService:A(s.Z),...s.Z},backgrounds:{preprocess:I,validate:L,testService:A(q.Z),...q.Z}}},6571:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s});var o=r(92325),n=r(37275);let i;const a={geostore:o};i={api:"geostore",addApi:(e,t)=>{a[e]=t},setApi:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"geostore";i.api=e},getApi:()=>a[n.ZP.getConfigProp("persistenceApi")||i.api],getResource:function(){return i.getApi().getResource(...arguments)},getResourceIdByName:function(){return i.getApi().getResourceIdByName(...arguments)},getResourceDataByName:function(){return i.getApi().getResourceDataByName(...arguments)},createResource:function(){return i.getApi().createResource(...arguments)},createCategory:function(){return i.getApi().createCategory(...arguments)},getResources:function(){return i.getApi().getResources(...arguments)},updateResource:function(){return i.getApi().updateResource(...arguments)},updateResourceAttribute:function(){return i.getApi().updateResourceAttribute(...arguments)},deleteResource:function(){return i.getApi().deleteResource(...arguments)},searchListByAttributes:function(){return i.getApi().searchListByAttributes(...arguments)}};const s=i},38167:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>f});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(68195);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l.apply(this,arguments)}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends a().Component{render(){return this.context.intl?a().createElement(s.FormattedDate,l({value:this.props.value},this.props.dateParams)):a().createElement("span",null,this.props.value&&this.props.value.toString()||"")}}p(c,"propTypes",{value:n().object,dateParams:n().object}),p(c,"contextTypes",{intl:n().object}),p(c,"defaultProps",{value:new Date});const u=c;var d=r(15402),m=r(5346);const g=d.Z,h=u,f={Message:m.Z,HTML:g,DateFormat:h}},80876:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const Bootstrap=__webpack_require__(57588),Message=__webpack_require__(5346).Z,React=__webpack_require__(24852),RenderTemplate=function(comp,props){let model=props.model;return eval(comp)},__WEBPACK_DEFAULT_EXPORT__=RenderTemplate},21339:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(27418),l=r.n(s);function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends a().Component{constructor(){super(...arguments),p(this,"getStyle",(()=>{var e={cursor:this.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return this.props.image?l()(e,{overflow:"hidden"}):l()(e,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),l()(e,this.props.style),e}))}render(){return a().createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}p(c,"propTypes",{id:n().string,image:n().string,onClick:n().func,style:n().object,disabled:n().bool,tooltip:n().string,className:n().string}),p(c,"defaultProps",{disabled:!1,tooltip:null,className:void 0});const u=c},82457:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(57588),l=r(50966),p=r(38560),c=r(21339);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u.apply(this,arguments)}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends n().Component{constructor(){super(...arguments),d(this,"onClick",(()=>{this.props.onClick(!this.props.pressed,this.props.options)})),d(this,"renderNormalButton",(()=>n().createElement(p.Z,u({id:this.props.id},this.props.btnConfig,{onClick:this.onClick,bsStyle:this.props.pressed?this.props.pressedStyle:this.props.defaultStyle,style:this.props.style}),this.props.glyphicon?n().createElement(s.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text&&!n().isValidElement(this.props.text)?" ":null,this.props.text,this.props.help))),d(this,"renderImageButton",(()=>n().createElement(c.Z,{id:this.props.id,image:this.props.image,onClick:this.onClick,style:this.props.style}))),d(this,"addTooltip",(e=>n().createElement(l.Z,{placement:this.props.tooltipPlace,key:"overlay-trigger."+this.props.id,overlay:this.props.tooltip},e)))}render(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}d(m,"propTypes",{id:a().string,btnConfig:a().object,options:a().object,text:a().oneOfType([a().string,a().element]),help:a().oneOfType([a().string,a().element]),glyphicon:a().string,pressed:a().bool,onClick:a().func,tooltip:a().element,tooltipPlace:a().string,style:a().object,btnType:a().oneOf(["normal","image"]),image:a().string,pressedStyle:a().string,defaultStyle:a().string}),d(m,"defaultProps",{onClick:()=>{},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"});const g=m},77676:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var o=r(24852),n=r.n(o),i=r(38261),a=r(41609),s=r.n(a);const l=e=>n().createElement(i.Z,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:(t,r)=>{e.onSubmit(s()(r)?void 0:r)},onChangeFormat:t=>{e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})},82571:(module,__unused_webpack_exports,__webpack_require__)=>{function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const React=__webpack_require__(24852),PropTypes=__webpack_require__(45697),isEqual=__webpack_require__(18446),{parseTemplate}=__webpack_require__(59286);class Template extends React.Component{constructor(){super(...arguments),_defineProperty(this,"renderContent",(()=>{let model=this.props.model,props=this.props;return eval(this.comp)})),_defineProperty(this,"parseTemplate",(e=>{parseTemplate(e,((e,t)=>{t?this.props.onError(t.message):(this.comp=e,this.forceUpdate())}))}))}UNSAFE_componentWillMount(){this.parseTemplate(this.props.template)}UNSAFE_componentWillReceiveProps(e){e.template!==this.props.template&&(this.comp=null,this.parseTemplate(e.template))}shouldComponentUpdate(e){return!isEqual(e,this.props)}render(){if(this.comp){let e=this.props.renderContent?this.props.renderContent(this.comp,this.props):this.renderContent();return React.isValidElement(e)?e:null}return null}}_defineProperty(Template,"propTypes",{template:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),model:PropTypes.object,renderContent:PropTypes.func,onError:PropTypes.func}),_defineProperty(Template,"defaultProps",{template:"",model:{},onError:()=>{}}),module.exports=Template},83606:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var o=r(47037),n=r.n(o),i=r(45697),a=r.n(i),s=r(24852),l=r.n(s),p=r(57588),c=r(86638);function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends l().Component{constructor(){super(...arguments),u(this,"onMouseOver",(()=>{const e=n()(this.props.helpText)?this.props.helpText:(0,c.S$)(this.context.messages,this.props.helpText.props.msgId);this.props.changeHelpText(e),this.props.changeHelpwinVisibility(!0)}))}render(){return l().createElement(p.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}u(d,"propTypes",{id:a().string,helpText:a().oneOfType([a().string,a().element]),isVisible:a().bool,changeHelpText:a().func,changeHelpwinVisibility:a().func,className:a().string}),u(d,"contextTypes",{messages:a().object}),u(d,"defaultProps",{helpText:"",isVisible:!1});const m=d},21751:(e,t,r)=>{"use strict";r.d(t,{IDENTIFY_POPUP:()=>S,default:()=>T});var o=r(24852),n=r.n(o),i=r(73014),a=r(11196),s=r(67076),l=r(71703),p=r(22222),c=r(7877),u=r(21914),d=r(42872),m=r(1469),g=r.n(m),h=r(52353),f=r.n(h),y=r(79870),b=r(827);const E=(0,s.compose)((0,l.connect)((0,p.P1)(c.Qf,(e=>({index:e}))),{setIndex:u.oO}),(0,s.defaultProps)({index:0,responses:[]})),v=(0,p.P1)([c.q7,c.o9,c.OK,c.us,c.x0,b.hp,c.vR],((e,t,r,o,n,i,a)=>({responses:e,validResponses:t,requests:r,format:o,showEmptyMessageGFI:n,missingResponses:(r||[]).length-(e||[]).length,renderValidOnly:i,loaded:a}))),_=(0,s.compose)((0,l.connect)(v),(0,s.defaultProps)({responses:[],container:e=>{let{index:t,children:r}=e;return n().createElement(n().Fragment,null,g()(r)&&r[t]||r)},header:y.Z}),E,a.Yy,a.mI,(0,i.Z)((e=>{let{loaded:t}=e;return f()(t)})))(d.Z),S="identify",T={identify:_}},18790:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(57588),l=r(80307),p=r.n(l),c=r(90183);function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends a().Component{constructor(){super(...arguments),u(this,"launchNewCRSAction",(e=>{if(this.props.useRawInput)this.props.onCRSChange(e.target.value);else{let e=p().findDOMNode(this).getElementsByTagName("select").item(0);this.props.onCRSChange(e.value)}}))}render(){var e,t,r=[];let o={};Object.keys(this.props.availableCRS).length&&(o=(0,c.filterCRSList)(this.props.availableCRS,this.props.filterAllowedCRS,this.props.additionalCRS,this.props.projectionDefs));for(let n in o)o.hasOwnProperty(n)&&(e=n,t=o[n].label,r.push(a().createElement("option",{value:e,key:e},t)));return this.props.enabled&&this.props.useRawInput?a().createElement("select",{id:this.props.id,value:this.props.crs,onChange:this.launchNewCRSAction,bsSize:"small"},r):this.props.enabled&&!this.props.useRawInput?a().createElement(s.FormGroup,null,a().createElement(s.ControlLabel,null,this.props.label),a().createElement(s.FormControl,{componentClass:"select",id:this.props.id,value:this.props.crs,onChange:this.launchNewCRSAction,bsSize:"small"},r)):null}}u(d,"propTypes",{id:n().string,label:n().oneOfType([n().func,n().string,n().object]),availableCRS:n().object,filterAllowedCRS:n().array,projectionDefs:n().array,additionalCRS:n().object,crs:n().string,enabled:n().bool,onCRSChange:n().func,useRawInput:n().bool}),u(d,"defaultProps",{id:"mapstore-crsselector",availableCRS:(0,c.getAvailableCRS)(),crs:null,onCRSChange:function(){},enabled:!1,useRawInput:!1});const m=d},11914:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(90173),l=r(57588),p=r(74855),c=r.n(p),u=r(90183),d=r(47461),m=r(54717),g=r(18790),h=r(5346),f=r(81763),y=r.n(f),b=r(38560),E=r(93379),v=r.n(E),_=r(1381);function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}v()(_.Z,{insert:"head",singleton:!1}),_.Z.locals;class T extends a().Component{constructor(){super(...arguments),S(this,"getPosition",(()=>{let{x:e,y:t,z:r}=this.props.mousePosition?this.props.mousePosition:[null,null];return e||t?s.default.defs(this.props.mousePosition.crs)!==s.default.defs(this.props.crs)&&({x:e,y:t}=(0,u.reproject)([e,t],this.props.mousePosition.crs,this.props.crs)):({x:e,y:t}={x:0,y:0,z:r}),"degrees"===(0,u.getUnits)(this.props.crs)?{lat:t,lng:e,z:r}:{x:e,y:t,z:r}})),S(this,"getTemplateComponent",(()=>"degrees"===(0,u.getUnits)(this.props.crs)?this.props.degreesTemplate:this.props.projectedTemplate))}render(){let e=this.props.mousePosition?this.getTemplateComponent():null;if(this.props.enabled){const t=this.getPosition();return a().createElement("div",{id:this.props.id,style:this.props.style},a().createElement("span",{className:"mapstore-mouse-coordinates"},this.props.showLabels?a().createElement("label",null,a().createElement(h.Z,{msgId:"mouseCoordinates"})):null,e?a().createElement(e,{position:t}):a().createElement("h5",null,a().createElement(l.Label,{bsSize:"lg",bsStyle:"info"},"...",a().createElement("span",null)))),this.props.copyToClipboardEnabled&&a().createElement(c(),{text:JSON.stringify(t),onCopy:this.props.onCopy},a().createElement(b.Z,{bsSize:this.props.btnSize},a().createElement(l.Glyphicon,{glyph:this.props.glyphicon}))),this.props.showElevation?a().createElement("span",{className:"mapstore-mouse-elevation"},this.props.showLabels?a().createElement("label",null,a().createElement(h.Z,{msgId:"mousePositionElevation"})):null,a().createElement("h5",null,this.props.elevationTemplate(t.z))):null,this.props.showCRS?this.props.crsTemplate(this.props.crs):null,this.props.editCRS?a().createElement(g.default,{projectionDefs:this.props.projectionDefs,filterAllowedCRS:this.props.filterAllowedCRS,additionalCRS:this.props.additionalCRS,label:this.props.showLabels?a().createElement("label",null,a().createElement(h.Z,{msgId:"mousePositionCRS"})):null,crs:this.props.crs,enabled:!0,onCRSChange:this.props.onCRSChange}):null,this.props.showToggle?this.props.toggle:null)}return this.props.showToggle?a().createElement("div",{id:this.props.id,style:this.props.style},this.props.toggle):null}}S(T,"propTypes",{id:n().string,mousePosition:n().object,crs:n().string,enabled:n().bool,showCRS:n().bool,editCRS:n().bool,filterAllowedCRS:n().array,projectionDefs:n().array,additionalCRS:n().object,degreesTemplate:n().oneOfType([n().object,n().func]),projectedTemplate:n().oneOfType([n().object,n().func]),crsTemplate:n().oneOfType([n().object,n().func]),elevationTemplate:n().oneOfType([n().object,n().func]),style:n().object,copyToClipboardEnabled:n().bool,glyphicon:n().string,btnSize:n().oneOf(["large","medium","small","xsmall"]),onCopy:n().func,onCRSChange:n().func,toggle:n().object,showLabels:n().bool,showToggle:n().bool,showElevation:n().bool}),S(T,"defaultProps",{id:"mapstore-mouseposition",mousePosition:null,crs:"EPSG:4326",enabled:!0,showCRS:!1,editCRS:!1,degreesTemplate:d.default,projectedTemplate:m.default,crsTemplate:e=>a().createElement("span",{className:"mouseposition-crs"},e),elevationTemplate:e=>y()(e)?a().createElement("span",{className:"mouseposition-elevation"},e," m"):a().createElement(h.Z,{msgId:"mousePositionNoElevation"}),style:{},copyToClipboardEnabled:!1,glyphicon:"paste",btnSize:"xsmall",onCopy:()=>{},onCRSChange:function(){},toggle:a().createElement("div",null),showLabels:!1,showToggle:!1,showElevation:!1});const P=T},59560:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var o,n,i,a=r(45697),s=r.n(a),l=r(24852),p=r.n(l),c=r(57588),u=r(47361);class d extends p().Component{render(){return p().createElement("h5",null,p().createElement(c.Label,{bsSize:"lg",bsStyle:"info"},p().createElement("span",null,"Lat: "),p().createElement(u.Z,{key:"latD",numberParams:{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:6,minimumFractionDigits:6},value:this.props.position.lat}),p().createElement("span",null,"° Lng: "),p().createElement(u.Z,{key:"lngD",numberParams:{style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:6,minimumFractionDigits:6},value:this.props.position.lng}),p().createElement("span",null,"° ")))}}o=d,n="propTypes",i={position:s().shape({lng:s().number,lat:s().number})},(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n))in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i;const m=d},84848:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var o=r(14293),n=r.n(o),i=r(45697),a=r.n(i),s=r(24852),l=r.n(s),p=r(57588),c=r(90183),u=r(47361);function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends l().Component{constructor(){super(...arguments),d(this,"getPositionValues",(e=>{let{lng:t,lat:r}=e||[null,null],[o,n]=[r%1*60,t%1*60];return{lat:r,latM:Math.abs(o),lng:t,lngM:Math.abs(n)}}))}render(){let e=this.getPositionValues(this.props.position),t={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},r={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:3,minimumFractionDigits:3},o={style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:0};return l().createElement("h5",null,l().createElement(p.Label,{bsSize:"lg",bsStyle:"info"},l().createElement("span",null,"Lat: "),l().createElement(u.Z,{key:"latD",numberParams:t,value:n()(e.lat)?e.lat:(0,c.roundCoord)({roundingBehaviour:"floor",value:e.lat,maximumFractionDigits:t.maximumFractionDigits})}),l().createElement("span",null,"° "),l().createElement(u.Z,{key:"latM",numberParams:r,value:e.latM}),l().createElement("span",null,"' "),l().createElement("span",null,"Lng: "),l().createElement(u.Z,{key:"lngD",numberParams:o,value:n()(e.lng)?e.lng:(0,c.roundCoord)({roundingBehaviour:"floor",value:e.lng,maximumFractionDigits:o.maximumFractionDigits})}),l().createElement("span",null,"° "),l().createElement(u.Z,{key:"lngM",numberParams:r,value:e.lngM}),l().createElement("span",null,"' ")))}}d(m,"propTypes",{position:a().shape({lng:a().number,lat:a().number})});const g=m},47461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(57588),l=r(90183),p=r(47361);function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends a().Component{constructor(){super(...arguments),c(this,"getPositionValues",(e=>{let{lng:t,lat:r}=e||[null,null],[o,n]=[r%1*60,t%1*60],[i,a]=[o%1*60,n%1*60];return{lat:Math.trunc(r),latM:Math.abs(o),latS:Math.abs(i),lng:Math.trunc(t),lngM:Math.abs(n),lngS:Math.abs(a)}}))}render(){const{lng:e,lat:t}=this.props.position||{};let r=this.getPositionValues(this.props.position),o=e<0?"-":"",n=t<0?"-":"",i={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},c={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:2,minimumFractionDigits:2};return a().createElement("h5",null,a().createElement(s.Label,{bsSize:"lg",bsStyle:"info"},a().createElement("span",null,"Lat: ",n),a().createElement(p.Z,{key:"latD",numberParams:i,value:Math.abs(r.lat)}),a().createElement("span",null,"° "),a().createElement(p.Z,{key:"latM",numberParams:i,value:(0,l.roundCoord)({roundingBehaviour:"floor",value:r.latM,maximumFractionDigits:i.maximumFractionDigits})}),a().createElement("span",null,"' "),a().createElement(p.Z,{key:"latS",numberParams:c,value:r.latS}),a().createElement("span",null,"''"),a().createElement("span",{className:"mouseposition-separator"}),a().createElement("span",null," Lng: ",o),a().createElement(p.Z,{key:"lngD",numberParams:{style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:0},value:Math.abs(r.lng)}),a().createElement("span",null,"° "),a().createElement(p.Z,{key:"lngM",numberParams:i,value:(0,l.roundCoord)({roundingBehaviour:"floor",value:r.lngM,maximumFractionDigits:i.maximumFractionDigits})}),a().createElement("span",null,"' "),a().createElement(p.Z,{key:"lngS",numberParams:c,value:r.lngS}),a().createElement("span",null,"''")))}}c(u,"propTypes",{position:n().shape({lng:n().number,lat:n().number})});const d=u},95762:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(57588),l=r(90183),p=r(47361);function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends a().Component{constructor(){super(...arguments),c(this,"getPositionValues",(e=>{let{lng:t,lat:r}=e||[null,null],[o,n]=[r%1*60,t%1*60],[i,a]=[o%1*60,n%1*60];return{lat:r,latM:Math.abs(o),latS:Math.abs(i),lng:t,lngM:Math.abs(n),lngS:Math.abs(a)}}))}render(){let e=this.getPositionValues(this.props.position),t={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},r={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:2,minimumFractionDigits:2},o={style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:0};return a().createElement("h5",null,a().createElement(s.Label,{bsSize:"lg",bsStyle:"info"},a().createElement(p.Z,{key:"latD",numberParams:t,value:(0,l.roundCoord)({roundingBehaviour:"floor",value:Math.abs(e.lat),maximumFractionDigits:t.maximumFractionDigits})}),a().createElement("span",null,"° "),a().createElement(p.Z,{key:"latM",numberParams:t,value:(0,l.roundCoord)({roundingBehaviour:"floor",value:e.latM,maximumFractionDigits:t.maximumFractionDigits})}),a().createElement("span",null,"' "),a().createElement(p.Z,{key:"latS",numberParams:r,value:e.latS}),a().createElement("span",null,"'' ",e.lat>0?"N":"S"," "),a().createElement(p.Z,{key:"lngD",numberParams:o,value:(0,l.roundCoord)({roundingBehaviour:"floor",value:Math.abs(e.lng),maximumFractionDigits:o.maximumFractionDigits})}),a().createElement("span",null,"° "),a().createElement(p.Z,{key:"lngM",numberParams:t,value:(0,l.roundCoord)({roundingBehaviour:"floor",value:e.lngM,maximumFractionDigits:t.maximumFractionDigits})}),a().createElement("span",null,"' "),a().createElement(p.Z,{key:"lngS",numberParams:r,value:e.lngS}),a().createElement("span",null,"'' ",e.lng>0?"E":"W")))}}c(u,"propTypes",{position:n().shape({lng:n().number,lat:n().number})});const d=u},54717:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var o,n,i,a=r(45697),s=r.n(a),l=r(24852),p=r.n(l),c=r(57588),u=r(47361);class d extends p().Component{render(){let e={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:2,minimumFractionDigits:2};return p().createElement("h5",null,p().createElement(c.Label,{bsSize:"lg",bsStyle:"info"},p().createElement("span",null,"X: "),p().createElement(u.Z,{key:"x",numberParams:e,value:this.props.position.x}),p().createElement("span",{className:"mouseposition-separator"}),p().createElement("span",null," Y: "),p().createElement(u.Z,{key:"y",numberParams:e,value:this.props.position.y})))}}o=d,n="propTypes",i={position:s().shape({x:s().number,y:s().number})},(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n))in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i;const m=d},98772:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var o=r(93379),n=r.n(o),i=r(72704);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=r(45697),s=r.n(a),l=r(24852),p=r.n(l),c=r(57588);function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends p().Component{constructor(){super(...arguments),u(this,"onFilter",(e=>{this.props.onFilter(e.target.value)})),u(this,"onClear",(()=>{this.props.onFilter("")}))}render(){const e=this.props.filterText?p().createElement(c.OverlayTrigger,{placement:"bottom",overlay:p().createElement(c.Tooltip,{id:"mapstore-toc-filter"},this.props.tooltipClear)},p().createElement(c.Glyphicon,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):p().createElement(c.Glyphicon,{className:"text-primary",glyph:"filter"});return p().createElement(c.FormGroup,{className:"mapstore-filter"},p().createElement(c.InputGroup,null,p().createElement(c.FormControl,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),p().createElement(c.InputGroup.Addon,{className:"square-button-md"},this.props.loading?p().createElement("div",{className:"toc-inline-loader"}):e)))}}u(d,"propTypes",{loading:s().bool,filterText:s().string,filterPlaceholder:s().oneOfType([s().object,s().string]),onFilter:s().func,onFocus:s().func,tooltipClear:s().oneOfType([s().object,s().string])}),u(d,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:()=>{},onFocus:()=>{},tooltipClear:"Clear"});const m=d},99509:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(48403),l=r.n(s),p=r(57588),c=r(94192);function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n().Component{constructor(){super(...arguments),u(this,"verifyOnKeyDownEvent",(e=>{69===e.keyCode&&e.preventDefault(),13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.props.onKeyDown(e))})),u(this,"validateDecimalLon",(e=>{const t=this.props.constraints[this.props.format].lon.min,r=this.props.constraints[this.props.format].lon.max,o=parseFloat(e);return isNaN(o)||o<t||o>r?"error":null})),u(this,"validateDecimalLat",(e=>{const t=this.props.constraints[this.props.format].lat.min,r=this.props.constraints[this.props.format].lat.max,o=parseFloat(e);return isNaN(o)||o<t||o>r?"error":null}))}render(){const{coordinate:e,value:t,onChange:r,disabled:o}=this.props,i="validateDecimal"+l()(e);return n().createElement(p.FormGroup,{validationState:this[i](t)},n().createElement(c.Z,{disabled:o,key:e,value:t,placeholder:e,onChange:e=>{""===e?r(""):null===this[i](e)?r(e):r(t)},onKeyDown:this.verifyOnKeyDownEvent,step:1,validateNameFunc:this[i],type:"number"}))}}u(d,"propTypes",{idx:a().number,value:a().number,constraints:a().object,format:a().string,coordinate:a().string,onChange:a().func,onKeyDown:a().func,onSubmit:a().func,disabled:a().bool}),u(d,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:()=>{},disabled:!1});const m=d;var g=r(14293),h=r.n(g),f=r(67076);const y=(0,f.withProps)((e=>{let{coordinate:t="lat"}=e;return{maxDegrees:"lat"===t?90:180,directions:"lat"===t?["N","S"]:["E","W"]}}));var b=r(62395);const E=(0,f.compose)((0,f.withProps)((e=>{let{value:t}=e;return{isValid:""!==t}})),(0,f.withState)("initial","setInitial",{}),(0,f.withProps)((e=>{let{isValid:t,initial:r,degrees:o,minutes:n,seconds:i}=e;return t||""===o&&""===n&&""===i?{}:r})),(0,f.withHandlers)({onChange:e=>t=>{let{degrees:r,minutes:o,seconds:n,direction:i}=t;isNaN(r)?e.setInitial({degrees:"",minutes:o,seconds:n,direction:i}):isNaN(o)?e.setInitial({degrees:r,minutes:"",seconds:n,direction:i}):isNaN(n)&&e.setInitial({degrees:r,minutes:o,seconds:"",direction:i}),e.onChange({degrees:r,minutes:o,seconds:n,direction:i})}}));function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _="degrees",S="seconds",T="minutes";class P extends n().Component{constructor(){var e;super(...arguments),e=this,v(this,"onChange",((e,t)=>{const r=this.getUpdatedCoordinateValue(e,t);this.props.onChange(r)})),v(this,"getUpdatedCoordinateValue",((e,t)=>{try{const r={degrees:this.props.degrees,minutes:this.props.minutes,seconds:this.props.seconds,direction:this.props.direction,[e]:e===_?Math.min(t,this.props.maxDegrees):t};let o=r.seconds,n=r.minutes+this.getSexagesimalStep(o),i=Math.min(this.props.maxDegrees,r.degrees+this.getSexagesimalStep(n)),a=r.direction;return o=this.roundToNextSexagesimalStep(o),n=this.roundToNextSexagesimalStep(n),i===this.props.maxDegrees&&(n=0,o=0),a=i<0?a===this.props.directions[0]?this.props.directions[1]:this.props.directions[0]:a,-1===i&&(r.degrees<0&&r.minutes>=0?i=r.degrees:r.minutes<0&&r.degrees<=0?(i=0,n=r.minutes):(i=0,n=0,o=1e-4)),{degrees:i,minutes:n,seconds:o,direction:a}}catch(e){return null}})),v(this,"getSexagesimalStep",(e=>e>=60?1:e<0?-1:0)),v(this,"getInputStyle",(e=>isNaN(e)||""===e?{borderColor:"#a94442"}:{})),v(this,"getNewValue",(function(t){let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;if(""===t)r="";else{const n=o===S?parseFloat(t):parseInt(t,10),i=o===_?e.props.maxDegrees:60;r=Math.round(10*n)/10<i?n:e.props[o]}return r})),v(this,"verifyOnKeyDownEvent",(e=>{69===e.keyCode&&e.preventDefault(),"0"===e?.target?.value&&e.target.setSelectionRange(-1,-1),13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.props.onKeyDown())})),v(this,"roundToNextSexagesimalStep",(e=>e<0?60+e:e>=60?e-60:e)),v(this,"isValid",(e=>{const{minutes:t,seconds:r,degrees:o,direction:n}=e;return!h()(t)&&t>0&&t<60&&!h()(r)&&r>0&&r<60&&!h()(o)&&o>0&&o<this.props.maxDegrees&&n}))}render(){const e={padding:0,textAlign:"center",borderRight:"none"},t=this.getInputStyle(this.props.degrees),r=this.getInputStyle(this.props.minutes),o=this.getInputStyle(this.props.seconds),i={position:"relative",top:0,overflow:"visible",zIndex:3,left:-25,width:0,height:0},{step:a}=this?.props?.aeronauticalOptions?.seconds??{};return n().createElement(p.FormGroup,{style:{display:"inline-flex"}},n().createElement("div",{className:_,style:{width:40,display:"flex"}},n().createElement(c.Z,{key:this.props.coordinate+_,value:this.props.degrees,disabled:this.props.disabled,placeholder:"d",onChange:e=>this.onChange(_,this.getNewValue(e)),step:1,size:3,max:this.props.maxDegrees,min:-1,onKeyDown:e=>{this.verifyOnKeyDownEvent(e)},style:{width:"100%",...e,...t},type:"number"}),n().createElement("span",{style:i},"°")),n().createElement("div",{className:T,style:{width:40,display:"flex"}},n().createElement(c.Z,{disabled:this.props.disabled,key:this.props.coordinate+T,placeholder:"m",size:3,value:this.props.minutes,onChange:e=>this.onChange(T,this.getNewValue(e,T)),max:60,min:-1,onKeyDown:e=>{this.verifyOnKeyDownEvent(e)},style:{width:"100%",...e,...r},step:1,type:"number"}),n().createElement("span",{style:i},"′")),n().createElement("div",{className:S,style:{display:"flex"}},n().createElement(c.Z,{disabled:this.props.disabled,key:this.props.coordinate+S,value:this.props.seconds,placeholder:"s",onChange:e=>this.onChange(S,this.getNewValue(e,S)),step:a,max:60,onKeyDown:e=>{this.verifyOnKeyDownEvent(e)},min:-1,style:{width:"100%",...e,...o},type:"number"}),n().createElement("span",{style:i},"″")),n().createElement("div",{className:"direction-select"},n().createElement(p.FormControl,{disabled:this.props.disabled,componentClass:"select",placeholder:"select",value:this.props.direction,onChange:e=>this.onChange("direction",e.target.value),style:{paddingLeft:4,paddingRight:4,flex:"1 1 0%"}},this.props.directions.map((e=>n().createElement("option",{key:e,value:e},e))))))}}v(P,"propTypes",{idx:a().number,maxDegrees:a().number,degrees:a().number,minutes:a().number,seconds:a().number,directions:a().array,direction:a().string,aeronauticalOptions:a().object,coordinate:a().string,onChange:a().func,onKeyDown:a().func,disabled:a().bool}),v(P,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:()=>{},disabled:!1});const O=(0,f.compose)(y,b.Z,E)(P),x=(0,f.compose)((0,f.withHandlers)({onChange:e=>{let{onChange:t=(()=>{}),maxLatitude:r=89.9997222222,coordinate:o}=e;return e=>t(Math.abs(parseFloat(e))>r&&"lat"===o?Math.sign(e)*r:e)}}));function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},C.apply(this,arguments)}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class M extends n().Component{render(){const{format:e}=this.props;return"decimal"===e||h()(e)?n().createElement(m,C({},this.props,{format:this.props.format||"decimal"})):n().createElement(O,this.props)}}w(M,"propTypes",{idx:a().number,value:a().number,constraints:a().object,format:a().string,aeronauticalOptions:a().object,coordinate:a().string,onChange:a().func,onKeyDown:a().func}),w(M,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}});const I=x(M)},38261:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(57588),l=r(80717),p=r(25311),c=r(99509),u=r(5346),d=r(18446),m=r.n(d),g=r(81763),h=r.n(g),f=r(77900);function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b extends n().Component{constructor(e){super(e),y(this,"onChangeLatLon",((e,t)=>{this.setState({...this.state,[e]:parseFloat(t)},(()=>{const e=parseFloat(this.state.lat)!==parseFloat(this.props.component.lat),t=parseFloat(this.state.lon)!==parseFloat(this.props.component.lon);this.setState({...this.state,disabledApplyChange:!(e||t)},(()=>{this.props.onValidateFeature(),"annotations"===this.props.renderer&&this.props.onSubmit(this.props.idx,this.state)}))}))})),y(this,"onSubmit",(()=>{this.props.onSubmit(this.props.idx,this.state)})),this.state={lat:h()(this.props.component.lat)?this.props.component.lat:"",lon:h()(this.props.component.lon)?this.props.component.lon:"",disabledApplyChange:!0}}UNSAFE_componentWillReceiveProps(e){if(!m()(e.component,this.props.component)){const t=h()(e.component.lat)?e.component.lat:"",r=h()(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:r,disabledApplyChange:!0})}}render(){const{idx:e}=this.props,t=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled||this.props.disabled,glyph:"trash",onClick:()=>{this.props.onRemove(e)}},{buttonConfig:{title:n().createElement(s.Glyphicon,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:()=>{this.props.onChangeFormat("decimal")},text:n().createElement(u.Z,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:()=>{this.props.onChangeFormat("aeronautical")},text:n().createElement(u.Z,{msgId:"search.aeronautical"})}],disabled:this.props.disabled,visible:this.props.formatVisible,Element:f.Z},{glyph:"ok",disabled:this.state.disabledApplyChange||this.props.disabled,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit,visible:"annotations"!==this.props.renderer}],r=n().createElement("div",{role:"button",className:"square-button-md no-border btn btn-default",style:{display:"table",color:!this.props.isDraggableEnabled&&"#999999",pointerEvents:this.props.isDraggableEnabled?"auto":"none",cursor:this.props.isDraggableEnabled&&"grab"}},n().createElement(s.Glyphicon,{glyph:"menu-hamburger"}));return n().createElement("div",{className:`coordinateRow ${this.props.format||""} ${this.props.customClassName||""}`,onMouseEnter:()=>{this.props.onMouseEnter&&this.props.component.lat&&this.props.component.lon&&this.props.onMouseEnter(this.props.component)},onMouseLeave:()=>{this.props.onMouseLeave&&this.props.component.lat&&this.props.component.lon&&this.props.onMouseLeave()}},n().createElement("div",{style:{cursor:this.props.isDraggableEnabled?"grab":"not-allowed"}},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(r):r:null),n().createElement("div",{className:"coordinate"},n().createElement("div",{className:"input-group-container"},n().createElement(s.InputGroup,null,n().createElement(s.InputGroup.Addon,null,n().createElement(u.Z,{msgId:"latitude"})),n().createElement(c.Z,{disabled:this.props.disabled,format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:e,value:this.state.lat,onChange:e=>this.onChangeLatLon("lat",e),constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),n().createElement("div",{className:"input-group-container"},n().createElement(s.InputGroup,null,n().createElement(s.InputGroup.Addon,null,n().createElement(u.Z,{msgId:"longitude"})),n().createElement(c.Z,{disabled:this.props.disabled,format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:e,value:this.state.lon,onChange:e=>this.onChangeLatLon("lon",e),constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit})))),this.props.showToolButtons&&n().createElement("div",{key:"tools"},n().createElement(l.Z,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:t})))}}y(b,"propTypes",{idx:a().number,component:a().object,onRemove:a().func,onSubmit:a().func,onChangeFormat:a().func,onMouseEnter:a().func,format:a().string,type:a().string,onMouseLeave:a().func,connectDragSource:a().func,aeronauticalOptions:a().object,customClassName:a().string,isDraggable:a().bool,isDraggableEnabled:a().bool,showLabels:a().bool,showDraggable:a().bool,showToolButtons:a().bool,removeVisible:a().bool,formatVisible:a().bool,removeEnabled:a().bool,renderer:a().string,disabled:a().bool,onValidateFeature:a().func}),y(b,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:()=>{},onMouseLeave:()=>{},onValidateFeature:()=>{},showToolButtons:!0,disabled:!1});const E=(0,p.Z)(b)},62395:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var o=r(7654),n=r.n(o),i=r(59854),a=r.n(i),s=r(67076);const l=function(e,t){let{seconds:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e>=0?Math.floor(e):Math.ceil(e),i=Math.abs(60*(e-o)),s=Math.floor(i),l=60*(i-s),p=a()(l,r?.decimals??4);return o=Math.abs(o),60===p&&(s++,p=0),60===s&&(o++,s=0),n()(o)||""===e?{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"}:{degrees:o,minutes:s,seconds:p,direction:e<0?t?"W":"S":t?"E":"N"}},p=(0,s.compose)((0,s.withProps)((e=>{let{value:t,coordinate:r,aeronauticalOptions:o}=e;return{...l(t,"lon"===r,o)}})),(0,s.withHandlers)({onChange:e=>function(){let{degrees:t,minutes:r,seconds:o,direction:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=0,s=0,l=0;void 0===t&&void 0===r&&void 0===o&&e.onChange(void 0),n()(t)||(a=t),n()(r)||(s=r),n()(o)||(l=o);let p=a+s/60+l/3600;(p>0&&("S"===i||"W"===i)||p<0&&("N"===i||"E"===i))&&(p*=-1),e.onChange(p.toPrecision(12))}}))},16919:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var o=r(24852),n=r.n(o),i=r(32833),a=r(65539),s=r(67076),l=r(57588),p=r(38560);const c={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}},u=e=>{let{position:t="right",onClose:r,bsStyle:o="default",title:i="",fullscreen:a=!1,showFullscreen:s=!1,glyph:u="info-sign",additionalRows:d,onFullscreen:m=(()=>{})}=e;const g=r?n().createElement(p.Z,{key:"ms-header-close",className:"square-button ms-close",onClick:r,bsStyle:o},n().createElement(l.Glyphicon,{glyph:"1-close"})):null,h=s?n().createElement(p.Z,{key:"ms-header-glyph",className:"square-button",bsStyle:o,onClick:()=>m(!a)},n().createElement(l.Glyphicon,{glyph:c[t]&&c[t][a]||"resize-full"})):n().createElement("div",{key:"ms-header-glyph",className:"square-button bg-"+o,style:{display:"flex"}},n().createElement(l.Glyphicon,{glyph:u,className:"default"===o?"text-primary":""})),f="left"===t?[g,h]:[h,g];return n().createElement(l.Grid,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+o},n().createElement(l.Row,null,n().createElement(l.Col,{xs:2},f[0]),n().createElement(l.Col,{xs:8},n().createElement("h4",null,i)),n().createElement(l.Col,{xs:2},f[1])),d)},d=(0,s.withState)("fullscreen","onFullscreen",!1)((e=>{let{fluid:t,className:r="",fullscreen:o=!1,position:s,open:l,size:p=550,style:c={},zIndex:d=1030,onClose:m,bsStyle:g,title:h,showFullscreen:f=!1,glyph:y,header:b,footer:E,children:v,onFullscreen:_=(()=>{}),fixed:S=!1,resizable:T=!1,hideHeader:P}=e;return n().createElement("div",{className:"ms-side-panel "+(S?"":"ms-absolute-dock ")+(T?"":"react-dock-no-resize ")+r},n().createElement(i.default,{fluid:t||o,position:s,dimMode:"none",isVisible:l,size:o?1:p,dockStyle:c,zIndex:d},n().createElement(a.Z,{header:!P&&l&&n().createElement(u,{position:s,onClose:m,bsStyle:g,title:h,fullscreen:o,showFullscreen:f,glyph:y,additionalRows:b,onFullscreen:_}),footer:l&&E},l&&v)))}))},32107:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(24852),n=r.n(o),i=r(67076),a=r(65539),s=r(16919),l=r(94745);const p=(0,i.renameProps)({open:"show"})((e=>{let{children:t,header:r,...o}=e;return n().createElement(l.Z,o,n().createElement(a.Z,{header:n().createElement("div",{className:"ms-header"},r)},t))})),c=(0,i.branch)((e=>{let{dock:t}=e;return!t}),(()=>e=>n().createElement(p,e)))(s.Z)},77900:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var o=r(57588),n=r(15135),i=r(24852),a=r.n(i),s=r(23570),l=r.n(s);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},p.apply(this,arguments)}const c=(0,n.Z)(o.DropdownButton),u={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:l()()},d=function(){let{menuOptions:e=[],buttonConfig:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a().createElement(c,p({},u,t),e.length?e.map(((e,t)=>{let{glyph:r,text:n,onClick:i,active:s=!1}=e;return a().createElement(o.MenuItem,{active:s,eventKey:t,onClick:i,key:t},r&&a().createElement(o.Glyphicon,{glyph:r})," ",n)})):null)}},18869:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(24852),n=r.n(o),i=r(72986),a=r.n(i),s=r(14293),l=r.n(s),p=r(5346);const c=e=>{let{className:t,textContainerClassName:r,loading:o=!1,detailsText:i}=e;return n().createElement("div",{className:t},o?n().createElement(a(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):l()(i)?n().createElement("div",{className:r},n().createElement(p.Z,{msgId:"maps.feedback.noDetailsAvailable"})):n().createElement("div",{className:r,dangerouslySetInnerHTML:{__html:i||""}}))}},91775:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(24852),n=r.n(o);const i=e=>{let{className:t,style:r,children:o}=e;return n().createElement("div",{id:"map-search-bar",style:r,className:"MapSearchBar"+(t?" "+t:"")},o)}},33811:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(57588),l=r(86638);const p=(e,t)=>{let{show:r,autoFocusOnSelect:o=!0,selectedItems:i=[],className:a,style:p={textOverflow:"ellipsis"},placeholder:c,placeholderMsgId:u,hideOnBlur:d=!0,searchText:m="",typeAhead:g=!0,delay:h=1e3,blurResetDelay:f=300,onSearch:y=(()=>{}),onSearchTextChange:b=(()=>{}),onCancelSelectedItem:E=(()=>{}),onPurgeResults:v=(()=>{})}=e;const _=n().useRef(),S=n().useRef(),[T,P]=n().useState(),[O,x]=n().useState(),[C,w]=n().useState(!1);n().useEffect((()=>{const e=S.current;if(o&&i&&(e<i.length||!e&&1===i.length)){const e=_.current;e&&e.focus instanceof Function&&setTimeout((()=>e.focus()),200)}S.current=i&&i.length})),n().useEffect((()=>{C&&(y(),w(!1))}),[C,y]);let M="search.addressSearch";if(!c&&t.messages){const e=(0,l.S$)(t.messages,u||M);e&&(M=e)}else M=c;return r&&n().createElement(s.FormControl,{className:"searchInput"+(a?` ${a}`:""),key:"search-input",placeholder:M,type:"text",inputRef:e=>{_.current=e},style:p,value:m,onKeyDown:e=>{switch(e.keyCode){case 13:y();break;case 8:!m&&i&&i.length>0&&E(i[i.length-1])}},onBlur:()=>{d&&(T&&clearTimeout(T),P(setTimeout((()=>{v()}),f)))},onFocus:()=>{g&&m&&y()},onChange:e=>{let t=e.target.value;b(t),g&&(O&&clearTimeout(O),x(setTimeout((()=>{w(!0)}),h)))}})};p.contextTypes={messages:a().object};const c=p},5243:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var o=r(24852),n=r.n(o),i=r(27418),a=r.n(i),s=r(72986),l=r.n(s),p=r(80717);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c.apply(this,arguments)}const u=e=>{let{loading:t,splitTools:r,toolbarProps:o={},toolbarButtons:i=[],children:s}=e;return n().createElement("span",{className:"search-toolbar-options"},t&&n().createElement(l(),{style:a()({},{position:"absolute"},{right:"69px",zIndex:1,top:"13px"}),spinnerName:"pulse",noFadeIn:!0}),n().createElement(p.Z,c({btnGroupProps:{className:"btn-group-menu-options"},transitionProps:null,btnDefaultProps:{className:"square-button-md",bsStyle:"primary"}},o,{buttons:i})),s)}},18757:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});const o=e=>{let{searchText:t,selectedItems:r,searchOptions:o,maxResults:n,onSearch:i=(()=>{}),onSearchReset:a=(()=>{})}=e;return()=>{const e=t,s=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,r){return t+(r?.options?.maxFeatures||e)}),0)||e}(o?.services,n);void 0!==e&&""!==e||r&&0!==r.length?void 0!==e&&""!==e&&i(e,o,s):a()}}},36728:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(71703),l=r(27418),p=r.n(l),c=r(72500),u=r.n(c),d=r(37275),m=r(22843);function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=u().parse(window.location.href,!0).query,f=(0,s.connect)((e=>({statePluginsConfig:e.plugins,mode:h.mode||e.mode||(e.browser&&e.browser.mobile?"mobile":"desktop"),pluginsState:p()({},e&&e.controls,e&&e.layers&&e.layers.settings&&{layerSettings:e.layers.settings}),monitoredState:(0,m.bh)(e,d.ZP.getConfigProp("monitorState"))})))(r(91046).Z);class y extends n().Component{UNSAFE_componentWillMount(){this.props.loadMapConfig()}render(){return n().createElement(f,{key:"viewer",id:"viewer",className:this.props.className,pluginsConfig:this.props.pluginsConfig||this.props.statePluginsConfig||d.ZP.getConfigProp("plugins"),plugins:this.props.plugins,params:this.props.params})}}g(y,"propTypes",{className:a().string,params:a().object,statePluginsConfig:a().object,pluginsConfig:a().object,loadMapConfig:a().func,plugins:a().object}),g(y,"defaultProps",{mode:"desktop",className:"viewer",loadMapConfig:()=>{}});const b=y},56175:(e,t,r)=>{"use strict";r.d(t,{Z:()=>z});var o=r(49977),n=r(9669),i=r.n(n),a=r(37691),s=r.n(a),l=r(30647),p=r(91175),c=r.n(p),u=r(27361),d=r.n(u),m=r(13311),g=r.n(m),h=r(1469),f=r.n(h),y=r(47037),b=r.n(y),E=r(13218),v=r.n(E),_=r(3674),S=r.n(_),T=r(93220),P=r.n(T),O=r(82492),x=r.n(O),C=r(31273),w=r(80416),M=r(97395),I=r(82904),L=r(33528),A=r(21914),R=r(53001),F=r(88113),D=r(31935),N=r(8316),k=r(75110),G=r(76712),j=r(90183),Z=r(37275),U=r(24262),B=r(89919),q=r(1550);const z=e=>({recordSearchEpic:(t,r)=>t.ofType(C.V3).switchMap((t=>{let{format:n,url:i,startPosition:a,maxRecords:s,text:l,options:p}=t;const c=d()(p,"service.filter")||d()(p,"filter");return o.Observable.defer((()=>e[n].textSearch(i,a,s,l,{options:p,filter:c,...(0,F.HN)(r.getState())}))).switchMap((e=>e.error?o.Observable.of((0,C.m)(e)):o.Observable.of((0,C.nX)({url:i,startPosition:a,maxRecords:s,text:l},e)))).startWith((0,C.K4)(!0)).catch((e=>o.Observable.of((0,C.m)(e))))})),addLayersFromCatalogsEpic:(t,r)=>t.ofType(C.WX).filter((e=>{let{layers:t,sources:r}=e;return f()(t)&&f()(r)&&t.length&&t.length===r.length})).switchMap((t=>{let{layers:n,sources:i,options:a,startPosition:s=1,maxRecords:l=4}=t;const p=r.getState(),u=(0,F.b6)(p),m=n.filter(((e,t)=>!!u[i[t]]||"object"==typeof i[t])).map(((t,r)=>{const c=d()(a,r,(0,F.bA)(p)),m=i[r],g="object"==typeof m?m:u[m],h=g.type.toLowerCase(),f=g.url,y=n[r];return o.Observable.defer((()=>e[h].textSearch(f,s,l,y,{...c,...g}).catch((()=>({results:[]}))))).map((e=>({...e,format:h,url:f,text:y,layerOptions:c})))}));return o.Observable.forkJoin(m).switchMap((e=>f()(e)&&e.length?o.Observable.of(e.map((e=>{const{format:t,url:r,text:n,layerOptions:i,...a}=e,s=(0,N.Ps)(p),l=(0,G.eL)(t,a,i,s)||[],u=c()(l.filter((e=>e.identifier||e.name===n))),{wms:d,wmts:m,wfs:g}=(0,G.tW)(u);let h={};const f={},y=(0,F.kS)(p);if(d){const e=(0,G.n0)(d.SRS);if(d.SRS.length>0&&!j.default.isAllowedSRS("EPSG:3857",e))return o.Observable.empty();h=(0,G.ll)(u,"wms",{removeParams:y,catalogURL:"csw"===t&&r?r+"?request=GetRecordById&service=CSW&version=2.0.2&elementSetName=full&id="+u.identifier:r},f)}else if(m){h={};const e=(0,G.n0)(m.SRS);if(m.SRS.length>0&&!j.default.isAllowedSRS("EPSG:3857",e))return o.Observable.empty();h=(0,G.ll)(u,"wmts",{removeParams:y},f)}else if(g)h=(0,G.LZ)(u);else{const{esri:e}=(0,G.FJ)(u);e&&(h=(0,G.AD)(u,f))}return u?[h,i]:[n]}))):o.Observable.empty()))})).mergeMap((e=>{if(e){const t=e.filter((e=>b()(e[0]))).join(" ");let r=[];return t&&(r=[(0,C.E9)(t)]),r=[...r,...e.filter((e=>v()(e[0]))).map((e=>(0,C.A4)(x()({},e[0],e[1]))))],o.Observable.from(r)}return o.Observable.empty()})).catch((()=>o.Observable.empty())),addLayerAndDescribeEpic:(t,r)=>t.ofType(C.r7).mergeMap((t=>{const{layer:n,zoomToLayer:i}=t,a=[],s=r.getState(),l=(0,k.l2)(s),p=(0,U.R8)(n,l||[]);return a.push((0,w.A4)({...n,id:p})),i&&n.bbox&&a.push((0,q.Px)(n.bbox.bounds,n.bbox.crs)),"wms"===n.type?o.Observable.defer((()=>e.wms.describeLayers((0,U.Hi)(n),n.name))).switchMap((e=>{if(e){let t=g()(e,(e=>e.name===n.name));if(t&&"WFS"===t.owsType){const e=Z.ZP.filterUrlParams(Z.ZP.cleanDuplicatedQuestionMarks(t.owsURL),(0,F.kS)(s));return o.Observable.of((0,w.He)(p,{search:{url:e,type:"wfs"}}))}}return o.Observable.empty()})).merge(o.Observable.from(a)).catch((e=>o.Observable.of((0,C.bu)(n,e)))):o.Observable.from(a)})).catch((()=>o.Observable.empty())),newCatalogServiceAdded:(t,r)=>t.ofType(C.mh).switchMap((()=>{const t=r.getState(),n=(0,F._S)(t);return o.Observable.of(n).switchMap((t=>e[t.type]?.preprocess?.(t)??o.Observable.of(t))).switchMap((t=>e[t.type]?.validate?.(t)??o.Observable.of(t))).switchMap((t=>e[t.type]?.testService?.(t)??o.Observable.of(t))).switchMap((()=>o.Observable.of((0,C.N3)(n),(0,M.Vp)({title:"notification.success",message:"catalog.notification.addCatalogService",autoDismiss:6,position:"tc"})))).startWith((0,C.Rc)(!0)).catch((e=>o.Observable.of((0,M.vU)({exception:e,title:"notification.warning",message:e.notification||"catalog.notification.warningAddCatalogService",autoDismiss:6,position:"tc"})))).concat(o.Observable.of((0,C.Rc)(!1)))})),deleteCatalogServiceEpic:(e,t)=>e.ofType(C.$Y).switchMap((()=>{const e=t.getState();let r=(0,F.Cb)(e);const n=(0,F.b6)(e);let i=n[r]?(0,M.Vp)({title:"notification.warning",message:"catalog.notification.serviceDeletedCorrectly",autoDismiss:6,position:"tc"}):(0,M.vU)({title:"notification.warning",message:"catalog.notification.impossibleDeleteService",autoDismiss:6,position:"tc"}),a=(0,C.SU)(r);return n[r]?o.Observable.of(i,a):o.Observable.of(i)})),openCatalogEpic:e=>e.ofType(I.At).filter((e=>"metadataexplorer"===e.control&&e.value)).switchMap((()=>o.Observable.of((0,L.YV)(),(0,A.g)(),(0,A.aN)()))),getMetadataRecordById:(t,r)=>t.ofType(C.UT).switchMap((t=>{let{metadataOptions:n={}}=t;const a=r.getState(),p=(0,k.Iz)(a);return o.Observable.defer((()=>e.wms.getCapabilities((0,U.Fh)(p)))).switchMap((t=>{const r=d()(t,"capability.layer.layer",[]),a=1===r.length?r[0].metadataURL:g()(r,(e=>e.name===p.name.split(":")[1])),c=d()(g()(a,(e=>b()(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&("application/xml"===e.format||"text/xml"===e.format))),"onlineResource.href"),u=d()(g()(a,(e=>b()(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&"text/html"===e.format)),"onlineResource.href"),m=g()(d()(n,"extractors",[]),(e=>{let{properties:t,layersRegex:r}=e;const o=r?new RegExp(r):null;return v()(t)&&(!r||o.test(p.name))})),h=u?{metadataUrl:u}:{},f=o.Observable.defer((()=>e.csw.getRecordById(p.catalogURL))).switchMap((e=>e&&e.error?o.Observable.of((0,M.vU)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),(0,w.c9)(h,!1)):e&&e.dc?o.Observable.of((0,w.c9)({...h,...e.dc},!1)):o.Observable.empty())),y=o.Observable.defer((()=>i().get(c,{headers:{Accept:"application/xml"}}))).pluck("data").map((e=>(new l.a).parseFromString(e))).map((e=>{const t=s().useNamespaces(n.xmlNamespaces||{}),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return P()(e).reduce(((e,n)=>{let i,[a,s]=n;if(v()(s)&&b()(s.xpath)&&v()(s.properties)&&S()(s.properties).length>0)i=t(s.xpath,o).map((e=>r(s.properties,e))),0===i.length&&(i=null);else{const e=t(s,o);1===e.length?i=d()(e[0],"nodeValue")??d()(e[0],"childNodes[0].nodeValue"):e.length>1&&(i=e.map((e=>d()(e,"childNodes[0].nodeValue"))).filter((e=>!!e)))}return{...e,...i?{[a]:i}:{}}}),{})};return r(m.properties,e)})).switchMap((e=>o.Observable.of((0,w.c9)({...h,...e},!1))));return c&&m?y:p.catalogURL?f:o.Observable.of((0,w.c9)(h,!1))})).startWith((0,w.c9)({},!0)).catch((()=>o.Observable.of((0,M.vU)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),(0,w.c9)({},!1))))})),autoSearchEpic:function(e){let{getState:t=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(C.CO).debounce((()=>{const e=t(),r=(0,F.l2)(e);return o.Observable.timer(r)})).switchMap((e=>{let{text:r}=e;const n=t(),i=(0,F.y)(n),{type:a,url:s,filter:l}=(0,F.R7)(n);return o.Observable.of((0,C.tt)({format:a,url:s,startPosition:1,maxRecords:i,text:r,options:{filter:l}}))}))},catalogCloseEpic:(e,t)=>e.ofType(C.ur).switchMap((()=>{const e=t.getState(),r=(0,D.YL)(e),n=(0,F.b6)(e);return o.Observable.of(...[(0,I.pu)("metadataexplorer","enabled",!1,"group",null),(0,C.In)("view"),(0,C.ye)()].concat("backgroundSelector"===r?[(0,C.Dw)(c()(S()(n))),(0,R.vw)(!0)]:[]))})),getSupportedFormatsEpic:function(e){let{getState:t=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(C.xM).filter((e=>(0,F.CK)(t())!==e?.url)).switchMap((function(){let{url:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.Observable.defer((()=>(0,G.T6)(e,!0))).switchMap((t=>o.Observable.of((0,C.nx)(t,e)))).let((0,B.hP)((0,C.We)(!0),(0,C.We)(!1),(()=>o.Observable.of((0,M.vU)({title:"layerProperties.format.error.title",message:"layerProperties.format.error.message"}),(0,C.We)(!1)))))}))},updateGroupSelectedMetadataExplorerEpic:(e,t)=>e.ofType(w.c7).filter((()=>(0,F.$t)(t.getState()))).switchMap((e=>{let{nodeType:r,id:n}=e;const i=t.getState(),a=0===(0,k.NP)(i).length||"group"!==r?"Default":n;return o.Observable.of((0,I.Xg)("metadataexplorer","group",a))}))})},33535:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var o={};r.r(o),r.d(o,{closeDetailsPanelEpic:()=>k,fetchDataForDetailsPanel:()=>N,storeDetailsInfoEpic:()=>G});var n=r(24852),i=r.n(n),a=r(71703),s=r(27361),l=r.n(s),p=r(57588),c=r(56826),u=r(827);const d=e=>e?.details?.detailsText;var m=r(55105),g=r(18869),h=r(45697),f=r.n(h),y=r(5346),b=r(65539),E=r(16919);function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends i().Component{render(){return i().createElement(E.Z,{open:this.props.active,size:660,position:"right",bsStyle:"primary",title:i().createElement(y.Z,{msgId:"details.title"}),onClose:()=>this.props.onClose(),glyph:"sheet",style:this.props.dockStyle},i().createElement(p.Panel,{id:this.props.id,style:this.props.panelStyle,className:this.props.panelClassName},i().createElement(b.Z,null,this.props.children)))}}v(_,"propTypes",{id:f().string,active:f().bool,panelStyle:f().object,dockStyle:f().object,panelClassName:f().string,style:f().object,onClose:f().func}),v(_,"contextTypes",{messages:f().object}),v(_,"defaultProps",{id:"mapstore-details",panelStyle:{zIndex:100,marginBottom:0,minHeight:"100%"},style:{},onClose:()=>{},active:!1,panelClassName:"details-panel"});const S=_;var T=r(94745),P=r(22843);var O=r(49977),x=r.n(O),C=r(13311),w=r.n(C),M=r(81808),I=r(33528),L=r(82904),A=r(24384),R=r(7412),F=r(52259),D=r(31398);const N=(e,t)=>e.ofType(c.eR).switchMap((()=>{const e=t.getState(),r=(0,u.Gi)(e),o=(0,F.getIdFromUri)(r);return x().Observable.fromPromise(A.Z.getData(o).then((e=>e))).switchMap((e=>x().Observable.of((0,I.YV)(),(0,c.bR)(e)))).startWith((0,L.Xi)("details","enabled")).catch((()=>x().Observable.of((0,D.d)({message:"maps.feedback.errorFetchingDetailsOfMap"}),(0,c.bR)(c.hi))))})),k=e=>e.ofType(c.f8).switchMap((()=>x().Observable.from([(0,L.Xg)("details","enabled",!1)]))),G=(e,t)=>e.ofType(M.KS).switchMap((()=>{const e=(0,u.J9)(t.getState()),r=t.getState()?.tutorial?.run;return e?x().Observable.fromPromise(A.Z.getResourceAttributes(e)).switchMap((t=>{let o=w()(t,{name:"details"});const n=w()(t,{name:"detailsSettings"});let i={};if(!o||o.value===R.Sp)return x().Observable.empty();try{i=JSON.parse(n.value)}catch(e){i={}}return x().Observable.of((0,c.XT)(e,o.value,i),...i.showAtStartup&&!r?[(0,c.UJ)()]:[])})):x().Observable.empty()})),j=(0,P.rx)("Details",{component:(0,a.connect)((e=>({active:l()(e,"controls.details.enabled"),dockStyle:(0,m.ic)(e,{height:!0}),detailsText:d(e),showAsModal:(0,u.qH)(e)?.showAsModal})),{onClose:c.nf})((e=>{let{active:t=!1,dockStyle:r,detailsText:o,showAsModal:n=!1,onClose:a=(()=>{})}=e;const s=i().createElement(g.Z,{className:"ms-details-preview-container",textContainerClassName:"ms-details-preview",loading:!o,detailsText:o===c.hi?null:o});return n?i().createElement(T.Z,{bodyClassName:"details-viewer-modal",fitContent:!0,showFullscreen:!0,show:t,size:"lg",title:i().createElement(y.Z,{msgId:"details.title"}),onClose:a},s):i().createElement(S,{dockStyle:r,active:t,onClose:a},s)})),containers:{BurgerMenu:{name:"details",position:1e3,priority:1,doNotHide:!0,text:i().createElement(y.Z,{msgId:"details.title"}),tooltip:"details.tooltip",icon:i().createElement(p.Glyphicon,{glyph:"sheet"}),action:c.UJ,selector:e=>{const t=(0,u.J9)(e);return t&&(0,u.Gi)(e,t)?{}:{style:{display:"none"}}}},Toolbar:{name:"details",position:2,priority:0,tooltip:"details.title",alwaysVisible:!0,doNotHide:!0,icon:i().createElement(p.Glyphicon,{glyph:"sheet"}),action:c.UJ,selector:e=>{const t=(0,u.J9)(e);return t&&(0,u.Gi)(e,t)?{}:{style:{display:"none"}}}}},epics:o,reducers:{details:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===c.UD?{...e,detailsText:t.detailsText}:e}}})},87011:(e,t,r)=>{"use strict";r.d(t,{Z:()=>q});var o=r(93379),n=r.n(o),i=r(40802);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=r(65544),s=r.n(a),l=r(27418),p=r.n(l),c=r(45697),u=r.n(c),d=r(24852),m=r.n(d),g=r(57588),h=r(71703),f=r(22222),y=r(82904),b=r(1550),E=r(15135),v=r(55105),_=r(6806),S=r(50966),T=r(1706),P=r(5346),O=r(38560);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},x.apply(this,arguments)}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class w extends m().Component{constructor(){super(...arguments),C(this,"getWidth",(()=>this.props.dynamicWidth||this.props.width)),C(this,"renderChildren",((e,t)=>{const r={key:e.key?e.key:t,ref:e.ref,open:this.props.activeKey&&this.props.activeKey===e.props.eventKey},{glyph:o,icon:n,buttonConfig:i,...a}=e.props;return m().createElement(e.type,x({},r,a))})),C(this,"renderButtons",(()=>this.props.children.map((e=>{const t=m().createElement(O.Z,{key:e.props.eventKey,bsSize:"large",className:e.props.buttonConfig&&e.props.buttonConfig.buttonClassName?e.props.buttonConfig.buttonClassName:"square-button",onClick:this.props.onChoose.bind(null,e.props.eventKey,this.props.activeKey===e.props.eventKey),bsStyle:this.props.activeKey===e.props.eventKey?"default":"primary"},e.props.glyph?m().createElement(g.Glyphicon,{glyph:e.props.glyph}):e.props.icon);if(e.props.buttonConfig&&e.props.buttonConfig.tooltip){const r=m().createElement(g.Tooltip,{key:"tooltip."+e.props.eventKey,id:"tooltip."+e.props.eventKey},m().createElement(P.Z,{msgId:e.props.buttonConfig.tooltip}));return m().createElement(S.Z,{placement:"bottom",key:"overlay-trigger."+e.props.eventKey,overlay:r},t)}return t})))),C(this,"renderContent",(()=>{const e=this.props.single?m().createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},m().createElement(g.Glyphicon,{glyph:"1-close",className:"no-border btn-default",onClick:this.props.onToggle,style:{cursor:"pointer"}}),m().createElement("div",{className:"navButtons"},this.renderButtons())):m().createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},m().createElement("span",{className:"title"},this.props.title),m().createElement(g.Glyphicon,{glyph:"1-close",className:"no-border btn-default",onClick:this.props.onToggle,style:{cursor:"pointer"}})),t=m().createElement("div",{className:"nav-content"},e,m().createElement("div",{className:"nav-body"},this.props.children.filter((e=>!this.props.single||this.props.activeKey===e.props.eventKey)).map(this.renderChildren)));return this.props.resizable?m().createElement(T.Resizable,{axis:"x",resizeHandles:["e"],width:this.getWidth(),onResize:this.resize},t):t})),C(this,"resize",((e,t)=>{let{size:r}=t;this.props.onResize(r.width)}))}componentDidMount(){if(!this.props.overlapMap&&this.props.show){let e={left:this.props.width,width:`calc(100% - ${this.props.width}px)`};this.props.changeMapStyle(e,"drawerMenu")}}componentDidUpdate(e){if(!this.props.overlapMap&&e.show!==this.props.show){let e=this.props.show?{left:this.props.width,width:`calc(100% - ${this.props.width}px)`}:{};this.props.changeMapStyle(e,"drawerMenu")}}render(){return m().createElement(_.Z,{styles:{sidebar:{...this.props.layout,zIndex:1022,width:this.getWidth()},overlay:{zIndex:1021},root:{right:this.props.show?0:"auto",width:"0",overflow:"visible"},content:{overflowY:"auto"}},sidebarClassName:"nav-menu",onSetOpen:()=>{this.props.onToggle()},open:this.props.show,docked:this.props.docked,sidebar:this.renderContent()},m().createElement("div",null))}}C(w,"propTypes",{title:u().node,alignment:u().string,activeKey:u().string,docked:u().bool,show:u().bool,onToggle:u().func,onChoose:u().func,single:u().bool,width:u().number,dynamicWidth:u().number,overlapMap:u().bool,changeMapStyle:u().func,layout:u().object,resizable:u().bool,onResize:u().func}),C(w,"defaultProps",{docked:!1,single:!1,width:300,overlapMap:!0,layout:{},resizable:!1,onResize:()=>{}});const M=w;var I=r(43614);function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class A extends m().Component{constructor(){super(...arguments),L(this,"onHeaderClick",(()=>{this.props.onHeaderClick(this.props.eventKey)})),L(this,"getHeight",(()=>this.props.open&&this.refs.sectionContent?this.refs.sectionContent.scrollHeight+10:"0"))}render(){var e={maxHeight:this.getHeight(),overflow:this.props.open?"auto":"hidden",padding:this.props.open?null:"0"};return m().createElement("div",{className:"section"},m().createElement("div",{className:"sectionHeader",style:{width:"100%"},onClick:this.onHeaderClick},this.props.renderInModal?null:m().createElement(g.Glyphicon,{glyph:"triangle-right",style:this.props.open?{transform:"rotate(90deg)"}:{}}),m().createElement("span",{className:this.headerClassName+" sectionTitle",ref:"sectionTitle"},this.props.header)),this.props.renderInModal?m().createElement(I.Z,{ref:"modal",show:this.props.open,onHide:this.onHeaderClick},m().createElement(I.Z.Header,{closeButton:!0},m().createElement(I.Z.Title,null,this.props.header)),m().createElement(I.Z.Body,null,this.props.children)):m().createElement("div",{ref:"sectionContent",className:"sectionContent",style:e},this.props.children))}}L(A,"displayName","Section"),L(A,"propTypes",{key:u().string,eventKey:u().string,headerClassName:u().string,open:u().bool,onHeaderClick:u().func,renderInModal:u().bool,header:u().node}),L(A,"defaultProps",{headerClassName:"panel-heading"});const R=A;var F=r(81756);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},D.apply(this,arguments)}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k=(0,E.Z)(O.Z),G=(0,f.P1)([e=>e.controls.drawer&&e.controls.drawer.enabled,e=>e.controls.drawer&&e.controls.drawer.menu||"1",e=>e.controls.queryPanel&&e.controls.queryPanel.enabled&&e.controls.drawer&&e.controls.drawer.width||e.controls.drawer&&e.controls.drawer.resizedWidth||void 0,e=>(0,v.ic)(e,{height:!0})],((e,t,r,o)=>({show:e,activeKey:t,dynamicWidth:r,layout:o}))),j=(0,h.connect)(G,{onToggle:y.Xi.bind(null,"drawer",null),onResize:y.Xg.bind(null,"drawer","resizedWidth"),onChoose:s()(y.Xg.bind(null,"drawer","menu"),!0),changeMapStyle:b.hd})(M),Z=(0,h.connect)((e=>({disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled})),{toggleMenu:y.Xi.bind(null,"drawer",null)})((e=>{let{id:t="",menuButtonStyle:r={},buttonStyle:o="primary",buttonClassName:n="square-button ms-drawer-menu-button",toggleMenu:i=(()=>{}),disabled:a=!1,glyph:s="1-layer",tooltipId:l="toc.drawerButton",tooltipPosition:p="bottom"}=e;return m().createElement(k,{id:t,style:r,bsStyle:o,key:"menu-button",className:n,onClick:i,disabled:a,tooltipId:l,tooltipPosition:p},m().createElement(g.Glyphicon,{glyph:s}))}));class U extends m().Component{constructor(){super(...arguments),N(this,"getTools",(()=>this.props.items.map(((e,t)=>p()({},e,{position:e.position||t}))).sort(((e,t)=>e.position-t.position)))),N(this,"renderItems",(()=>this.getTools().map(((e,t)=>{const r=e.panel||e.plugin,o=m().createElement(r,D({isPanel:!0},e.cfg,{items:e.items||[],groupStyle:{style:{marginBottom:"0px",cursor:"pointer"}}})),n=e.title?m().createElement("div",{className:"drawer-menu-head drawer-menu-head-"+e.name},m().createElement(F.Z,{msgId:e.title})):null;return this.props.singleSection?m().createElement(g.Panel,{icon:e.icon,glyph:e.glyph,buttonConfig:e.buttonConfig,key:e.name,eventKey:t+1+"",header:n},o):m().createElement(R,{key:e.name,renderInModal:e.renderInModal||!1,eventKey:t+1+"",header:n},o)}))))}render(){return this.getTools().length>0?m().createElement("div",{id:this.props.id},m().createElement(Z,D({},this.props,{id:"drawer-menu-button"})),m().createElement(j,D({single:this.props.singleSection},this.props.menuOptions,{title:m().createElement(F.Z,{msgId:"menu"}),alignment:"left"}),this.renderItems())):null}}N(U,"propTypes",{items:u().array,active:u().string,toggleMenu:u().func,id:u().string,glyph:u().string,buttonStyle:u().string,menuOptions:u().object,singleSection:u().bool,buttonClassName:u().string,menuButtonStyle:u().object,disabled:u().bool}),N(U,"contextTypes",{messages:u().object,router:u().object}),N(U,"defaultProps",{id:"mapstore-drawermenu",items:[],toggleMenu:()=>{},glyph:"1-layer",buttonStyle:"primary",menuOptions:{},singleSection:!0,buttonClassName:"square-button ms-drawer-menu-button",disabled:!1});const B=(0,h.connect)((e=>({active:e.controls&&e.controls.drawer&&e.controls.drawer.active,disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled})),{toggleMenu:y.Xi.bind(null,"drawer",null)})(U),q={DrawerMenuPlugin:p()(B,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}",FloatingLegend:{priority:1,name:"drawer-menu",button:Z}}),reducers:{}}},9842:(e,t,r)=>{"use strict";r.d(t,{Z:()=>M});var o=r(71703);const n="TOGGLE_FULLSCREEN";var i=r(10577),a=r.n(i),s=r(91175),l=r.n(s),p=r(10928),c=r.n(p),u=r(82904),d=r(37275),m=r(49977),g=r.n(m);var h=r(27418),f=r.n(h),y=r(45697),b=r.n(y),E=r(24852),v=r.n(E),_=r(82457),S=r(57588),T=r(5346);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},P.apply(this,arguments)}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends v().Component{constructor(){super(...arguments),O(this,"getButtonProperties",(()=>["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce(((e,t)=>(e[t]=this.props[t],e)),{})))}render(){return v().createElement(_.Z,P({},this.getButtonProperties(),{pressed:this.props.active,tooltip:v().createElement(S.Tooltip,{id:"full-screen-button-tip"},v().createElement(T.Z,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}O(x,"propTypes",{id:b().string,btnConfig:b().object,options:b().object,text:b().oneOfType([b().string,b().element]),help:b().oneOfType([b().string,b().element]),glyphicon:b().string,active:b().bool,onClick:b().func,activeTooltip:b().string,notActiveTooltip:b().string,tooltipPlace:b().string,style:b().object,btnType:b().oneOf(["normal","image"]),image:b().string,pressedStyle:b().string,defaultStyle:b().string}),O(x,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}});const C=x,w=(0,o.connect)((function(){let{controls:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{active:e.fullscreen&&e.fullscreen.enabled}}),{onClick:(e,t)=>{return r=e,o=t.querySelector,{type:n,enable:r,querySelector:o};var r,o}})(C),M={FullScreenPlugin:f()(w,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:e=>e.ofType(n).switchMap((e=>{const t=document.querySelector(e&&e.querySelector||"."+(d.ZP.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&a().enabled?a().request(t):t&&!e.enable&&a().exit(),g().Observable.merge(g().Observable.fromEvent(document,c()(l()([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((e=>document[e[0]]))))).filter((()=>a().element!==t)).map((()=>(0,u.Xg)("fullscreen","enabled",!1))),g().Observable.of((0,u.Xg)("fullscreen","enabled",e.enable)),g().Observable.fromEvent(window,"hashchange").do((()=>a().exit())).map((()=>(0,u.Xg)("fullscreen","enabled",!1))))}))}}},181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var o=r(27418),n=r.n(o),i=r(71703),a=r(24852),s=r.n(a),l=r(38560),p=r(45697),c=r.n(p),u=r(57588),d=r(50966),m=r(5346),g=r(37275);function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends s().Component{constructor(){super(...arguments),h(this,"display",(()=>{let e=this.generateRegex();return this.props.originalUrl||g.ZP.getConfigProp("originalUrl")||location.href.match(e)})),h(this,"openFull",(e=>{e&&window.open(e,"_blank")})),h(this,"generateRegex",(()=>new RegExp(this.props.urlRegex))),h(this,"generateUrl",(()=>{let e=this.props.originalUrl||g.ZP.getConfigProp("originalUrl");if(e)return e;let t=this.generateRegex();return location.href.match(t)?location.href.replace(t,this.props.urlReplaceString):null}))}render(){return this.display()?s().createElement(d.Z,{placement:"left",overlay:s().createElement(u.Tooltip,{id:"gofull-tooltip"},s().createElement(m.Z,{msgId:this.props.tooltip}))},s().createElement(l.Z,{className:"square-button",bsStyle:"primary",onClick:()=>this.openFull(this.generateUrl())},s().createElement(u.Glyphicon,{glyph:this.props.glyph}))):null}}h(f,"propTypes",{glyph:c().string,tooltip:c().string,urlRegex:c().string,urlReplaceString:c().string,originalUrl:c().string}),h(f,"defaultProps",{glyph:"share",tooltip:"fullscreen.viewLargerMap",urlRegex:"^(.*?)embedded.html.*?#\\/(\\d?)",urlReplaceString:"$1#/viewer/leaflet/$2"});const y=f,b=(0,i.connect)((()=>({})))(y),E={GoFullPlugin:n()(b,{Toolbar:{name:"gofull",position:1,toolStyle:"primary",tooltip:"fullscreen.viewLargerMap",tool:!0,priority:1}}),reducers:{}}},76176:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Qe});var o=r(93379),n=r.n(o),i=r(9960);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=r(52353),s=r.n(a),l=r(27418),p=r.n(l),c=r(24852),u=r.n(c),d=r(57588),m=r(71703),g=r(67076),h=r(22222),f=r(1550),y=r(21914),b=r(42872),E=r(11196),v=r(7654),_=r.n(v),S=r(14293),T=r.n(S),P=r(61868);const O=(0,g.withHandlers)({needsRefresh:()=>(e,t)=>{if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1},onClose:e=>{let{purgeResults:t=(()=>{}),closeIdentify:r=(()=>{})}=e;return()=>{t(),r()}},onSubmitClickPoint:e=>{let{onSubmitClickPoint:t=(()=>{}),point:r}=e;return e=>{const o=T()(e.lat)||_()(e.lat)?0:parseFloat(e.lat),n=T()(e.lon)||_()(e.lon)?0:parseFloat(e.lon);let i=(0,P.t8)("latlng.lng",n,(0,P.t8)("latlng.lat",o,r));t(i)}},onChangeFormat:e=>{let{onChangeFormat:t=(()=>{})}=e;return e=>{t(e)}}}),x=(0,g.compose)(O,(0,g.lifecycle)({componentDidMount(){const{enabled:e,showInMapPopup:t,changeMousePointer:r=(()=>{}),disableCenterToMarker:o,enableInfoForSelectedLayers:n=!0,onEnableCenterToMarker:i=(()=>{}),setShowInMapPopup:a=(()=>{}),checkIdentifyIsMounted:s=(()=>{}),onInitPlugin:l=(()=>{})}=this.props;l({enableInfoForSelectedLayers:n}),e||t?(r("pointer"),s(!0)):s(!1),o||i(),a(t)},componentWillUnmount(){const{hideMarker:e=(()=>{}),purgeResults:t=(()=>{}),changeMousePointer:r=(()=>{}),checkIdentifyIsMounted:o=(()=>{})}=this.props;r("auto"),o(!1),e(),t()},componentWillReceiveProps(e){const{hideMarker:t=(()=>{}),purgeResults:r=(()=>{}),changeMousePointer:o=(()=>{}),enabled:n}=this.props;e.enabled&&!n?o("pointer"):!e.enabled&&n&&(o("auto"),t(),r()),this.props.showInMapPopup!==e.showInMapPopup&&e.setShowInMapPopup?.(e.showInMapPopup)}}));var C=r(13292),w=r.n(C);const M=(0,g.withHandlers)({zoomToFeature:e=>{let{zoomToExtent:t=(()=>{}),currentFeature:r=[],currentFeatureCrs:o}=e;return()=>{const e=r.filter((e=>{let{geometry:t}=e;return!!t}));if(e.length>0){const r=w()({type:"FeatureCollection",features:e});r&&t(r,o)}}}});var I=r(27361),L=r.n(I),A=r(80717),R=r(5346),F=r(32107),D=r(94745),N=r(99534);const k=e=>{let{latlng:t,enableRevGeocode:r,hideRevGeocode:o=(()=>{}),showModalReverse:n,revGeocodeDisplayName:i}=e;return r&&t?u().createElement(N.Z,null,u().createElement(D.Z,{fade:!0,title:u().createElement("span",null,u().createElement(d.Glyphicon,{glyph:"map-marker"})," ",u().createElement(R.Z,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:n,onClose:o,buttons:[{text:u().createElement(R.Z,{msgId:"close"}),onClick:o,bsStyle:"primary"}]},u().createElement("div",{className:"ms-alert",style:{padding:15}},u().createElement("div",{className:"ms-alert-center text-center"},u().createElement("div",null,i))))):null};var G=r(77676),j=r(47361);const Z=(0,r(62395).Z)((e=>{let{degrees:t=0,minutes:r=0,seconds:o=0,direction:n,integerFormat:i,decimalFormat:a}=e;return u().createElement("span",{className:"coordinate-dms"},u().createElement(j.Z,{key:"latD",numberParams:i,value:t}),u().createElement("span",null,"° "),u().createElement(j.Z,{key:"latM",numberParams:i,value:r}),u().createElement("span",null,"' "),u().createElement(j.Z,{key:"latS",numberParams:a,value:o}),u().createElement("span",null,"'' ")," ",u().createElement("span",null,n))})),U=e=>{let{integerFormat:t={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},decimalFormat:r={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4},coordinate:o={},formatCoord:n="decimal",className:i}=e;return u().createElement(d.Row,{className:i},u().createElement(d.Col,{xs:12},T()(o.lat)||T()(o.lon)?null:"decimal"===n?u().createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",u().createElement(j.Z,{value:Math.round(1e5*o.lat)/1e5})," - Long: ",u().createElement(j.Z,{value:o.lon})):u().createElement("div",{className:"ms-coordinates-aeronautical"},u().createElement("span",null,"Lat: ",u().createElement(Z,{integerFormat:t,decimalFormat:r,value:o.lat})),u().createElement("span",null," - "),u().createElement("span",null," Long: ",u().createElement(Z,{coordinate:"lon",integerFormat:t,decimalFormat:r,value:o.lon})))))},B=e=>{let{coordinate:t={},formatCoord:r,edit:o,onSubmit:n=(()=>{}),onChangeFormat:i=(()=>{})}=e;return o?u().createElement(G.Z,{removeVisible:!1,formatCoord:r,coordinate:t||{lat:"",lon:""},onSubmit:n,onChangeFormat:i}):u().createElement(U,{className:"coordinates-text",formatCoord:r,coordinate:t||{lat:"",lon:""}})};var q=r(2870),z=r(45697),W=r.n(z),H=r(43129),V=r(41609),K=r.n(V);function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Y.apply(this,arguments)}const $=(0,r(93451).Z)(["placeholder","clearValueText","noResultsText"])(H.ZP),X=e=>{let{responses:t,index:r,loaded:o,setIndex:n,missingResponses:i,emptyResponses:a,validator:s,format:l}=e;const[p,d]=(0,c.useState)([]),[m,g]=(0,c.useState)("");return(0,c.useEffect)((()=>{K()(t)||d(t.map(((e,t)=>{const r=e?.layerMetadata?.title;return{label:r,value:r,idx:t,style:{display:s(l)?.getValidResponses([e]).length?"block":"none"}}})))}),[t]),(0,c.useEffect)((()=>{o&&g(t[r]?.layerMetadata?.title||"")}),[t,r,o]),u().createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%",padding:"0px 4px"}},u().createElement($,Y({},{clearable:!1,isSearchable:!0},{onChange:e=>{n(e?.idx||0)},value:m||"",options:p,disabled:0!==i||0===t.length||a,noResultsText:"identifyLayerSelectNoResult"})))};X.defaultProps={responses:[],index:0,loaded:!1,setIndex:()=>{},missingResponses:0,emptyResponses:!1,validator:()=>{},format:""},X.propTypes={responses:W().array,setIndex:W().func,index:W().number,emptyResponses:W().bool,validator:W().func,format:W().string};const Q=X;function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},J.apply(this,arguments)}var ee=r(73014),te=r(87320),re=r(81756);function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ne extends u().Component{constructor(){super(...arguments),oe(this,"onChange",(e=>{this.props.onSetMapTrigger(e.target.value),this.props.onPurgeMapInfoResults(),this.props.onHideMapinfoMarker()}))}render(){return u().createElement(d.FormGroup,{bsSize:"small"},u().createElement(d.ControlLabel,null,u().createElement(re.Z,{msgId:"infoTriggerLabel"})),u().createElement(d.FormControl,{value:this.props.hoverEnabled?this.props.trigger:"click",componentClass:"select",onChange:this.onChange},u().createElement("option",{value:"click",key:"click"},"Click"),u().createElement("option",{disabled:!this.props.hoverEnabled,value:"hover",key:"hover"},"Hover")))}}oe(ne,"propTypes",{trigger:W().string,onSetMapTrigger:W().func,onPurgeMapInfoResults:W().func,onHideMapinfoMarker:W().func,hoverEnabled:W().bool}),oe(ne,"defaultProps",{hoverEnabled:!0,onSetMapTrigger:()=>{},onPurgeMapInfoResults:()=>{},onHideMapinfoMarker:()=>{}});const ie=ne;var ae=r(49977),se=r.n(ae),le=r(13311),pe=r.n(le),ce=r(31351),ue=r.n(ce),de=r(55877),me=r.n(de),ge=r(75982),he=r(82904),fe=r(33528),ye=r(95797),be=r(80416),Ee=r(42780),ve=r(81808),_e=r(73814),Se=r(97222),Te=r(7877),Pe=r(75110),Oe=r(31255),xe=r(69842),Ce=r(827),we=r(55105),Me=r(90183),Ie=r(2510),Le=r(7147),Ae=r(38842),Re=r(52259),Fe=r(7412),De=r(21751),Ne=r(49243),ke=r(13652);const Ge=(e,t)=>{const r=L()(e,"latlng.lng"),o=L()(e,"latlng.lat"),n=(0,Me.reproject)([r,o],"EPSG:4326",t),i=(0,Re.getHook)(Re.GET_PIXEL_FROM_COORDINATES_HOOK);let a;if(i){const[e,t]=i([n.x,n.y]);a={x:e,y:t}}else a=e.pixel;const s=(0,Re.getHook)(Re.GET_COORDINATES_FROM_PIXEL_HOOK),l=(0,Me.calculateCircleRadiusFromPixel)(s,a,n,5),p={type:"geometry",enabled:!0,value:{geometry:{center:[n.x,n.y],coordinates:(0,Me.calculateCircleCoordinates)(n,l,12),extent:[n.x-l,n.y-l,n.x+l,n.y+l],projection:t,radius:l,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return{...e,pixel:a,geometricFilter:p}},je={getFeatureInfoOnFeatureInfoClick:(e,t)=>{let{getState:r=(()=>{})}=t;return e.ofType(y.xy).switchMap((e=>{let{point:t,filterNameList:o=[],overrideParams:n={}}=e,i=ue()((0,Pe.OX)(r()));const a=(0,Pe.$z)(r());(0,Te.Bh)(r())&&a.length&&(i=a);const s=(0,Pe.NP)(r());if(0===i.length||0===a.length&&0!==s.length)return se().Observable.of((0,y.g)(),(0,y.LU)());const l=["SLD_BODY"],p=["buffer","cql_filter","filter","propertyName"],c=se().Observable.from(i.filter((e=>!o.length||o.filter((t=>-1!==t.indexOf(e.name))).length>0))).mergeMap((e=>{let t=(0,Ae.fY)(r()),{url:o,request:a,metadata:s}=(0,Fe.Fm)(e,{...(0,Te.oq)(r()),env:t});if((0,Te.A4)(r())&&(0,Te.Ap)(r())&&(a={...a,...(0,Te.Ap)(r())[e.name]}),n[e.name]&&(a={...a,...n[e.name]}),o){const t=o,n=a,i=s,c=(0,Fe.K7)(e,p,l),u=(0,Te.hs)(r()),d=(0,Te.A4)(r()),m=me().v1(),g={...c,...n};return(0,Ne.y)(t,g,e,{attachJSON:u,itemId:d}).map((t=>t.data.exceptions?(0,y.Mn)(m,t.data.exceptions,n,i):(0,y.Fm)(m,t.data,n,{...i,features:t.features,featuresCrs:t.featuresCrs},e))).catch((e=>se().Observable.of((0,y.sV)(m,e.data||e.statusText||e.status,n,i)))).startWith((0,y.WU)(m,g))}return se().Observable.of((0,y.JB)(e,a,s,i))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?c:c.startWith((0,y.g)())}))},handleMapInfoMarker:(e,t)=>{let{getState:r}=t;return e.ofType(y.xy).filter((()=>!(0,Te.xt)(r()))).map((e=>{let{layer:t}=e;return t?(0,y.aN)():(0,y.HP)()}))},closeFeatureGridFromIdentifyEpic:e=>e.ofType(y.XL,y.qb).switchMap((()=>se().Observable.of((0,fe.YV)()))),closeFeatureAndAnnotationEditing:function(e){let{getState:t=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(y.cb).switchMap((()=>L()(t(),"annotations.editing")?se().Observable.of((0,Ee.g)()):se().Observable.of((0,y.g)())))},hideMarkerOnIdentifyCloseOrClearWarning:e=>e.ofType(y.cb,y.ih).flatMap((()=>se().Observable.of((0,y.aN)()))),changeMapPointer:(e,t)=>e.ofType(f.N7).filter((()=>!t.getState().map)).switchMap((t=>e.ofType(ve.ok).mapTo(t))),onMapClick:(e,t)=>e.ofType(f.TR).filter((()=>{const{disableAlwaysOn:e=!1}=t.getState().mapInfo;return!(0,Ce.Mc)(t.getState())&&(e||(r=t.getState()||{},!((0,Te.lN)(r)||(0,Oe.Rd)(r)&&((e=>"EDIT"===(0,Oe.eK)(e))(r)||(e=>L()(pe()((0,Oe.M0)(e),(e=>"geometry"===e.type)),"enabled"))(r)))));var r})).switchMap((e=>{let{point:r,layer:o}=e;const n=(0,Ce.uy)(t.getState());return se().Observable.of((0,y.lK)(Ge(r,n),o),(0,Se.KG)()).merge(se().Observable.of((0,_e.i8)(me()(),{component:De.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:r?r.rawPos:[]}})).filter((()=>(0,Te.xt)(t.getState()))))})),onUpdateFeatureInfoClickPoint:function(e){let{getState:t=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(y.jL).map((e=>{let{point:r}=e;const o=(0,Ce.uy)(t());return{point:Ge(r,o)}})).withLatestFrom(e.ofType(y.xy),((e,t)=>{let{point:r}=e;return{...t,point:r}}))},featureInfoClickOnHighligh:function(e){let{getState:t=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(y.oz).filter((e=>{let{enabled:r}=e;return r&&(0,Te.Bz)(t())})).switchMap((()=>se().Observable.from([(0,y.lK)((0,Te.Bz)(t()),(0,Te.H_)(t()),(0,Te.ij)(t()),(0,Te.Ap)(t()),(0,Te.A4)(t())),(0,y.HP)()])))},zoomToVisibleAreaEpic:(e,t)=>e.ofType(y.xy).filter((()=>(0,Pe._$)(t.getState()))).switchMap((r=>e.ofType(y.XL,y.km).mergeMap((()=>{const o=t.getState(),n=(0,Ce.Od)(o),i=(0,Ce.uy)(o),a=(0,Ce.pb)(o),s=pe()(a,{code:i}),l=s&&s.extent,p=l&&(0,Me.reprojectBbox)(l,i,"EPSG:4326"),c=(0,we.Nr)(o),u=r.point&&r.point&&r.point.latlng,d=(0,Re.getCurrentResolution)(Math.round(n.zoom),0,21,96),m=c&&n&&n.size&&{left:(0,Re.parseLayoutValue)(c.left,n.size.width),bottom:(0,Re.parseLayoutValue)(c.bottom,n.size.height),right:(0,Re.parseLayoutValue)(c.right,n.size.width),top:(0,Re.parseLayoutValue)(c.top,n.size.height)};if(!n||!m||!u||r.point.cartographic||(0,Me.isInsideVisibleArea)(u,n,m,d)||(0,Ce.Mc)(o))return se().Observable.of((0,y.PM)("disabled"));if(p&&!(0,Me.isPointInsideExtent)(u,p))return se().Observable.empty();const g=(0,Me.centerToVisibleArea)(u,n,m,d);return se().Observable.of((0,y.PM)("enabled"),(0,f.xy)(g.pos,g.zoom,g.crs)).concat(e.ofType(y.cb).switchMap((()=>{const e=n&&(0,Re.getBbox)(n.center,n.zoom);return se().Observable.of((0,f.o6)(n.center,n.zoom,e,n.size,null,n.projection))})).takeUntil(e.ofType(f.pP).skip(1)))})))),closeFeatureInfoOnCatalogOpenEpic:(e,t)=>e.ofType(he.dc).filter((e=>"metadataexplorer"===e.control&&e.properties&&e.properties.enabled)).switchMap((()=>se().Observable.of((0,y.g)(),(0,y.aN)()).merge(se().Observable.of((0,_e.UK)()).filter((()=>(0,Te.xt)(t.getState())))))),closeFeatureInfoOnAnnotationOpenEpic:(e,t)=>{let{getState:r}=t;return e.ofType(he.kM).filter((function(){let{control:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"annotations"===e&&L()(r(),"controls.annotations.enabled",!1)})).mapTo((0,y.g)())},closeFeatureInfoOnMeasureOpenEpic:e=>e.ofType(he.At).filter((function(){let{control:e,value:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"measure"===e&&t})).mapTo((0,y.g)()),cleanPopupsEpicOnPurge:(e,t)=>{let{getState:r}=t;return e.ofType(y.DZ).filter((()=>(0,Te.xt)(r()))).mapTo((0,_e.UK)())},identifyEditLayerFeaturesEpic:(e,t)=>e.ofType(y.fv).exhaustMap((e=>{let{layer:r}=e;return se().Observable.of((0,y.ZM)((0,Te.Bz)(t.getState())?.geometricFilter),(0,be.Qr)(r))})),switchFeatureGridToEdit:(e,t)=>e.ofType(ye.Yx).switchMap((()=>{const e=(0,Te.AO)(t.getState()),r=(pe()((0,Oe.M0)(t.getState()),(e=>"geometry"===e.type))||{}).attribute||L()((0,xe.vE)(t.getState()),"attribute");return e?se().Observable.of((0,y.ZM)(),(0,fe.lg)(),(0,fe.a8)({...e,attribute:r,value:{...e.value,attribute:r}})):se().Observable.empty()})),resetCurrentEditFeatureQuery:e=>e.ofType(fe.sF,ge.nk).mapTo((0,y.ZM)()),mouseMoveMapEventEpic:(e,t)=>{let{getState:r}=t;return e.ofType(f.Jb).debounceTime((0,Ie.nR)(r())).switchMap((e=>{let{position:t,layer:o}=e;const n=(0,Le.Yq)("annotations")(r()),i=(0,Le.QF)(r()),a=(s=r(),L()(s,"mousePosition.mouseOut"));var s;return!(0,Ce.Mc)(r())||n||i||a?se().Observable.empty():se().Observable.of((0,y.lK)(t,o)).merge(se().Observable.of((0,_e.i8)(me()(),{component:De.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:(e,t)=>{let{getState:r}=t;return e.ofType(f.GI).switchMap((()=>{let e=se().Observable.empty();const t=r()?.mapPopups?.popups||[];if(t.length&&!(0,Ce.Mc)(r())){const r=t[0].id;e=se().Observable.of((0,_e.hC)(r))}return e}))},removePopupOnLocationChangeEpic:(e,t)=>{let{getState:r}=t;return e.ofType(ge.nk,y.DZ,y.ih).switchMap((()=>{let e=se().Observable.empty();const t=r()?.mapPopups?.popups||[];if(t.length){const r=t[0].id;e=se().Observable.of((0,_e.hC)(r))}return e}))},removeMapInfoMarkerOnRemoveMapPopupEpic:(e,t)=>{let{getState:r}=t;return e.ofType(_e.HH).switchMap((()=>(0,Ce.Mc)(r())?se().Observable.of((0,y.aN)()):se().Observable.empty()))},setMapTriggerEpic:(e,t)=>e.ofType(y.zX,ve.ok,ke.Wz).switchMap((()=>se().Observable.of("hover"===(0,Te.EI)(t.getState())?(0,f.H0)("mousemove","identifyFloatingTool"):(0,f.$X)("mousemove","identifyFloatingTool"))))};var Ze=r(26125),Ue=r(81126),Be=r(8316),qe=r(93152),ze=r(37275);const We=(0,h.zB)({enabled:e=>(0,Te.yg)(e)||e.controls&&e.controls.info&&e.controls.info.enabled||!1,responses:Te.q7,validResponses:Te.o9,requests:Te.OK,format:Te.us,map:Ce.Od,layers:Pe.l2,point:Te.Bz,showModalReverse:e=>e.mapInfo&&e.mapInfo.showModalReverse,reverseGeocodeData:e=>e.mapInfo&&e.mapInfo.reverseGeocodeData,warning:e=>e.mapInfo&&e.mapInfo.warning,currentLocale:Be.Pz,dockStyle:e=>(0,we.ic)(e,{height:!0}),formatCoord:e=>e.mapInfo&&e.mapInfo.formatCoord||ze.ZP.getConfigProp("defaultCoordinateFormat"),showCoordinateEditor:e=>e.mapInfo&&e.mapInfo.showCoordinateEditor,showEmptyMessageGFI:e=>(0,Te.x0)(e),isEditingAllowed:Oe.nq,isCesium:qe.c0,floatingIdentifyEnabled:e=>(0,Ce.Mc)(e)}),He=(0,g.compose)((0,m.connect)((0,h.P1)(Te.Qf,Te.vR,(e=>e.browser&&e.browser.mobile),((e,t,r)=>({index:e,loaded:t,isMobile:r}))),{setIndex:y.oO})),Ve=(0,g.compose)(He,E.Yy,E.mI,(0,ee.Z)((e=>{let{loaded:t}=e;return s()(t)})))(b.Z),Ke=(0,g.defaultProps)({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:(0,Fe.wR)(),requests:[],responses:[],viewerOptions:{},viewer:Ve,purgeResults:()=>{},hideMarker:()=>{},clearWarning:()=>{},changeMousePointer:()=>{},showRevGeocode:()=>{},checkIdentifyIsMounted:()=>{},hideRevGeocode:()=>{},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:e=>{let{showHighlightFeatureButton:t,currentFeature:r,highlight:o,onEdit:n=(()=>{}),...i}=e;return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:i.latlng&&i.enableRevGeocode&&i.lngCorrected&&i.showMoreInfo,onClick:()=>{i.showRevGeocode({lat:i.latlng.lat,lng:i.lngCorrected})}},{glyph:"search-coords",tooltipId:i.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:i.enabledCoordEditorButton,bsStyle:i.showCoordinateEditor?"success":"primary",onClick:()=>{i.onToggleShowCoordinateEditor(i.showCoordinateEditor)}},{glyph:"pencil",visible:i.showEdit,tooltipId:"identifyEdit",onClick:()=>n()}].filter((e=>e&&e.visible))},getFeatureButtons:e=>{let{showHighlightFeatureButton:t,currentFeature:r,highlight:o,toggleHighlightFeature:n=(()=>{}),zoomToFeature:i=(()=>{})}=e;return[{glyph:"map-filter",visible:t,tooltipId:o?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:o?"success":"primary",onClick:()=>n(!o)},{glyph:"zoom-to",visible:o&&!!r&&r.length>0&&r.reduce((function(e){let{geometry:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e||!!t}),!1)||!1,tooltipId:"identifyZoomToFeature",onClick:i}]},showFullscreen:!1,validResponses:[],validator:Fe.Te,zIndex:1050}),Ye=(0,g.compose)((0,m.connect)(We,{onInitPlugin:y.kT,purgeResults:y.g,closeIdentify:y.Mc,onSubmitClickPoint:y.sv,onToggleShowCoordinateEditor:y.RA,onChangeFormat:y.Zw,changeMousePointer:f.Mo,clearWarning:y.XP,hideMarker:y.aN,showRevGeocode:y.Pg,hideRevGeocode:y.u0,onEnableCenterToMarker:y.PM.bind(null,"enabled"),onEdit:y.am,checkIdentifyIsMounted:y.Qu},((e,t,r)=>({...r,...e,...t,enabled:e.enabled&&(e.isCesium||!r.showInMapPopup)&&!e.floatingIdentifyEnabled}))),(0,g.compose)((0,m.connect)((0,h.zB)({highlight:Te.hs,currentFeature:Te.IA,currentFeatureCrs:Te.Kc}),{toggleHighlightFeature:y.MO,zoomToExtent:f.Px}),M),(0,m.connect)((0,h.P1)(qe.$v,(e=>({mapType:e}))),{},((e,t,r)=>{let{mapType:o}=e,{showHighlightFeatureButton:n,...i}=r;return{...i,showHighlightFeatureButton:"openlayers"===o&&n}})),Ke,He,E.mI,(0,m.connect)((()=>({})),{setShowInMapPopup:y.Y$}),x)((e=>{const{enabled:t,requests:r=[],onClose:o=(()=>{}),responses:n=[],index:i,viewerOptions:a={},format:s,dock:l=!0,position:p,size:c,fluid:m,validResponses:g=[],viewer:h=(()=>null),getToolButtons:f=(()=>[]),getFeatureButtons:y=(()=>[]),showFullscreen:b,reverseGeocodeData:E={},point:v,dockStyle:_={},draggable:S,setIndex:T,warning:P,clearWarning:O,zIndex:x,showEmptyMessageGFI:C,showEdit:w,isEditingAllowed:M,onEdit:I=(()=>{}),enabledCoordEditorButton:G,showCoordinateEditor:j,onSubmitClickPoint:Z,onChangeFormat:U,formatCoord:z,loaded:W,validator:H=(()=>null),toggleHighlightFeature:V=(()=>{}),disableCoordinatesRow:K,disableInfoAlert:Y}=e,$=v&&v.latlng||null,X=n[i],{layer:ee}=X||{};let te=null;$&&(te=$&&Math.round(1e17*$.lng)/1e17,te-=360*Math.floor(te/360+.5));const re=h,oe=f({...e,lngCorrected:te,validResponses:g,latlng:$,showEdit:w&&M&&!!X&&(0,q.j)(X),onEdit:I.bind(null,ee&&{id:ee.id,name:ee.name,url:L()(ee,"search.url")})}),ne=r.length===H(s)?.getNoValidResponses(n)?.length||0,ie=r.length-n.length,ae=E.error?u().createElement(R.Z,{msgId:"identifyRevGeocodeError"}):E.display_name;return u().createElement("div",{id:"identify-container",className:t&&0!==r.length?"identify-active":""},u().createElement(F.Z,{bsStyle:"primary",glyph:"map-marker",open:t&&0!==r.length,size:c,fluid:m,position:p,draggable:S,onClose:()=>{o(),V(!1)},dock:l,style:_,showFullscreen:b,zIndex:x,header:[u().createElement(d.Row,{className:"layer-select-row"},u().createElement("div",{className:"layer-col"},u().createElement("span",{className:"identify-icon glyphicon glyphicon-1-layer"}),u().createElement(Q,{responses:n,index:i,loaded:W,setIndex:T,missingResponses:ie,emptyResponses:ne,validator:H,format:s}),u().createElement(A.Z,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:y(e),transitionProps:null}))),!K&&u().createElement(d.Row,{className:"coordinates-edit-row"},u().createElement("span",{className:"identify-icon glyphicon glyphicon-point"}),u().createElement("div",{style:j?{zIndex:1}:{},className:"coordinate-editor"},u().createElement(B,{key:"coordinate-editor",formatCoord:z,enabledCoordEditorButton:G,onSubmit:Z,onChangeFormat:U,edit:j,coordinate:{lat:$&&$.lat,lon:te}})),u().createElement(k,J({latlng:$,revGeocodeDisplayName:ae},e)),u().createElement(A.Z,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:oe,transitionProps:null}))].filter((e=>e))},u().createElement(re,J({index:i,setIndex:T,format:s,missingResponses:ie,responses:n,requests:r,showEmptyMessageGFI:C,disableInfoAlert:Y},a))),u().createElement(N.Z,null,u().createElement(D.Z,{fade:!0,title:u().createElement(R.Z,{msgId:"warning"}),size:"xs",show:P,onClose:O,buttons:[{text:u().createElement(R.Z,{msgId:"close"}),onClick:O,bsStyle:"primary"}]},u().createElement("div",{className:"ms-alert",style:{padding:15}},u().createElement("div",{className:"ms-alert-center text-center"},u().createElement(R.Z,{msgId:"identifyNoQueryableLayers"}))))))})),$e=(0,m.connect)((e=>({infoFormat:(0,Te.us)(e)})),{onInfoFormatChange:y.ws})(te.Z),Xe=(0,m.connect)((e=>({trigger:(0,Ce.Mc)(e)?"hover":"click",hoverEnabled:(0,Te.qK)(e)})),{onSetMapTrigger:y.wm,onPurgeMapInfoResults:y.g,onHideMapinfoMarker:y.aN})(ie),Qe={IdentifyPlugin:p()(Ye,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:u().createElement(d.Glyphicon,{glyph:"map-marker"}),help:u().createElement(re.Z,{msgId:"helptexts.infoButton"}),action:y.TM,selector:e=>({bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)})},Settings:{tool:[u().createElement($e,{key:"featureinfoformat",label:u().createElement(re.Z,{msgId:"infoFormatLbl"})}),u().createElement(Xe,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:Ze.Z,mapPopups:Ue.Z},epics:je}},60860:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var o=r(93379),n=r.n(o),i=r(66241);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=r(24852),s=r.n(a),l=r(71703),p=r(57588);const c="CHANGE_LOCATE_STATE",u="LOCATE_ERROR";function d(e){return{type:c,state:e}}var m=r(81756),g=r(45697),h=r.n(g),f=r(5346),y=r(50966),b=r(97671),E=r.n(b),v=r(38560);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_.apply(this,arguments)}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.e(1671).then(r.bind(r,11671));let T=!1,P=!1;class O extends s().Component{constructor(){super(...arguments),S(this,"onClick",(()=>{let e;switch(this.props.locate){case"FOLLOWING":case"LOCATING":case"PERMISSION_DENIED":e="DISABLED";break;case"ENABLED":e="FOLLOWING";break;case"DISABLED":e="ENABLED"}this.props.onClick(e)})),S(this,"renderButton",(()=>{const e="PERMISSION_DENIED"===this.props.locate;return s().createElement(v.Z,_({id:this.props.id,disabled:e},this.props.btnConfig,{onClick:this.onClick,bsStyle:this.getBtnStyle(),style:this.props.style}),s().createElement(p.Glyphicon,{glyph:this.props.glyph}),this.props.text,this.props.help)})),S(this,"renderLoadingButton",(()=>{let e=s().createElement("img",{src:E(),style:{display:"inline-block",margin:"0px",padding:0,background:"transparent",border:0},alt:"..."});return s().createElement(v.Z,_({id:this.props.id,onClick:this.onClick},this.props.btnConfig,{bsStyle:this.getBtnStyle(),style:this.props.style}),e)})),S(this,"addTooltip",(e=>{const t=s().createElement(p.Tooltip,{id:"locate-tooltip"},s().createElement(f.Z,{msgId:this.props.tooltip}));return s().createElement(y.Z,{placement:this.props.tooltipPlace,key:`{overlay-trigger.${this.props.id}-${this.props.tooltip}}`,overlay:t},e)})),S(this,"getBtnStyle",(()=>{const{locate:e,bsStyle:t}=this.props;let r=t;return"FOLLOWING"!==e&&"ENABLED"!==e||(r="success active"),r}))}UNSAFE_componentWillMount(){"PERMISSION_DENIED"===this.props.locate||T||P||(T=!0,navigator?.geolocation?.getCurrentPosition?navigator.geolocation.getCurrentPosition((()=>{T=!1,P=!0}),(e=>{T=!1,1===e.code&&this.props.onClick("PERMISSION_DENIED")})):(T=!1,this.props.onClick("PERMISSION_DENIED")))}render(){var e="LOCATING"===this.props.locate?this.renderLoadingButton():this.renderButton();return this.props.tooltip?this.addTooltip(e):e}}S(O,"propTypes",{id:h().string,hide:h().bool,btnConfig:h().object,text:h().oneOfType([h().string,h().element]),help:h().oneOfType([h().string,h().element]),locate:h().string,onClick:h().func,tooltip:h().element,tooltipPlace:h().string,style:h().object,bsStyle:h().string,glyph:h().string}),S(O,"defaultProps",{id:"locate-btn",onClick:()=>{},locate:"DISABLED",tooltipPlace:"left",bsStyle:"default",glyph:"1-position-1",btnConfig:{className:"square-button"}});const x=O;var C=r(22843),w=r(27418),M=r.n(w);var I=r(86450);const L=(0,l.connect)((e=>({locate:e.locate&&e.locate.state||"DISABLED",tooltip:e.locate&&"FOLLOWING"===e.locate.state?"locate.tooltipDeactivate":"locate.tooltip"})),{onClick:d})(x),A=(0,C.rx)("Locate",{component:L,options:{disablePluginIf:"{state('mapType') === 'cesium'}"},containers:{Toolbar:{name:"locate",position:2,tool:!0,icon:s().createElement(p.Glyphicon,{glyph:"screenshot"}),help:s().createElement(m.Z,{msgId:"helptexts.locateBtn"}),priority:1},Map:{name:"Locate",Tool:(0,l.connect)((e=>({status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0})),{changeLocateState:d,onLocateError:function(e){return{type:u,error:e}}})((e=>{let{map:t,mapType:r,speedThreshold:o,status:n,messages:i,maxZoom:s,changeLocateState:l,onLocateError:p,rateControl:c}=e;const u=(0,a.useRef)(),[d,m,g]=(0,I.default)(r,"locate");(0,a.useEffect)((()=>{g&&p(g)}),[g]);const h=e=>{n!==e&&l(e)},f=e=>{p(e.message),l("DISABLED")};function y(){return{locateOptions:{...void 0!==s&&{maxZoom:s},...void 0!==c&&{rateControl:c},...void 0!==o&&{speedThreshold:o}}}}return(0,a.useEffect)((()=>{if(d){const e=y();u.current=new m,u.current.start({map:t,options:e,messages:i,status:n,onStateChange:h,onLocationError:f})}return()=>{u.current?.clear()}}),[d]),(0,a.useEffect)((()=>{const e=y();u.current?.update({status:n,messages:i,options:e})}),[n,i,d,s]),null})),priority:1}},reducers:{locate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:"DISABLED"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return M()({},e,{state:t.state});case u:return M()({},e,{error:t.error});default:return e}}}})},97216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Ce});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(22843);var l=r(27418),p=r.n(l),c=r(72986),u=r.n(c),d=r(93379),m=r.n(d),g=r(12817);m()(g.Z,{insert:"head",singleton:!1}),g.Z.locals;var h=r(5346),f=r(37275),y=r(1550),b=r(47037),E=r.n(b),v=r(22222),_=r(827),S=r(93152),T=r(75110),P=r(27361),O=r.n(P),x=r(90183);const C=e=>O()(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject"),w=e=>C(e)&&C(e).geometry,M=(0,v.P1)([e=>w(e)&&w(e).coordinates||[],e=>w(e)&&w(e).type||"Polygon",e=>w(e)&&w(e).id||"spatial_object",e=>w(e)&&w(e).projection||"EPSG:3857"],((e,t,r,o)=>{let n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?(0,x.reprojectGeoJson)(n,o,"EPSG:4326").features:[]})),I=(0,v.P1)([M,e=>O()(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]],((e,t)=>[...t,...e]));var L=r(74621),A=r(8316),R=r(38842);const F=(0,v.zB)({projectionDefs:_.pb,map:_.Od,mapType:S.$v,layers:T.Hi,features:I,loadingError:e=>e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data,securityToken:L.y8,elevationEnabled:_.zT,shouldLoadFont:S.m6,isLocalizedLayerStylesEnabled:R.wk,localizedLayerStylesName:R.c3,currentLocaleLanguage:A.KV});var D=r(1321),N=r(45304),k=r(4206);const G={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};var j=r(41156);const Z={status:null};var U=r(29386);const B={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var q=r(56874),z=r(60604),W=r(91175),H=r.n(W),V=r(35937),K=r.n(V),Y=r(6557),$=r.n(Y),X=r(13218),Q=r.n(X),J=r(1469),ee=r.n(J);var te=r(49977),re=r.n(te),oe=r(80416),ne=r(81808),ie=r(63516),ae=r(55105),se=r(82904),le=r(24262),pe=r(52259),ce=r(97395),ue=r(21914),de=r(66604),me=r.n(de);const ge={checkMapPermissions:(e,t)=>{let{getState:r=(()=>{})}=t;return e.ofType(ie.XP).filter((()=>(0,_.J9)(r()))).map((()=>{const e=(0,_.J9)(r());return(0,ne.I6)(e)}))},handleCreationLayerError:(e,t)=>e.ofType(y.TF).delay(500).switchMap((e=>{const r=(0,S.$v)(t.getState()),o=(0,T.CA)(t.getState(),e.options.id);return o&&(0,le.yJ)(o,r)?re().Observable.from([(0,oe.He)(e.options.id,{invalid:!0})]):re().Observable.empty()})),handleCreationBackgroundError:(e,t)=>e.ofType(y.TF).delay(500).filter((e=>{const r=(0,T.x)(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((e=>{const r=(0,S.$v)(t.getState()),o=H()((0,T.pV)(t.getState()).filter((t=>(0,le.yJ)(t,r)&&t.id!==e.options.id)));return o?re().Observable.from([(0,oe.He)(o.id,{visibility:!0}),(0,se.Xg)("backgroundSelector","currentLayer",o),(0,se.Xg)("backgroundSelector","tempLayer",o),(0,ce.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):re().Observable.of((0,ce.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))})),resetMapOnInit:e=>e.ofType(y.Ec).switchMap((()=>re().Observable.of((0,z.cY)(),(0,se.fV)(),(0,oe.nN)(),(0,ue.XP)()))),resetLimitsOnInit:(e,t)=>e.ofType(ne.ok,y.Li).switchMap((()=>{const e=(0,_.A0)(t.getState()),r=(0,_.zj)(t.getState()),o=(0,_.S)(t.getState());return re().Observable.of((0,y.BV)({restrictedExtent:r,crs:e,minZoom:o}))})),zoomToExtentEpic:(e,t)=>{let{getState:r=(()=>{})}=t;return e.ofType(y.Qy).switchMap((e=>{const t=(e=>{if(ee()(e))return e.map((e=>"string"==typeof e||e instanceof String?Number(e):e));if(Q()(e)){const t=me()(e,(e=>"string"==typeof e||e instanceof String?Number(e):e));return[t.minx,t.miny,t.maxx,t.maxy]}return null})(e.extent);if(!t)return re().Observable.empty();const o=pe.default.getHook(pe.default.ZOOM_TO_EXTENT_HOOK),n=(0,ae.CF)(r());if(o){const{crs:r,maxZoom:i,options:a={}}=e;return o(t,{crs:r,padding:n,maxZoom:i,...a}),re().Observable.empty()}return((e,t)=>{let r=0,{extent:o=[]}=e,n=x.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(n){let i=x.default.reproject(pe.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)r=1;else{let n=x.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");r=pe.default.getZoomForExtent(n,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);let a={minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]},s={...t.bbox,bounds:a};return re().Observable.of((0,y.o6)(i,r,s,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return re().Observable.empty()})({...e,extent:t},(0,_.Od)(r()))}))}};var he=r(73814),fe=r(89602),ye=r(97266);const be="CHANGE_SELECTION_STATE";function Ee(e){return{type:be,geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var ve=r(71703);const _e=()=>a().createElement("span",null);var Se=r(19983),Te=r(47805);function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Pe.apply(this,arguments)}function Oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class xe extends a().Component{constructor(){super(...arguments),Oe(this,"state",{canRender:!0}),Oe(this,"getHighlightLayer",((e,t,r)=>{const o=this.state.plugins;return a().createElement(o.Layer,{type:"vector",srs:e,position:t,key:"highlight",options:{name:"highlight"},env:r},this.props.features.map((t=>a().createElement(o.Feature,{msId:t.id,key:t.id,crs:e,type:t.type,style:t.style||null,geometry:t.geometry}))))})),Oe(this,"getTool",(e=>E()(e)?{name:e,impl:this.state.plugins.tools[e]}:e[this.props.mapType]||e)),Oe(this,"getMapOptions",(()=>this.props.mapOptions&&this.props.mapOptions[this.props.mapType]||f.ZP.getConfigProp("defaultMapOptions")&&f.ZP.getConfigProp("defaultMapOptions")[this.props.mapType])),Oe(this,"renderLayers",(()=>{const e=this.props.map.projection||"EPSG:3857",t=[];this.props.isLocalizedLayerStylesEnabled&&t.push({name:this.props.localizedLayerStylesName,value:this.props.currentLocaleLanguage});const r=this.state.plugins;return[...this.props.layers,...this.props.additionalLayers].filter(this.filterLayer).map(((o,n)=>a().createElement(r.Layer,{type:o.type,srs:e,position:n,key:o.id||o.name,options:o,securityToken:this.props.securityToken,env:t},this.renderLayerContent(o,e)))).concat(this.props.features&&this.props.features.length&&this.getHighlightLayer(e,this.props.layers.length,t)||[])})),Oe(this,"renderLayerContent",((e,t)=>{const r=this.state.plugins;return e.features?e.features.filter((0,Te.createFeatureFilter)(e.filterObj)).map((o=>a().createElement(r.Feature,{key:o.id,msId:o.id,type:o.type,crs:t,geometry:o.geometry,features:o.features,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:o.style||e.style||null,properties:o.properties}))):null})),Oe(this,"renderSupportTools",(()=>{const e=this.props.items.filter((e=>{let{Tool:t}=e;return!!t})).map((e=>{let{Tool:t,name:r,cfg:o}=e;return a().createElement(t,Pe({},o,{key:r,mapType:this.props.mapType}))}));return this.props.tools.map((e=>{const t=this.getTool(e),r=this.props.toolsOptions[t.name]&&this.props.toolsOptions[t.name][this.props.mapType]||this.props.toolsOptions[t.name]||{};return a().createElement(t.impl,Pe({key:t.name},r))})).concat(e)})),Oe(this,"filterLayer",(e=>!e.useForElevation||"cesium"===this.props.mapType||this.props.elevationEnabled)),Oe(this,"updatePlugins",(e=>{var t,o;this.currentMapType=e.mapType,e.onLoadingMapPlugins(!0),this.setState({plugins:void 0}),(t=e.mapType,o=e.actions,Promise.all([r(19137)("./"+t+"/index"),r(62769)("./"+t+"/plugins/index")]).then((e=>{let[r]=e;const n=r.default,i=(0,ve.connect)((e=>({projectionDefs:(0,_.pb)(e),mousePosition:(0,_.x9)(e)})),p()({},{onMapViewChanges:y.o6,onClick:y.FP,onMouseMove:y.ou,onLayerLoading:oe.Yz,onLayerLoad:oe.kI,onLayerError:oe.XG,onWarning:ce.Kp,onMouseOut:y.NE},o),((e,t,r)=>p()({},r,e,p()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:()=>{}}))))(n.LMap),a=(0,ve.connect)((e=>({enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:(0,ye.VH)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}})),{changeMeasurementState:fe.nl,updateMeasures:fe.Y_,resetGeometry:fe.wB,changeGeometry:fe.$3,setTextLabels:fe.CG,changeMeasurement:fe.Bd})(n.MeasurementSupport||_e),s=(0,ve.connect)((e=>e.draw||{}),{onChangeDrawingStatus:k.Yf,onEndDrawing:k.fo,onGeometryChanged:k.Vw,onSelectFeatures:k.KD,onDrawingFeatures:k.uj,onDrawStopped:k.lo,setCurrentStyle:k.PY})(n.DrawSupport||_e),l=(0,ve.connect)((0,v.P1)((e=>(e=>e&&e.box&&e.box.status)(e)),(e=>({status:e}))),{onBoxEnd:j.zZ})(n.BoxSelectionSupport||_e),c=(0,ve.connect)((e=>e.highlight||{}),{updateHighlighted:U._E})(n.HighlightFeatureSupport||_e),u=(0,ve.connect)((e=>({selection:e.selection||{}})),{changeSelectionState:Ee})(n.SelectionSupport||_e),d=(0,ve.connect)(null,{onWarning:ce.Kp})(n.Layer||_e),m=[],g=(0,ve.connect)((0,v.P1)((e=>e.mapPopups&&e.mapPopups.popups||m),(e=>({popups:e}))),{onPopupClose:he.hC})(n.PopupSupport||_e);return{Map:i,Layer:d,Feature:n.Feature||_e,tools:{measurement:a,overview:n.Overview||_e,scalebar:n.ScaleBar||_e,draw:s,highlight:c,selection:u,popup:g,box:l},mapType:t}}))).then((t=>{this._isMounted&&t.mapType===this.currentMapType&&(this.setState({plugins:t}),e.onLoadingMapPlugins(!1,e.mapType),e.onMapTypeLoaded(!0,e.mapType))}))}))}UNSAFE_componentWillMount(){const{shouldLoadFont:e,fonts:t}=this.props;e&&t&&(this.setState({canRender:!1}),Promise.all(t.map((e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((r,o)=>{!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=o;if({NODE_ENV:"production"}.isTest){const e={},t=t=>(e[t]=e[t]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},e[t]);window.reporter=window.reporter||{modifyRootCount(e,r){t(e).rootCount+=r},iframesCreated(e){t(e).iframesCreated=!0},timedOut(e){t(e).timedOut=!0},fontLoaded(e){t(e).fontLoaded=!0},requiredExtraTimeout(e){t(e).requiredExtraTimeout=!0},getTests:()=>e}}r.timeoutAfter&&setTimeout((()=>{n&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(a,-1),document.body.removeChild(n),n=0,r.onTimeout&&({NODE_ENV:"production"}.isTest&&window.reporter.timedOut(a),r.onTimeout()))}),r.timeoutAfter),i=()=>{n&&n.firstChild.clientWidth===n.lastChild.clientWidth&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(a,-1),document.body.removeChild(n),n=0,{NODE_ENV:"production"}.isTest&&window.reporter.fontLoaded(a),t())},{NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(a,1),{NODE_ENV:"production"}.isLegacy||i(document.body.appendChild(n=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+o+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+o+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</div>"),{NODE_ENV:"production"}.isLegacy&&i(document.body.appendChild(n=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+o+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+o+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</span>.</table>"),n&&({NODE_ENV:"production"}.isTest&&window.reporter.iframesCreated(a),{NODE_ENV:"production"}.isLegacy||(n.firstChild.appendChild(o=document.createElement("iframe")).style.width="999%",o.contentWindow.onresize=i,n.lastChild.appendChild(o=document.createElement("iframe")).style.width="999%",o.contentWindow.onresize=i),{NODE_ENV:"production"}.isLegacy&&(n.firstChild.firstChild.firstChild.firstChild.appendChild(o=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",o.attachEvent?o.contentWindow.attachEvent("onresize",i):o.contentWindow.onresize=i,n.lastChild.firstChild.firstChild.firstChild.appendChild(o=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",o.attachEvent?o.contentWindow.attachEvent("onresize",i):o.contentWindow.onresize=i),{NODE_ENV:"production"}.isTest||(o=setTimeout(i)),{NODE_ENV:"production"}.isTest&&(o=setTimeout((function(){n&&(window.reporter.requiredExtraTimeout(a),i())}))))}(e,r,{timeoutAfter:t.timeoutAfter,onTimeout:o,sampleText:t.sampleText,generic:t.generic})}))}(e,{timeoutAfter:5e3}).catch((e=>{console.warn("Fonts loading check for map style responded slowly or with an error. Fonts in map may not be rendered correctly. This is not necessarily an issue.",e)}))))).then((()=>{this.setState({canRender:!0})}))),this.updatePlugins(this.props),this._isMounted=!0}UNSAFE_componentWillReceiveProps(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}componentWillUnmount(){this._isMounted=!1}render(){if(this.props.map&&this.state.canRender&&this.state.plugins){const{mapOptions:e={}}=this.props.map;return a().createElement(this.state.plugins.Map,Pe({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:p()({},e,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(h.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(u(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(h.Z,{msgId:this.props.mapLoadingMessage}))}}Oe(xe,"propTypes",{mapType:n().string,map:n().object,layers:n().array,additionalLayers:n().array,zoomControl:n().bool,mapLoadingMessage:n().string,loadingSpinner:n().bool,loadingError:n().string,tools:n().array,fonts:n().array,options:n().object,mapOptions:n().object,projectionDefs:n().array,toolsOptions:n().object,onResolutionsChange:n().func,actions:n().object,features:n().array,securityToken:n().string,shouldLoadFont:n().bool,elevationEnabled:n().bool,isLocalizedLayerStylesEnabled:n().bool,localizedLayerStylesName:n().string,currentLocaleLanguage:n().string,items:n().array,onLoadingMapPlugins:n().func,onMapTypeLoaded:n().func}),Oe(xe,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onResolutionsChange:()=>{},items:[],onLoadingMapPlugins:()=>{},onMapTypeLoaded:()=>{}});const Ce=(0,s.rx)("Map",{component:(0,s.$j)(F,{onResolutionsChange:y.SO,onMapTypeLoaded:y.Mk})((0,Se.Z)(xe)),reducers:{map:D.Z,layers:N.Z,draw:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.hZ:return p()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case k.kD:return p()({},e,{currentStyle:t.currentStyle});case k.DI:return p()({},e,{tempFeatures:t.features});case k.IC:return p()({},e,{tempFeatures:[]});default:return e}},box:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;return t.type===j.gd?p()({},e,{status:t.status}):e},highlight:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.NF:return p()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case U.F2:return{...e,status:t.status};case U.fu:return{...e,highlighted:t.features.length,features:t.features,status:t.status||e.status};default:return e}},maptype:q.Z,additionallayers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.jJ:{const r=K()({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},$()),o=H()(e.filter((e=>{let{id:t}=e;return t===r.id})));return o?e.map((e=>e.id===r.id?{...o,...r}:{...e})):[...e,r]}case z.hn:return e.concat(t.layers);case z.oy:{const{options:r,owner:o}=t;return e.map(((e,t)=>e.owner===o?{...e,options:Q()(r)&&r[e.id]||ee()(r)&&r[t]||{}}:{...e}))}case z.yg:{const{id:r,owner:o}=t;return o?e.filter((e=>e.owner!==o)):e.filter((e=>e.id!==r))}case z.vD:return t.owner?e.filter((e=>e.owner!==t.owner)):[];default:return e}}},epics:ge})},43526:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(58252),l=r(67076);function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c={};const u=(0,l.lifecycle)({componentDidMount(){if(c[this.props.id]){const e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(c[this.props.id],e)}},shouldComponentUpdate:()=>!1,componentWillUnmount(){c[this.props.id]=document.getElementById(this.props.id)}})((e=>{let{id:t}=e;return n().createElement("div",{id:t})})),d=[{element:n().createElement(u,{key:"attribution",id:"footer-attribution-container"})},{element:n().createElement(u,{key:"scalebar",id:"footer-scalebar-container"})}];class m extends n().Component{constructor(){super(...arguments),p(this,"getPanels",(()=>this.props.items.filter((e=>e.tools)).reduce(((e,t)=>e.concat(t.tools.map(((e,r)=>({name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}))))),[]))),p(this,"getTools",(()=>[d[0],...this.props.items.sort(((e,t)=>t.position-e.position)),d[1]]))}render(){return n().createElement(s.Z,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:e=>n().createElement("div",e,e.children),toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:e=>n().createElement("div",null,e.children),tools:this.getTools(),panels:this.getPanels()})}}p(m,"propTypes",{className:a().string,style:a().object,items:a().array,id:a().string,mapType:a().string}),p(m,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"});const g={MapFooterPlugin:m,reducers:{}}},70646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var o=r(93379),n=r.n(o),i=r(89010);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=r(27418),s=r.n(a),l=r(71703),p=r(22222),c=r(45697),u=r.n(c),d=r(24852),m=r.n(d),g=r(72986),h=r.n(g);function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.e(4903).then(r.bind(r,34903));class y extends m().Component{render(){return this.props.loading?m().createElement("div",{className:this.props.className,id:this.props.id},m().createElement(h(),{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}f(y,"propTypes",{id:u().string,loading:u().bool,className:u().string,spinner:u().string}),f(y,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"});const b=y;var E=r(75110);const v=(0,p.P1)([E.l2],(e=>({loading:e&&e.some((e=>e.loading))}))),_=(0,l.connect)(v)(b),S={MapLoadingPlugin:s()(_,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},70830:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var o=r(27361),n=r.n(o),i=r(27418),a=r.n(i),s=r(45697),l=r.n(s),p=r(24852),c=r.n(p),u=r(57588),d=r(71703),m=r(22222),g=r(1550);const h="CHANGE_MOUSE_POSITION_CRS";var f=r(82457),y=r(5346),b=r(11914);var E=r(827);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},v.apply(this,arguments)}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=(e,t,r)=>t.showCenter&&e?e.center:t.showOnClick?r.clickPoint&&r.clickPoint.latlng?{x:r.clickPoint.latlng.lng,y:r.clickPoint.latlng.lat,crs:"EPSG:4326"}:{crs:"EPSG:4326"}:t,T=(0,m.P1)([e=>e,E.Od,e=>(0,E.zT)(e),e=>n()(e,"mousePosition.position")||{},e=>n()(e,"mousePosition.crs")||"EPSG:4326",e=>e.mapInfo||{}],((e,t,r,o,n,i)=>({enabled:r,mousePosition:S(t,o,i),projectionDefs:(0,E.pb)(e),crs:n}))),P=(0,d.connect)((e=>({pressed:(0,E.zT)(e),active:(0,E.zT)(e),tooltip:c().createElement(u.Tooltip,{id:"showMousePositionCoordinates"},c().createElement(y.Z,{msgId:"showMousePositionCoordinates"})),tooltipPlace:"left",pressedStyle:"success active",defaultStyle:"primary",glyphicon:"mouse",btnConfig:{bsSize:"small"}})),{registerEventListener:g.H0,unRegisterEventListener:g.$X},((e,t)=>({...e,onClick:()=>e.active?t.unRegisterEventListener("mousemove","mouseposition"):t.registerEventListener("mousemove","mouseposition")})))(f.Z);class O extends c().Component{constructor(){super(...arguments),_(this,"getTemplate",(e=>r(31566)("./"+e+".jsx").default))}render(){const{degreesTemplate:e,projectedTemplate:t,...r}=this.props;return c().createElement(b.default,v({degreesTemplate:this.getTemplate(e),projectedTemplate:this.getTemplate(t),toggle:c().createElement(P,null)},r))}}_(O,"propTypes",{degreesTemplate:l().string,projectedTemplate:l().string}),_(O,"defaultProps",{degreesTemplate:"MousePositionLabelDMS",projectedTemplate:"MousePositionLabelYX"});const x=(0,d.connect)(T,{onCRSChange:function(e){return{type:h,crs:e}}})(O),C={MousePositionPlugin:a()(x,{MapFooter:{name:"mousePosition",position:2,tool:!0,priority:1}}),reducers:{mousePosition:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0,position:null,crs:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MOUSE_POSITION_STATE":return a()({},e,{enabled:t.enabled});case"CHANGE_MOUSE_POSITION":return a()({},e,{position:t.position});case h:return a()({},e,{crs:t.crs});case g.Jb:return a()({},e,{position:t.position,mouseOut:!1});case g.Uh:return a()({},e,{mouseOut:!0});default:return e}}}}},68004:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(93379),l=r.n(s),p=r(99410);l()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var c=r(27418),u=r.n(c),d=r(58252);function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends n().Component{constructor(){super(...arguments),m(this,"getPanels",(()=>this.props.items.filter((e=>e.tools)).reduce(((e,t)=>e.concat(t.tools.map(((e,r)=>({name:t.name+r,panel:e,cfg:t?.cfg?.toolsCfg?.[r]||{}}))))),[]))),m(this,"getTools",(()=>this.props.items.sort(((e,t)=>e.position-t.position))))}render(){return n().createElement(d.Z,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:e=>n().createElement("div",e,e.children),toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:e=>n().createElement("div",null,e.children),tools:this.getTools(),panels:this.getPanels()})}}m(g,"propTypes",{className:a().string,style:a().object,items:a().array,id:a().string,mapType:a().string}),m(g,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"});const h={OmniBarPlugin:u()(g,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},19379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ze});var o=r(27361),n=r.n(o),i=r(1469),a=r.n(i),s=r(27418),l=r.n(s),p=r(45697),c=r.n(p),u=r(24852),d=r.n(u),m=r(71703),g=r(1852),h=r.n(g),f=r(22222),y=r(60604),b=r(81808),E=r(82904),v=r(1550),_=r(97222),S=r(25016),T=r(57588),P=r(41609),O=r.n(P),x=r(52353),C=r.n(x),w=r(5346),M=r(15135),I=r(23570),L=r.n(I);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},A.apply(this,arguments)}const R=(0,M.Z)(T.DropdownButton),F={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:L()()},D={title:d().createElement(T.Glyphicon,{glyph:"menu-hamburger"}),tooltipId:"search.changeSearchInputField",tooltipPosition:"bottom",className:"square-button-md no-border",pullRight:!0},N=function(){let{menuItems:e=[],disabled:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d().createElement(R,A({disabled:t},F,D),e.length?e.map((e=>e)):null)};var k=r(91775),G=r(33811),j=r(5243),Z=r(18757),U=r(43129);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},B.apply(this,arguments)}const q=(0,r(93451).Z)(["placeholder","clearValueText","noResultsText"])(U.ZP),z={searchByBookmark:(e,t,r,o,n)=>{const{options:i={},layerVisibilityReload:a=!1}=e;a?t({...r,map:{...r.map,bookmark_search_config:o}},null,{bounds:[i.west,i.south,i.east,i.north],crs:r?.map?.center?.crs||"EPSG:4326"}):i&&!O()(i)&&n([i.west,i.south,i.east,i.north],"EPSG:4326")},searchIcon:(e,t)=>{let{onLayerVisibilityLoad:r,mapInitial:o,bookmarkConfig:n,onZoomToExtent:i}=t;return{tooltipId:"bookmarkSearch"===e?"search.zoomToBookmark":"",tooltipPosition:"bottom",visible:"bookmarkSearch"===e&&!n?.zoomOnSelect,disabled:"bookmarkSearch"===e&&!n.selected,onClick:()=>{"bookmarkSearch"===e&&z.searchByBookmark(n.selected,r,o,n.bookmarkSearchConfig||{},i)}}}},W=e=>{let{bookmarkConfig:t,onPropertyChange:r,onLayerVisibilityLoad:o,mapInitial:n,onZoomToExtent:i}=e;const[a,s]=(0,u.useState)([]),{selected:l={},bookmarkSearchConfig:p={},zoomOnSelect:c=!0}=t||{},{bookmarks:m=[]}=p,{searchByBookmark:g}=z;return(0,u.useEffect)((()=>{O()(m)||s(m.map((e=>e.title)))}),[m]),d().createElement("div",{className:"search-select"},d().createElement("div",{style:{flex:"1 1 0%",padding:"0px 4px"}},d().createElement(q,B({},{clearable:!0,isSearchable:!0,isClearable:!0},{onChange:e=>{const t=e&&e.value||"",[a]=m.filter(((r,o)=>r.title===t&&o===e.idx));r("selected",a),c&&g(a,o,n,p,i)},value:l?.title||"",options:a.map(((e,t)=>({label:e,value:e,idx:t}))),placeholder:"search.b_placeholder",clearValueText:"search.b_clearvalue",noResultsText:"search.b_noresult"}))))};W.propTypes={bookmarkConfig:c().object.isRequired,onPropertyChange:c().func.isRequired};const H=(0,m.connect)((e=>({bookmarkConfig:e.searchbookmarkconfig||{}})),{onPropertyChange:S.N3,onZoomToExtent:v.Px,onLayerVisibilityLoad:b.H0})(W);var V=r(81763),K=r.n(V),Y=r(99509),$=r(77900);const X={clearCoordinates:(e,t)=>{e({owner:"search"}),t("lat",""),t("lon","")},areValidCoordinates:e=>K()(e?.lon)&&K()(e?.lat),zoomToPoint:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;e({x:parseFloat(t.lon),y:parseFloat(t.lat)},r,"EPSG:4326")},coordinateFormatChange:(e,t,r,o)=>({buttonConfig:{title:d().createElement(T.Glyphicon,{glyph:"cog"}),tooltipId:"search.changeSearchInputField",tooltipPosition:"bottom",className:"square-button-md no-border",pullRight:!0},menuOptions:[{active:"decimal"===e,onClick:()=>t("decimal"),text:d().createElement(w.Z,{msgId:"search.decimal"})},{active:"aeronautical"===e,onClick:()=>t("aeronautical"),text:d().createElement(w.Z,{msgId:"search.aeronautical"})}],visible:r&&"coordinatesSearch"===o,Element:$.Z}),removeIcon:(e,t,r,o)=>({visible:"coordinatesSearch"===e&&(K()(t.lon)||K()(t.lat)),onClick:()=>X.clearCoordinates(r,o)}),searchIcon:(e,t,r,o)=>({visible:"coordinatesSearch"===e,onClick:()=>{"coordinatesSearch"===e&&X.areValidCoordinates(t)&&X.zoomToPoint(r,t,o)}}),coordinatesMenuItem:e=>{let{activeTool:t,searchText:r,clearSearch:o,onChangeActiveSearchTool:n,onClearBookmarkSearch:i}=e;return d().createElement(T.MenuItem,{active:"coordinatesSearch"===t,onClick:()=>{void 0!==r&&""!==r&&o(),i("selected"),n("coordinatesSearch"),document.dispatchEvent(new MouseEvent("click"))}},d().createElement(T.Glyphicon,{glyph:"search-coords"})," ",d().createElement(w.Z,{msgId:"search.coordinatesSearch"}))}},Q=e=>{let{coordinate:t={},format:r,onClearCoordinatesSearch:o,onZoomToPoint:n,onChangeCoord:i,defaultZoomLevel:a,aeronauticalOptions:s={seconds:{decimals:4,step:1e-4}},constraintsCoordEditor:l={decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}}=e;const{zoomToPoint:p,areValidCoordinates:c}=X,u=(e,t)=>{i(e,parseFloat(t)),c()||o({owner:"search"})},m=()=>{p(n,t,a)};return d().createElement("div",{className:"coordinateEditor",style:{flexWrap:"decimal"===r?"nowrap":"wrap"}},d().createElement(T.Row,{className:`entryRow ${r}`},d().createElement(T.FormGroup,null,d().createElement(T.InputGroup,null,d().createElement(T.InputGroup.Addon,{style:{minWidth:45}},d().createElement(w.Z,{msgId:"search.latitude"})),d().createElement(Y.Z,{format:r,aeronauticalOptions:s,coordinate:"lat",idx:1,value:t.lat,constraints:l,onChange:e=>u("lat",e),onKeyDown:()=>{c(t)&&m()}})))),d().createElement(T.Row,{className:`entryRow ${r}`},d().createElement(T.FormGroup,null,d().createElement(T.InputGroup,null,d().createElement(T.InputGroup.Addon,{style:{minWidth:45}},d().createElement(w.Z,{msgId:"search.longitude"})),d().createElement(Y.Z,{format:r,aeronauticalOptions:s,coordinate:"lon",idx:2,value:t.lon,constraints:l,onChange:e=>u("lon",e),onKeyDown:()=>{c(t)&&m()}})))))};Q.propTypes={coordinate:c().object,format:c().string,onClearCoordinatesSearch:c().func,onZoomToPoint:c().func,onChangeCoord:c().func,defaultZoomLevel:c().number};const J=(0,m.connect)((e=>({coordinate:e.search.coordinate||{}})),{onZoomToPoint:_.Z,onChangeCoord:_.TS})(Q);var ee=r(13311),te=r.n(ee),re=r(80717),oe=r(59286);function ne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ie extends d().Component{constructor(){super(...arguments),ne(this,"onClick",(()=>{let e=this.props.item;this.props.onItemClick(e)}))}render(){if(void 0===this.props.item)return null;let e=this.props.item;return d().createElement("div",{key:e.osm_id,className:"search-result",style:e.resultCssStyle,onClick:this.onClick},d().createElement("div",{className:"search-result-left-container"},d().createElement("div",{className:"icon"}," ",d().createElement("img",{src:e.icon})),d().createElement("div",{className:"text-result-title"},n()(e,this.props.displayName)||(0,oe.generateTemplateString)(this.props.displayName||"")(e)),d().createElement("small",{className:"text-info"},this.props.subTitle&&n()(e,this.props.subTitle)||(0,oe.generateTemplateString)(this.props.subTitle||"")(e))),d().createElement("div",{className:"search-result-right-container"},d().createElement("div",{className:"search-result-tools"},d().createElement(re.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.tools}))))}}ne(ie,"propTypes",{subTitle:c().string,item:c().object,displayName:c().string,idField:c().string,icon:c().string,onItemClick:c().func,tools:c().array}),ne(ie,"defaultProps",{displayName:"properties.display_name",idField:"id",icon:"properties.icon",tools:[]});const ae=ie;var se=r(38167),le=r(18412);function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ce extends d().Component{constructor(){super(...arguments),pe(this,"onItemClick",(e=>{this.props.onItemClick(e,this.props.mapConfig)})),pe(this,"renderResults",(()=>this.props.results.map(((e,t)=>{const r=this.findService(e)||{},o=te()(this.props.layers,{name:r.options?.typeName}),n=(0,le.zA)(r),i=!(0,le.Tv)(o,r);return d().createElement(ae,{subTitle:r.subTitle,idField:r.idField,displayName:r.displayName,key:e.osm_id||e.id||"res_"+t,item:e,onItemClick:this.onItemClick,tools:[{id:"open-gfi",keyProp:"open-gfi",visible:n,disabled:i,glyph:"info-sign",tooltipId:n&&i?"search.layerMustBeVisible":"search.showGFI",onClick:t=>{t.stopPropagation(),this.props.showGFI(e)}}]})})))),pe(this,"findService",(e=>{const t=this.props.searchOptions&&this.props.searchOptions.services;if(null!==e.__SERVICE__)if(t&&"string"==typeof e.__SERVICE__){for(let r=0;r<t.length;r++)if(t[r]&&t[r].id===e.__SERVICE__)return t[r];for(let r=0;r<t.length;r++)if(t[r]&&t[r].type===e.__SERVICE__)return t[r]}else if("object"==typeof e.__SERVICE__)return e.__SERVICE__;return null}))}render(){var e=this.props.notFoundMessage;e||(e=d().createElement(se.ZP.Message,{msgId:"noresultfound"}));let t=this.props.containerStyle,r=this.props.mapConfig&&this.props.mapConfig.size;if(this.props.fitToMapSize&&r){let e=r.width-this.props.sizeAdjustment.width,o=r.height-this.props.sizeAdjustment.height;t=l()({},this.props.containerStyle,{maxWidth:e,maxHeight:o})}return this.props.results?0===this.props.results.length?d().createElement("div",{className:"search-result-list",style:l()({padding:"10px",textAlign:"center"},t)},e):d().createElement("div",{className:"search-result-list",style:t},this.renderResults()):null}}pe(ce,"propTypes",{results:c().array,layers:c().array,searchOptions:c().object,mapConfig:c().object,fitToMapSize:c().bool,containerStyle:c().object,sizeAdjustment:c().object,onItemClick:c().func,addMarker:c().func,afterItemClick:c().func,showGFI:c().func,notFoundMessage:c().oneOfType([c().object,c().string])}),pe(ce,"defaultProps",{layers:[],sizeAdjustment:{width:0,height:110},containerStyle:{zIndex:1e3},onItemClick:()=>{},addMarker:()=>{},afterItemClick:()=>{},showGFI:()=>{}});var ue=r(49977),de=r(94707),me=r.n(de),ge=r(35385),he=r.n(ge),fe=r(89734),ye=r.n(fe),be=r(14293),Ee=r.n(be),ve=r(75110),_e=r(21914),Se=r(80416),Te=r(90183),Pe=r(15047),Oe=r(32420),xe=r(7412),Ce=r(7877);const we=(e,t)=>(0,xe.mx)(e,{...(0,Ce.oq)(t)});var Me=r(26125);var Ie=r(827),Le=r(37275),Ae=r(38560);function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fe extends d().Component{render(){return d().createElement(Ae.Z,{onClick:()=>this.props.onToggle(this.props.pressed),bsStyle:this.props.pressed?"default":"primary",className:"square-button"},d().createElement(T.Glyphicon,{glyph:"search"}))}}Re(Fe,"propTypes",{pressed:c().bool,onToggle:c().func}),Re(Fe,"defaultProps",{pressed:!1,onToggle:()=>{}});const De=(0,m.connect)((e=>({pressed:e.controls&&e.controls.search&&e.controls.search.enabled||!1})),{onToggle:E.Xi.bind(null,"search",null)})(Fe);var Ne;function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ke.apply(this,arguments)}function Ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const je=(0,f.P1)([e=>e.search||null,e=>e.controls&&e.controls.searchBookmarkConfig||null,e=>e.mapConfigRawData||{},e=>e?.searchbookmarkconfig||""],((e,t,r,o)=>({enabledSearchBookmarkConfig:t&&t.enabled||!1,error:e&&e.error,coordinate:e&&e.coordinate||{},loading:e&&e.loading,searchText:e?e.searchText:"",activeSearchTool:n()(e,"activeSearchTool","addressSearch"),format:n()(e,"format")||Le.ZP.getConfigProp("defaultCoordinateFormat"),selectedItems:e&&e.selectedItems,mapInitial:r,bookmarkConfig:o||{}}))),Ze=(0,m.connect)(je,{onSearch:_.tt,onChangeCoord:_.TS,onChangeActiveSearchTool:_.a,onClearCoordinatesSearch:y.fU,onClearBookmarkSearch:S.N3,onChangeFormat:_.Zw,onToggleControl:E.Xi,onZoomToPoint:_.Z,onPurgeResults:_.kV,onSearchReset:_.v2,onSearchTextChange:_.k9,onCancelSelectedItem:_.KG,onZoomToExtent:v.Px,onLayerVisibilityLoad:b.H0})((e=>{let{activeSearchTool:t="addressSearch",removeIcon:r="1-close",searchIcon:o="search",isSearchClickable:n=!0,splitTools:i,searchText:a="",maxResults:s=15,searchOptions:l,loading:p,delay:c,blurResetDelay:u,typeAhead:m,coordinate:g={},selectedItems:h=[],defaultZoomLevel:f=12,enabledSearchBookmarkConfig:y=!1,error:b,format:E="decimal",placeholder:v,placeholderMsgId:_="search.addressSearch",showOptions:S=!0,showAddressSearchOption:P=!0,showCoordinatesSearchOption:x=!0,showBookMarkSearchOption:M=!0,onSearch:I,onSearchReset:L,onSearchTextChange:A,onCancelSelectedItem:R,onChangeCoord:F=(()=>{}),onChangeActiveSearchTool:D=(()=>{}),onClearCoordinatesSearch:U=(()=>{}),onChangeFormat:B=(()=>{}),onToggleControl:q=(()=>{}),onZoomToPoint:W=(()=>{}),onClearBookmarkSearch:V=(()=>{}),onPurgeResults:K,items:Y=[],...$}=e;const Q=(0,Z.f)({searchText:a,selectedItems:h,searchOptions:l,maxResults:s,onSearch:I,onSearchReset:L}),ee=()=>{L()};let te,re=[];if(P&&re.push(d().createElement(T.MenuItem,{active:"addressSearch"===t,onClick:()=>{U({owner:"search"}),V("selected"),D("addressSearch")}},d().createElement(T.Glyphicon,{glyph:o})," ",d().createElement(w.Z,{msgId:"search.addressSearch"}))),x&&re.push(d().createElement(X.coordinatesMenuItem,{activeTool:t,searchText:a,clearSearch:ee,onChangeActiveSearchTool:D,onClearBookmarkSearch:V})),M&&!O()(Y)){const{allowUser:e,bookmarkSearchConfig:r}=$.bookmarkConfig||{},o=Y.find((e=>{let{name:t}=e;return"SearchByBookmark"===t}))||{};if(o.menuItem){const e=o.menuItem;re.push(d().createElement(e,null))}o.bookmarkConfig&&(te={...o.bookmarkConfig(q,y,t),...!e&&{visible:!1}}),e||0!==r?.bookmarks?.length||"bookmarkSearch"!==t||D("addressSearch")}const oe=()=>{if(S){if("coordinatesSearch"===t)return X.coordinateFormatChange(E,B,S,t);if("bookmarkSearch"===t)return te}return null};return d().createElement(k.Z,null,d().createElement(T.FormGroup,null,d().createElement("div",{className:"input-group",style:{display:"flex"}},h&&h.map(((e,t)=>d().createElement("span",{key:"selected-item"+t,className:"input-group-addon"},d().createElement("div",{className:"selectedItem-text"},e.text)))),d().createElement(G.Z,{show:"addressSearch"===t,delay:c,typeAhead:m,blurResetDelay:u,placeholder:v,placeholderMsgId:_,searchText:a,selectedItems:h,onSearch:Q,onSearchTextChange:A,onCancelSelectedItem:R,onPurgeResults:K}),"coordinatesSearch"===t&&x&&d().createElement(J,{format:E,defaultZoomLevel:f,onClearCoordinatesSearch:U}),"bookmarkSearch"===t&&M&&d().createElement(H,{mapInitial:$.mapInitial}),d().createElement(j.Z,{splitTools:!1,toolbarButtons:[...oe()?[{...oe()}]:[],...Y.filter((e=>{let{target:t}=e;return"button"===t})).map((e=>{let{component:t}=e;return{visible:!!S,Element:t}})),{glyph:r,className:"square-button-md no-border",bsStyle:"default",pullRight:!0,loading:!C()(p)&&p,visible:"addressSearch"===t&&(""!==a||h&&h.length>0),onClick:()=>{"addressSearch"===t&&ee()},..."coordinatesSearch"===t&&X.removeIcon(t,g,U,F)},{glyph:o,className:"square-button-md no-border "+(n||"addressSearch"!==t?"magnifying-glass clickable":"magnifying-glass"),bsStyle:"default",pullRight:!0,tooltipPosition:"bottom",visible:!("addressSearch"!==t||(""!==a||h&&h.length>0)&&i),onClick:()=>n&&Q(),..."coordinatesSearch"===t&&X.searchIcon(t,g,W,f),..."bookmarkSearch"===t&&z.searchIcon(t,$)},{tooltip:(ne=b,ne?d().createElement(w.Z,{msgId:ne.msgId||"search.generic_error",msgParams:{message:ne.message,serviceType:ne.serviceType}}):null),tooltipPosition:"bottom",className:"square-button-md no-border",glyph:"warning-sign",bsStyle:"danger",glyphClassName:"searcherror",visible:!!b,onClick:ee},{visible:S,renderButton:d().createElement(N,{disabled:S,menuItems:re})}]}))));var ne})),Ue=(0,f.P1)([Ie.Od,ve.l2,e=>e.search||null],((e,t,r)=>({mapConfig:e,layers:t,results:r?r.results:null}))),Be=(0,m.connect)(Ue,{onItemClick:_.Jc,addMarker:_._q,showGFI:_.w4})(ce),qe=(0,m.connect)((e=>({enabled:e.controls&&e.controls.search&&e.controls.search.enabled||!1,selectedServices:e&&e.search&&e.search.selectedServices,selectedItems:e&&e.search&&e.search.selectedItems,textSearchConfig:e&&e.searchconfig&&e.searchconfig.textSearchConfig})),{onUpdateResultsStyle:_.o$})((Ne=class extends d().Component{constructor(){super(...arguments),Ge(this,"getServiceOverrides",(e=>this.props.selectedItems&&this.props.selectedItems[this.props.selectedItems.length-1]&&n()(this.props.selectedItems[this.props.selectedItems.length-1],e))),Ge(this,"getSearchOptions",(()=>{const{searchOptions:e,textSearchConfig:t}=this.props;return t&&t.services&&t.services.length>0?t.override?l()({},e,{services:t.services}):l()({},e,{services:e.services.concat(t.services)}):e})),Ge(this,"getCurrentServices",(()=>{const{selectedServices:e}=this.props,t=this.getSearchOptions();return e&&e.length>0?l()({},t,{services:e}):t})),Ge(this,"getSearchAndToggleButton",(()=>{const e=d().createElement(Ze,ke({key:"searchBar"},this.props,{searchOptions:this.getCurrentServices(),placeholder:this.getServiceOverrides("placeholder"),placeholderMsgId:this.getServiceOverrides("placeholderMsgId")}));return!0===this.props.withToggle?[d().createElement(De,null)].concat(this.props.enabled?[e]:null):a()(this.props.withToggle)?d().createElement("span",null,d().createElement(h(),{query:"("+this.props.withToggle[0]+")"},d().createElement(De,null),this.props.enabled?e:null),d().createElement(h(),{query:"("+this.props.withToggle[1]+")"},e)):e}))}componentDidMount(){this.props.onUpdateResultsStyle({...le.be,...this.props.resultsStyle})}render(){return d().createElement("span",null,this.getSearchAndToggleButton(),d().createElement(Be,{fitToMapSize:this.props.fitResultsToMapSize,searchOptions:this.props.searchOptions,onUpdateResultsStyle:this.props.onUpdateResultsStyle,key:"nominatimresults"}))}},Ge(Ne,"propTypes",{splitTools:c().bool,showOptions:c().bool,isSearchClickable:c().bool,fitResultsToMapSize:c().bool,searchOptions:c().object,resultsStyle:c().object,selectedItems:c().array,selectedServices:c().array,userServices:c().array,withToggle:c().oneOfType([c().bool,c().array]),enabled:c().bool,textSearchConfig:c().object}),Ge(Ne,"defaultProps",{searchOptions:{services:[{type:"nominatim",priority:5}]},isSearchClickable:!1,splitTools:!0,resultsStyle:{color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2},fitResultsToMapSize:!0,withToggle:!1,enabled:!0}),Ne)),ze={SearchPlugin:l()(qe,{OmniBar:{name:"search",position:1,tool:!0,priority:1}}),epics:{searchEpic:e=>e.ofType(_.bj).debounceTime(250).switchMap((t=>ue.Observable.from((t.services||[{type:"nominatim",priority:5}]).map((e=>{const r=Pe.b.Utils.getService(e.type);if(!r){const t=new Error("Service Missing");return t.msgId="search.service_missing",t.serviceType=e.type,ue.Observable.of(t).do((e=>{throw e}))}return ue.Observable.defer((()=>r(t.searchText,e.options).then((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((t=>({...t,__SERVICE__:e,__PRIORITY__:e.priority||0})))})))).retryWhen((e=>e.delay(200).scan(((e,t)=>{if(e>=2)throw t;return e+1}),0)))}))).mergeAll().scan(((e,t)=>ye()([...e,...t],["__PRIORITY__"]))).map((e=>(0,_.WN)(e.slice(0,t.maxResults||15),!1))).startWith((0,_.yo)(!0)).takeUntil(e.ofType(_.Av,_.M8,_.dX)).concat([(0,_.yo)(!1)]).catch((e=>{const t={msgId:"search.generic_error",...e,message:e.message,stack:e.stack};return ue.Observable.from([(0,_.kE)(t),(0,_.yo)(!1)])})))),searchOnStartEpic:(e,t)=>e.ofType(_.Vc).switchMap((e=>{let{layer:r,cql_filter:o}=e;const n=t.getState();if(0===(0,ve.OX)(n).filter((e=>e.name===r)).length)return ue.Observable.of((0,_.Tw)());const i=(0,ve.dT)(n,r);return i&&o?ue.Observable.defer((()=>(0,Oe.DH)(i.url,{maxFeatures:1,typeName:r,srsName:"EPSG:4326",outputFormat:"application/json",cql_filter:o}).then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.features&&e.features.length&&{...e.features[0],typeName:r}})))).switchMap((e=>{let{type:t,geometry:r,typeName:n}=e,i=he()({type:t,geometry:r}).geometry.coordinates;const a={lng:i[0],lat:i[1]};return i?ue.Observable.of((0,_e.lK)({latlng:a},n,[n],{[n]:{cql_filter:o}}),(0,_e.HP)()):ue.Observable.empty()})).catch((()=>ue.Observable.of((0,_.I3)()))):ue.Observable.empty()})),searchItemSelected:(e,t)=>e.ofType(_.dX).switchMap((e=>{let r=ue.Observable.of(e.item).concatMap((t=>{if(t&&t.__SERVICE__&&t.__SERVICE__.geomService){let e=(0,oe.generateTemplateString)(t.__SERVICE__.geomService.options.staticFilter||"")(t);return ue.Observable.fromPromise(Pe.b.Utils.getService(t.__SERVICE__.geomService.type)("",l()({},t.__SERVICE__.geomService.options,{staticFilter:e})).then((e=>l()({},t,{geometry:Te.default.mergeToPolyGeom(e)}))))}return ue.Observable.of(e.item)})).concatMap((e=>{let r=e.bbox||e.properties.bbox||me()(e),o=[(0,v.Px)([r[0],r[1],r[2],r[3]],"EPSG:4326",e.__SERVICE__&&e.__SERVICE__.options&&e.__SERVICE__.options.maxZoomLevel||21),(0,_._q)(e)];if(e.__SERVICE__&&!Ee()(e.__SERVICE__.launchInfoPanel)&&e.__SERVICE__.options&&e.__SERVICE__.options.typeName){let r=he()(e).geometry.coordinates;const n={lng:r[0],lat:r[1]},i=e.__SERVICE__.options.typeName;if(r){const r=t.getState(),a=i&&(0,ve.dT)(r,i);let s=null,l=[],p={},c=!1;return"single_layer"===e.__SERVICE__.launchInfoPanel&&(c=e.__SERVICE__.forceSearchLayerVisibility,l=[i],s=e.id,p={[e.__SERVICE__.options.typeName]:{info_format:we(a,r),...s?{featureid:s,CQL_FILTER:void 0}:{}}}),[...c&&a?[(0,Se.He)(a.id,{visibility:!0})]:[],...e.__SERVICE__.openFeatureInfoButtonEnabled?[]:[(0,_e.lK)({latlng:n},i,l,p,s)],(0,_e.HP)(),...o]}}return o}));const o=e.item;let n=o&&o.__SERVICE__&&o.__SERVICE__.then,i=n?ue.Observable.of((0,_.QJ)(n.map((e=>({...e,options:{item:o,...e.options}}))),{text:(0,oe.generateTemplateString)(o.__SERVICE__.displayName||"")(o),placeholder:o.__SERVICE__.nestedPlaceholder&&(0,oe.generateTemplateString)(o.__SERVICE__.nestedPlaceholder||"")(o),placeholderMsgId:o.__SERVICE__.nestedPlaceholderMsgId&&(0,oe.generateTemplateString)(o.__SERVICE__.nestedPlaceholderMsgId||"")(o)},(0,oe.generateTemplateString)(o.__SERVICE__.searchTextTemplate||"")(o))):ue.Observable.empty(),a=o.__SERVICE__&&o.__SERVICE__.searchTextTemplate,s=a?ue.Observable.of((0,_.k9)((0,oe.generateTemplateString)(a)(o))):ue.Observable.empty();return ue.Observable.of((0,_.kV)()).concat(r,i,s)})),zoomAndAddPointEpic:(e,t)=>e.ofType(_.b4).switchMap((e=>{const r={type:"Feature",geometry:{type:"Point",coordinates:[e.pos.x,e.pos.y]}},o=t.getState();return ue.Observable.from([(0,y.W)("search","search","overlay",{features:[r],type:"vector",name:"searchPoints",id:"searchPoints",visibility:!0,style:o.search&&o.search.style||le.be}),(0,v.xy)(e.pos,e.zoom,e.crs)])})),textSearchShowGFIEpic:(e,t)=>e.ofType(_.al).filter((e=>{let{item:t={}}=e;return!t?.__SERVICE__?.customGFI})).switchMap((r=>{let{item:o}=r;const n=t.getState(),i=o?.__SERVICE__?.options?.typeName,a=i&&(0,ve.dT)(n,i),s=o.bbox||o.properties.bbox||me()(o),l=he()(o).geometry.coordinates,p={lng:l[0],lat:l[1]},c=o.id;return l&&(0,le.zA)(o?.__SERVICE__)&&(0,le.Tv)(a,o?.__SERVICE__)?ue.Observable.of(...o?.__SERVICE__?.forceSearchLayerVisibility&&a?[(0,Se.He)(a.id,{visibility:!0})]:[],(0,_e.lK)({latlng:p},i,[i],{[i]:{info_format:we(a,n),...c?{featureid:c,CQL_FILTER:void 0}:{}}},c),(0,_e.HP)(),(0,_._q)(o)).merge(s?e.ofType(_e.XL).take(1).mapTo((0,v.Px)([s[0],s[1],s[2],s[3]],"EPSG:4326",o?.__SERVICE__?.options?.maxZoomLevel||21)).takeUntil(e.ofType(_e.Ih,_e.km)):ue.Observable.empty()).let((e=>s&&(0,ve._$)(t.getState())?e.startWith((0,_e.PM)(!1)).concat(ue.Observable.of((0,_e.PM)(!0))):e)):ue.Observable.empty()}))},reducers:{search:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.NN:return l()({},e,{loading:t.loading});case _.O7:return l()({},e,{error:t.error});case _.gs:return l()({},e,{searchText:t.searchText,error:null});case _.p7:let r=t.results;return!0===t.append&&e&&e.results&&(r=[...e.results,...t.results]),l()({},e,{results:r,error:null});case _.Av:return l()({},e,{results:null,error:null});case _.wn:const o=t.markerPosition.latlng?{latlng:t.markerPosition.latlng,lat:t.markerPosition.latlng.lat,lng:t.markerPosition.latlng.lng}:t.markerPosition;return l()({},e,{markerPosition:o,markerLabel:t.markerLabel});case _.Gh:return l()({},e,{highlightedFeature:t.highlightedFeature});case _.M8:return{style:e.style||{}};case E.l:return null;case _.C2:return l()({},e,{selectedServices:t.services,searchText:t.searchText,selectedItems:(e.selectedItems||[]).concat(t.items)});case _.oQ:return e?l()({},{selectedItems:e.selectedItems&&e.selectedItems.filter((e=>e!==t.item)),searchText:""===e.searchText&&t.item&&t.item.text?t.item.text.substring(0,t.item.text.length):e.searchText}):e;case _.x2:return l()({},e,{style:t.style});case _.Y7:return{...e,activeSearchTool:t.activeSearchTool};case _.GI:return{...e,format:t.format};case _.KP:return{...e,coordinate:{...e.coordinate,[t.coord]:t.val}};case _.dS:return l()({},e,{markerPosition:e?.markerPosition?.latlng?{}:e?.markerPosition});default:return e}},mapInfo:Me.Z}}},42523:(e,t,r)=>{"use strict";r.d(t,{Z:()=>je});var o=r(45697),n=r.n(o),i=r(24852),a=r.n(i),s=r(71703),l=r(22222),p=r(67076),c=r(57588),u=r(80416),d=r(40512),m=r(90825),g=r(1550),h=r(97395),f=r(75110),y=r(71314),b=r(827),E=r(8316),v=r(7147),_=r(7877),S=r(74621),T=r(38842),P=r(24262),O=r(52259),x=r(86638),C=r(5346),w=r(27418),M=r.n(w),I=r(24273),L=r.n(I),A=r(13218),R=r.n(A),F=r(91175),D=r.n(F),N=r(13311),k=r.n(N),G=r(59854),j=r.n(G),Z=r(82904),U=r(57579),B=r(31273),q=r(88113),z=r(93152),W=r(21338),H=r(98772);function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class K extends a().Component{constructor(){super(...arguments),V(this,"renderTitle",(()=>a().createElement(c.Row,null,a().createElement(c.Col,{xs:12,className:"mapstore-toc-head-title-container text-center no-border"},a().createElement("div",{className:"mapstore-toc-head-title",title:this.props.title},a().createElement(c.Glyphicon,{glyph:"1-map"}),"  ",this.props.title))))),V(this,"renderFilter",(()=>a().createElement(c.Row,null,a().createElement(c.Col,{xs:12,className:"text-center"},a().createElement(H.Z,{onFocus:this.props.onClear,filterPlaceholder:this.props.filterPlaceholder,tooltipClear:this.props.filterTooltipClear,filterText:this.props.filterText,onFilter:this.props.onFilter}))))),V(this,"renderTools",(()=>a().createElement(c.Row,null,a().createElement(c.Col,{xs:12,className:"text-center"},this.props.toolbar))))}render(){const e=[this.props.showTools,this.props.showFilter,this.props.showTitle].filter((e=>e)),t=e.length>0?" toc-head-sections-"+e.length:" toc-head-sections";return a().createElement("div",{className:"mapstore-toc-head"+t},a().createElement(c.Grid,{fluid:!0},this.props.showTitle?this.renderTitle():null,this.props.showFilter?this.renderFilter():null,this.props.showTools?this.renderTools():null))}}V(K,"propTypes",{title:n().string,filterText:n().string,filterPlaceholder:n().oneOfType([n().object,n().string]),showTitle:n().bool,showFilter:n().oneOfType([n().bool,n().number]),showTools:n().bool,toolbar:n().object,onFilter:n().func,onClear:n().func,filterTooltipClear:n().oneOfType([n().object,n().string])}),V(K,"defaultProps",{title:"",filterText:"",filterPlaceholder:"Filter",showTitle:!0,showFilter:!0,showTools:!0,toolbar:null,onFilter:()=>{},onClear:()=>{},filterTooltipClear:"Clear"});const Y=K;var $=r(90173),X=r(50966),Q=r(72688),J=r(93379),ee=r.n(J),te=r(93483);ee()(te.Z,{insert:"head",singleton:!1}),te.Z.locals;var re=r(1469),oe=r.n(re),ne=r(47037),ie=r.n(ne),ae=r(82571),se=r.n(ae),le=r(7472),pe=r(99534),ce=r(80876),ue=r(3674),de=r.n(ue),me=r(61239),ge=r(11847),he=r(38560);function fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ye extends a().Component{constructor(e){var t;super(e),t=this,fe(this,"renderMetadata",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const n=(e,r)=>a().createElement("div",{style:{display:"flex",flexDirection:"row"}},e,a().createElement(he.Z,{style:{margin:"4px 0 0 4px"},className:"square-button-md no-border",onClick:()=>((e,r)=>{t.setState({collapsed:{...t.state.collapsed,[e]:r}})})(r,!t.state.collapsed[r])},a().createElement(c.Glyphicon,{glyph:t.state.collapsed[r]?"plus":"minus"}))),i=de()(e).filter((e=>"references"!==e)).map((r=>{const i=e[r],s=`${o}.${r}`;let l;const p=`toc.layerMetadata.${r}`,c=(0,x.S$)(t.context.messages,p)===p?a().createElement(C.Z,{msgId:"toc.layerMetadata.defaultPropName",msgParams:{propName:r}}):a().createElement(C.Z,{msgId:p}),u=e=>a().createElement("tr",null,a().createElement("td",null,c),a().createElement("td",null,e));if(oe()(i))if(i.length){const e=`toc.layerMetadata.itemTitles.${r}`,o=(0,x.S$)(t.context.messages,e),p=o===e?(0,x.S$)(t.context.messages,"toc.layerMetadata.itemTitles.default"):o,m=i.map(((e,r)=>{const o=`${s}@item_${r}`;return R()(e)?t.renderMetadata(e,i.length>1?n(a().createElement("h4",null,`${p} #${r+1}`),o):null,o):a().createElement("li",{key:r},e)}));l=R()(i[0])?(d=a().createElement("div",null,n(a().createElement("h4",null,c),s),t.state.collapsed[s]?null:a().createElement("div",null,m)),a().createElement("tr",null,a().createElement("td",{colSpan:"2"},d))):u(a().createElement("ul",null,m))}else l=null;else if(ie()(i)){const e=(0,me.v)(i),t=(0,ge.K2)(i);l=u(e||t?a().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t?i:`mailto:${i}`},i):i)}var d;return l})).filter((e=>!!e));return a().createElement("div",{style:o?{padding:"8px"}:{}},r,t.state.collapsed[o]?null:a().createElement(c.Table,null,a().createElement("tbody",null,i)))})),this.state={collapsed:{}}}renderEmpty(){return a().createElement("div",null,a().createElement(C.Z,{msgId:"toc.layerMetadata.emptyMetadata"}))}render(){const e=this.props.model;return de()(e).length?a().createElement("div",{style:{maxHeight:"400px",overflow:"auto"},id:e.identifier},this.renderMetadata(e)):this.renderEmpty()}}fe(ye,"propTypes",{model:n().object}),fe(ye,"contextTypes",{messages:n().object}),fe(ye,"defaultProps",{model:{}});const be=ye;function Ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ve extends a().Component{constructor(){super(...arguments),Ee(this,"onDelete",(()=>{this.props.hideLayerMetadata()})),Ee(this,"onClose",(()=>{this.props.hideLayerMetadata()})),Ee(this,"getTemplate",(()=>{const e=this.props.metadataTemplate||be;if(oe()(e)||ie()(e)){const t=oe()(e)?e.join("\n"):e;return a().createElement(se(),{model:this.props.layerMetadata.metadataRecord,template:t,renderContent:ce.Z})}const t=e;return a().createElement(t,{model:this.props.layerMetadata.metadataRecord})})),Ee(this,"renderBodyTemplate",(()=>this.props.layerMetadata.maskLoading?null:this.getTemplate()))}render(){const e=a().createElement("span",{role:"footer"});return this.props.layerMetadata.expanded?a().createElement(pe.Z,null,a().createElement(le.Z,{maskLoading:this.props.layerMetadata.maskLoading,id:this.props.id,style:this.props.panelStyle,className:this.props.panelClassName},a().createElement("span",{role:"header"},a().createElement("span",{className:"layer-settings-metadata-panel-title"},this.props.layerMetadataPanelTitle),a().createElement("button",{onClick:this.onClose,className:"layer-settings-metadata-panel-close close"},this.props.closeGlyph?a().createElement(c.Glyphicon,{glyph:this.props.closeGlyph}):a().createElement("span",null,"×"))),a().createElement("div",{role:"body",style:{minWidth:"500px"}},this.renderBodyTemplate()),e)):null}}Ee(ve,"propTypes",{id:n().string,layerMetadata:n().object,metadataTemplate:n().oneOfType([n().string,n().array,n().object,n().func]),hideLayerMetadata:n().func,closeGlyph:n().string,panelStyle:n().object,panelClassName:n().string,maskLoading:n().bool,layerMetadataPanelTitle:n().oneOfType([n().string,n().object])}),Ee(ve,"defaultProps",{id:"mapstore-layer-settings-metadata",layerMetadata:{expanded:!1},metadataTemplate:null,closeGlyph:"1-close",panelStyle:{},panelClassName:"toolbar-panel portal-dialog",maskLoading:!0,layerMetadataPanelTitle:""});const _e=ve;function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Se.apply(this,arguments)}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Pe extends a().Component{constructor(){super(...arguments),Te(this,"state",{showDeleteDialog:!1}),Te(this,"isNestedGroup",(()=>{const e=this.props.selectedGroups.map((e=>e.id.split(".")));return D()(e.reduce(((e,t)=>e[0]===t[0]?t:[!1]),e[0]))})),Te(this,"isLoading",(()=>D()(this.props.selectedLayers.filter((e=>e.loading))))),Te(this,"getStatus",(()=>{const{selectedLayers:e,selectedGroups:t}=this.props,r=this.isNestedGroup();let o=0===e.length&0===t.length?"DESELECT":"";return o=1===e.length&0===t.length?"LAYER":o,o=r?"GROUP":o,o=e.length>1&0===t.length?"LAYERS":o,o=t.length>1&&!r?"GROUPS":o,o=this.props.selectedLayers.length>0&&this.props.selectedLayers.filter((e=>"Error"===e.loadingError)).length===this.props.selectedLayers.length?`${o}_LOAD_ERROR`:o,o})),Te(this,"getSelectedGroup",(()=>this.props.selectedGroups.length>0&&this.props.selectedGroups[this.props.selectedGroups.length-1])),Te(this,"getSelectedNodeDepth",(()=>"DESELECT"===this.getStatus()?0:this.getSelectedGroup().id.split(".").length+1)),Te(this,"addLayer",(()=>{const e=this.getSelectedGroup();this.props.onToolsActions.onAddLayer(e&&e.id)})),Te(this,"addGroup",(()=>{const e=this.getSelectedGroup();this.props.onToolsActions.onAddGroup(e&&e.id)})),Te(this,"browseData",(()=>{this.props.onToolsActions.onBrowseData({url:this.props.selectedLayers[0].search.url||this.props.selectedLayers[0].url,name:this.props.selectedLayers[0].name,id:this.props.selectedLayers[0].id})})),Te(this,"download",(()=>{this.props.onToolsActions.onDownload({url:this.props.selectedLayers[0].search?.url||this.props.selectedLayers[0].url,name:this.props.selectedLayers[0].name,id:this.props.selectedLayers[0].id})})),Te(this,"checkBbox",(()=>{const e=this.props.selectedLayers.filter((e=>e.bbox)).map((e=>e.bbox)),t=e.length>0?e.reduce(((e,t)=>e.crs===t.crs?e:{crs:"differentCRS"})):{crs:"differentCRS"};return!!D()(e)&&"differentCRS"!==t.crs&&t.crs})),Te(this,"zoomTo",(()=>{const e=this.props.selectedLayers.filter((e=>e.bbox)).map((e=>e.bbox)),t=e.length>1?e.reduce(((e,t)=>({bounds:{maxx:e.bounds.maxx>t.bounds.maxx?e.bounds.maxx:t.bounds.maxx,maxy:e.bounds.maxy>t.bounds.maxy?e.bounds.maxy:t.bounds.maxy,minx:e.bounds.minx<t.bounds.minx?e.bounds.minx:t.bounds.minx,miny:e.bounds.miny<t.bounds.miny?e.bounds.miny:t.bounds.miny},crs:t.crs})),e[0]):e[0];this.props.onToolsActions.onZoom(t.bounds,t.crs)})),Te(this,"showSettings",(e=>{this.props.settings.expanded?this.props.onToolsActions.onHideSettings():"LAYER"===e||"LAYER_LOAD_ERROR"===e?this.props.onToolsActions.onSettings(this.props.selectedLayers[0].id,"layers",{opacity:parseFloat(void 0!==this.props.selectedLayers[0].opacity?this.props.selectedLayers[0].opacity:1)}):"GROUP"===e&&this.props.onToolsActions.onSettings(this.props.selectedGroups[this.props.selectedGroups.length-1].id,"groups",{})})),Te(this,"showMetadata",(()=>{this.props.layerMetadata.expanded?this.props.onToolsActions.onHideLayerMetadata():this.props.onToolsActions.onGetMetadataRecord(this.props.options.metadataOptions)})),Te(this,"removeNodes",(()=>{this.props.selectedLayers.forEach((e=>{this.props.onToolsActions.onRemove(e.id,"layers")})),this.props.selectedGroups.forEach((e=>{this.props.onToolsActions.onRemove(e.id,"groups")})),this.props.onToolsActions.onClear(),this.closeDeleteDialog()})),Te(this,"reload",(()=>{this.props.selectedLayers.forEach((e=>{this.props.onToolsActions.onShow(e.id,{visibility:!0}),this.props.onToolsActions.onReload(e.id)}))})),Te(this,"closeDeleteDialog",(()=>{this.setState({showDeleteDialog:!1})})),Te(this,"displayDeleteDialog",(()=>{this.setState({showDeleteDialog:!0})}))}render(){const e=this.getStatus(),t=this.checkBbox(),r=t&&$.default.defs(t),o=a().createElement(_e,{key:"toollayermetadatamodal",layerMetadata:this.props.layerMetadata,metadataTemplate:this.props.metadataTemplate,hideLayerMetadata:this.props.onToolsActions.onHideLayerMetadata,layerMetadataPanelTitle:this.props.text.layerMetadataPanelTitle});return this.props.activateTool.activateToolsContainer?a().createElement(c.ButtonGroup,null,this.props.activateTool.activateLayerInfoTool&&"DESELECT"===e?a().createElement(X.Z,{key:"layerInfo",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-layerInfo"},this.props.text.layerInfoTooltip)},a().createElement(he.Z,{key:"layerInfo",bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onLayerInfo},a().createElement(c.Glyphicon,{glyph:"layer-info"}))):null,!this.props.activateTool.activateAddLayer||"DESELECT"!==e&&"GROUP"!==e?null:a().createElement(X.Z,{key:"addLayer",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-addLayer"},"GROUP"===e?this.props.text.addLayerToGroupTooltip:this.props.text.addLayerTooltip)},a().createElement(he.Z,{key:"addLayer",bsStyle:"primary",className:"square-button-md",onClick:this.addLayer},a().createElement(c.Glyphicon,{glyph:"add-layer"}))),this.props.activateTool.activateAddGroup&&("DESELECT"===e||"GROUP"===e)&&this.getSelectedNodeDepth()<=this.props.maxDepth?a().createElement(X.Z,{key:"addGroup",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-addGroup"},"GROUP"===e?this.props.text.addSubGroupTooltip:this.props.text.addGroupTooltip)},a().createElement(he.Z,{key:"addGroup",bsStyle:"primary",className:"square-button-md",onClick:this.addGroup},a().createElement(c.Glyphicon,{glyph:"add-folder"}))):null,this.props.activateTool.activateZoomTool&&("LAYER"===e||"GROUP"===e||"LAYERS"===e||"GROUPS"===e)&&t?a().createElement(X.Z,{key:"zoomTo",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-zoomTo"},r?this.props.text.zoomToTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"]:a().createElement(C.Z,{msgId:"toc.epsgNotSupported",msgParams:{epsg:t||" "}}))},a().createElement(he.Z,{bsStyle:"primary",className:"square-button-md",style:r?{opacity:1,cursor:"pointer"}:{opacity:.5,cursor:"default"},onClick:r?this.zoomTo:()=>{}},a().createElement(c.Glyphicon,{glyph:"zoom-to"}))):null,!this.props.activateTool.activateSettingsTool||"LAYER"!==e&&"GROUP"!==e&&"LAYER_LOAD_ERROR"!==e||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:a().createElement(X.Z,{key:"settings",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-settings"},this.props.text.settingsTooltip["LAYER_LOAD_ERROR"===e?"LAYER":e])},a().createElement(he.Z,{active:this.props.settings.expanded,bsStyle:this.props.settings.expanded?"success":"primary",className:"square-button-md",onClick:()=>{this.showSettings(e)}},a().createElement(c.Glyphicon,{glyph:"wrench"}))),!this.props.activateTool.activateLayerFilterTool||"LAYER"!==e&&"LAYER_LOAD_ERROR"!==e||!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:a().createElement(X.Z,{key:"queryPanel",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-layerFilter"},this.props.text.layerFilterTooltip)},a().createElement(he.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onQueryBuilder},a().createElement(c.Glyphicon,{glyph:"filter-layer"}))),!this.props.activateTool.activateQueryTool||"LAYER"!==e||!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:a().createElement(X.Z,{key:"featuresGrid",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-featuresGrid"},this.props.text.featuresGridTooltip)},a().createElement(he.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.browseData},a().createElement(c.Glyphicon,{glyph:"features-grid"}))),(!this.props.activateTool.activateRemoveLayer||"LAYER"!==e&&"LAYERS"!==e&&"LAYER_LOAD_ERROR"!==e&&"LAYERS_LOAD_ERROR"!==e)&&(!this.props.activateTool.activateRemoveGroup||"GROUP"!==e&&"GROUPS"!==e&&"GROUP_LOAD_ERROR"!==e&&"GROUPS_LOAD_ERROR"!==e)||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:a().createElement(X.Z,{key:"removeNode",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-trash"},this.props.selectedGroups.length?this.props.text.trashTooltip.GROUP:this.props.text.trashTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"])},a().createElement(he.Z,{active:this.state.showDeleteDialog,bsStyle:this.props.settings.showDeleteDialog?"success":"primary",className:"square-button-md",onClick:this.displayDeleteDialog},a().createElement(c.Glyphicon,{glyph:"trash"}))),!this.isLoading()&&"LAYER_LOAD_ERROR"===e||"LAYERS_LOAD_ERROR"===e?a().createElement(X.Z,{key:"reload",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-reload"},this.props.text.reloadTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"])},a().createElement(he.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.reload},a().createElement(c.Glyphicon,{glyph:"refresh"}))):null,!this.props.activateTool.activateWidgetTool||"LAYER"!==e||1!==this.props.selectedLayers.length||!this.props.selectedLayers[0].search||"vector"===this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.layerdownload.expanded?null:a().createElement(X.Z,{key:"widgets",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-widgets"},this.props.text.createWidgetTooltip)},a().createElement(he.Z,{bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onNewWidget},a().createElement(c.Glyphicon,{glyph:"stats"}))),!this.props.activateTool.activateDownloadTool||"LAYER"!==e||"wms"!==this.props.selectedLayers[0].type&&!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded?null:a().createElement(X.Z,{key:"downloadTool",placement:"top",overlay:a().createElement(c.Tooltip,{id:"toc-tooltip-downloadTool"},this.props.text.downloadToolTooltip)},a().createElement(he.Z,{bsStyle:this.props.layerdownload.expanded?"success":"primary",className:"square-button-md",onClick:this.download},a().createElement(c.Glyphicon,{glyph:"download"}))),!this.props.activateTool.activateMetedataTool||"LAYER"!==e||this.props.settings.expanded||this.props.layerdownload.expanded?null:a().createElement(X.Z,{key:"layerMetadata",placement:"top",overlay:a().createElement(c.Tooltip,{id:"legend-tooltip-metadata"},this.props.text.layerMetadataTooltip)},a().createElement(he.Z,{key:"layer-metadata",bsStyle:this.props.layerMetadata.expanded?"success":"primary",className:"square-button-md",onClick:()=>this.showMetadata()},a().createElement(c.Glyphicon,{glyph:"info-sign"}))),this.props.items.filter((t=>{let{selector:r=(()=>!0)}=t;return r({...this.props,status:e})})).map((t=>{let{Component:r}=t;return a().createElement(r,Se({},this.props,{status:e}))})),a().createElement(Q.Z,{ref:"removelayer",options:{animation:!1,className:"modal-fixed"},show:this.state.showDeleteDialog,onHide:this.closeDeleteDialog,onClose:this.closeDeleteDialog,onConfirm:this.removeNodes,titleText:this.props.selectedGroups&&this.props.selectedGroups.length?this.props.text.confirmDeleteLayerGroupText:this.props.text.confirmDeleteText,confirmText:this.props.text.confirmDeleteConfirmText,cancelText:this.props.text.confirmDeleteCancelText,body:this.props.selectedGroups&&this.props.selectedGroups.length?this.props.text.confirmDeleteLayerGroupMessage:this.props.text.confirmDeleteMessage}),o):null}}Te(Pe,"propTypes",{groups:n().array,items:n().array,selectedLayers:n().array,generalInfoFormat:n().string,selectedGroups:n().array,onToolsActions:n().object,text:n().object,activateTool:n().object,options:n().object,style:n().object,settings:n().object,layerMetadata:n().object,layerdownload:n().object,maxDepth:n().number,metadataTemplate:n().oneOfType([n().string,n().array,n().object,n().func])}),Te(Pe,"defaultProps",{groups:[],items:[],selectedLayers:[],selectedGroups:[],onToolsActions:{onZoom:()=>{},onNewWidget:()=>{},onBrowseData:()=>{},onQueryBuilder:()=>{},onUpdate:()=>{},onRemove:()=>{},onClear:()=>{},onSettings:()=>{},onUpdateSettings:()=>{},onRetrieveLayerData:()=>{},onHideSettings:()=>{},onReload:()=>{},onAddLayer:()=>{},onAddGroup:()=>{},onDownload:()=>{},onGetMetadataRecord:()=>{},onHideLayerMetadata:()=>{},onShow:()=>{},onLayerInfo:()=>{}},maxDepth:3,text:{settingsText:"",opacityText:"",elevationText:"",saveText:"",closeText:"",confirmDeleteText:"",confirmDeleteMessage:"",confirmDeleteConfirmText:"",confirmDeleteCancelText:"",createWidgetTooltip:"",addLayerTooltip:"",addLayerToGroupTooltip:"",addGroupTooltip:"",addSubGroupTooltip:"",zoomToTooltip:{LAYER:"",LAYERS:""},settingsTooltip:{LAYER:"",GROUP:""},featuresGridTooltip:"",downloadToolTooltip:"",trashTooltip:{LAYER:"",LAYERS:"",GROUP:""},reloadTooltip:{LAYER:"",LAYERS:""},layerMetadataTooltip:"",layerMetadataPanelTitle:"",layerFilter:"",layerInfoTooltip:""},activateTool:{activateToolsContainer:!0,activateRemoveLayer:!0,activateRemoveGroup:!0,activateZoomTool:!0,activateQueryTool:!0,activateDownloadTool:!0,activateSettingsTool:!0,activateAddLayer:!0,activateAddGroup:!0,includeDeleteButtonInSettings:!1,activateMetedataTool:!0,activateLayerFilterTool:!0,activateLayerInfoTool:!0},options:{modalOptions:{},metadataOptions:{},settingsOptions:{}},style:{chartStyle:{}},settings:{},layerMetadata:{},layerdownload:{},metadataTemplate:null});const Oe=Pe;var xe=r(81859),Ce=r(90690),we=r(29423),Me=r(64152);function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ie.apply(this,arguments)}function Le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ae=(e,t)=>e.reduce(((e,r)=>{let o=M()({},r);return o.nodes&&(o=M()({},o,{nodes:Ae(o.nodes,t)})),t.forEach((e=>{o=e.func(o)?M()({},o,e.options):M()({},o)})),e.push(o),e}),[]),Re=(e,t,r)=>-1!==((R()(e.title)?e.title[r]||e.title.default:e.title)||e.name).toLowerCase().indexOf(t.toLowerCase()),Fe=(0,l.P1)([e=>e.controls&&e.controls.toolbar&&"toc"===e.controls.toolbar.active,f.Bt,f.jN,y.yn,f.yj,f.lI,b.Od,E.Pz,E.KV,f.NP,f.wA,f.l2,b.Zs,q.$t,v.PJ,_.us,z.c0,S.np,T.wk],((e,t,r,o,n,i,a,s,l,p,c,u,d,m,g,h,f,y,b)=>({enabled:e,groups:t,settings:r,swipeSettings:o,layerMetadata:n,layerdownload:i,currentZoomLvl:a&&a.zoom,scales:(0,O.getScales)(a&&a.projection||"EPSG:3857",a&&a.mapOptions&&a.mapOptions.view&&a.mapOptions.view.DPI||null),currentLocale:s,currentLocaleLanguage:l,selectedNodes:p,filterText:c,generalInfoFormat:h,selectedLayers:u.filter((e=>D()(p.filter((t=>t===e.id))))),noFilterResults:0===u.filter((e=>Re(e,c,s))).length,updatableLayersCount:u.filter((e=>"background"!==e.group&&("wms"===e.type||"wmts"===e.type))).length,selectedGroups:p.map((e=>(0,P.Mk)(t,e))).filter((e=>e&&e.nodes)),mapName:d,filteredGroups:Ae(t,[{options:{showComponent:!0},func:()=>!c},{options:{loadingError:!0},func:e=>D()((e.nodes||[]).filter((e=>e.loadingError&&"Warning"!==e.loadingError)))},{options:{expanded:!0,showComponent:!0},func:e=>c&&D()((e.nodes||[]).filter((t=>Re(t,c,s)||t.nodes&&D()(e.nodes.filter((e=>e.showComponent))))))},{options:{showComponent:!1},func:e=>D()((e.nodes||[]).filter((e=>e.hidden||"annotations"===e.id&&f)))&&1===e.nodes.length},{options:{showComponent:!1},func:e=>"annotations"===e.id&&f}]),catalogActive:m,activateWidgetTool:g,user:y,isLocalizedLayerStylesEnabled:b})));class De extends a().Component{constructor(){super(...arguments),Le(this,"getNoBackgroundLayers",(e=>"background"!==e.name)),Le(this,"getDefaultGroup",(()=>{const e=this.props.groupNodeComponent||xe.Z;return a().createElement(e,Ie({onSort:!this.props.filterText&&this.props.activateSortLayer?this.props.onSort:null},this.props.groupOptions,{titleTooltip:this.props.activateTitleTooltip,propertiesChangeHandler:this.props.groupPropertiesChangeHandler,onToggle:this.props.onToggleGroup,style:this.props.groupStyle,groupVisibilityCheckbox:!0,visibilityCheckType:this.props.visibilityCheckType,currentLocale:this.props.currentLocale,selectedNodes:this.props.selectedNodes,onSelect:this.props.activateToolsContainer?this.props.onSelectNode:null}))})),Le(this,"getDefaultLayer",(()=>{const e=this.props.layerNodeComponent||Ce.Z,t=(this.props.resolutions||(0,O.getResolutions)())[j()(this.props.currentZoomLvl)];return a().createElement(e,Ie({},this.props.layerOptions,{titleTooltip:this.props.activateTitleTooltip,showFullTitleOnExpand:this.props.showFullTitleOnExpand,onToggle:this.props.onToggleLayer,activateOpacityTool:this.props.activateOpacityTool,onContextMenu:this.props.onContextMenu,propertiesChangeHandler:this.props.layerPropertiesChangeHandler,onSelect:this.props.activateToolsContainer?this.props.onSelectNode:null,visibilityCheckType:this.props.visibilityCheckType,activateLegendTool:this.props.activateLegendTool,currentZoomLvl:this.props.currentZoomLvl,scales:this.props.scales,currentLocale:this.props.currentLocale,selectedNodes:this.props.selectedNodes,filterText:this.props.filterText,onUpdateNode:this.props.updateNode,hideOpacityTooltip:this.props.hideOpacityTooltip,language:this.props.isLocalizedLayerStylesEnabled?this.props.currentLocaleLanguage:null,resolution:t}))})),Le(this,"renderTOC",(()=>{const e=this.getDefaultGroup(),t=this.getDefaultLayer(),r=[this.props.activateToolsContainer,this.props.activateFilterLayer,this.props.activateMapTitle].filter((e=>e)),o=r.length>0?" toc-body-sections-"+r.length:" toc-body-sections";return a().createElement("div",null,a().createElement(Y,{title:this.props.mapName,showTitle:this.props.activateMapTitle,showFilter:this.props.activateFilterLayer&&(this.props.groups.filter((e=>(e.nodes||[]).length))||[]).length,showTools:this.props.activateToolsContainer,onClear:()=>{this.props.onSelectNode()},onFilter:this.props.onFilter,filterTooltipClear:a().createElement(C.Z,{msgId:"toc.clearFilter"}),filterPlaceholder:(0,x.S$)(this.context.messages,"toc.filterPlaceholder"),filterText:this.props.filterText,toolbar:a().createElement(Oe,{items:this.props.items.filter((e=>{let{target:t}=e;return"toolbar"===t})),groups:this.props.groups,selectedLayers:this.props.selectedLayers,selectedGroups:this.props.selectedGroups,generalInfoFormat:this.props.generalInfoFormat,settings:this.props.settings,swipeSettings:this.props.swipeSettings,layerMetadata:this.props.layerMetadata,layerdownload:this.props.layerdownload,metadataTemplate:this.props.metadataTemplate,maxDepth:this.props.maxDepth,activateTool:{activateToolsContainer:this.props.activateToolsContainer,activateRemoveLayer:this.props.activateRemoveLayer,activateRemoveGroup:this.props.activateRemoveGroup,activateZoomTool:this.props.activateZoomTool,activateQueryTool:this.props.activateQueryTool,activateDownloadTool:this.props.activateDownloadTool,activateSettingsTool:this.props.activateSettingsTool,activateAddLayer:this.props.activateAddLayerButton&&!this.props.catalogActive,activateAddGroup:this.props.activateAddGroupButton,includeDeleteButtonInSettings:!1,activateMetedataTool:this.props.activateMetedataTool,activateWidgetTool:this.props.activateWidgetTool,activateLayerFilterTool:this.props.activateLayerFilterTool,activateLayerInfoTool:this.props.updatableLayersCount>0&&this.props.activateLayerInfoTool},options:{modalOptions:{},metadataOptions:this.props.metadataOptions,settingsOptions:this.props.settingsOptions},style:{chartStyle:this.props.chartStyle},text:{settingsText:a().createElement(C.Z,{msgId:"layerProperties.windowTitle"}),opacityText:a().createElement(C.Z,{msgId:"opacity"}),elevationText:a().createElement(C.Z,{msgId:"elevation"}),saveText:a().createElement(C.Z,{msgId:"save"}),closeText:a().createElement(C.Z,{msgId:"close"}),confirmDeleteText:a().createElement(C.Z,{msgId:"layerProperties.deleteLayer"}),confirmDeleteMessage:a().createElement(C.Z,{msgId:"layerProperties.deleteLayerMessage"}),confirmDeleteLayerGroupText:a().createElement(C.Z,{msgId:"layerProperties.deleteLayerGroup"}),confirmDeleteLayerGroupMessage:a().createElement(C.Z,{msgId:"layerProperties.deleteLayerGroupMessage"}),confirmDeleteConfirmText:a().createElement(C.Z,{msgId:"layerProperties.delete"}),confirmDeleteCancelText:a().createElement(C.Z,{msgId:"cancel"}),addLayer:a().createElement(C.Z,{msgId:"toc.addLayer"}),addLayerTooltip:a().createElement(C.Z,{msgId:"toc.addLayer"}),addLayerToGroupTooltip:a().createElement(C.Z,{msgId:"toc.addLayerToGroup"}),addGroupTooltip:a().createElement(C.Z,{msgId:"toc.addGroup"}),addSubGroupTooltip:a().createElement(C.Z,{msgId:"toc.addSubGroup"}),createWidgetTooltip:a().createElement(C.Z,{msgId:"toc.createWidget"}),zoomToTooltip:{LAYER:a().createElement(C.Z,{msgId:"toc.toolZoomToLayerTooltip"}),LAYERS:a().createElement(C.Z,{msgId:"toc.toolZoomToLayersTooltip"})},settingsTooltip:{LAYER:a().createElement(C.Z,{msgId:"toc.toolLayerSettingsTooltip"}),GROUP:a().createElement(C.Z,{msgId:"toc.toolGroupSettingsTooltip"})},featuresGridTooltip:a().createElement(C.Z,{msgId:"toc.toolFeaturesGridTooltip"}),downloadToolTooltip:a().createElement(C.Z,{msgId:"toc.toolDownloadTooltip"}),trashTooltip:{LAYER:a().createElement(C.Z,{msgId:"toc.toolTrashLayerTooltip"}),LAYERS:a().createElement(C.Z,{msgId:"toc.toolTrashLayersTooltip"}),GROUP:a().createElement(C.Z,{msgId:"toc.toolTrashGroupTooltip"})},reloadTooltip:{LAYER:a().createElement(C.Z,{msgId:"toc.toolReloadLayerTooltip"}),LAYERS:a().createElement(C.Z,{msgId:"toc.toolReloadLayersTooltip"})},layerMetadataTooltip:a().createElement(C.Z,{msgId:"toc.layerMetadata.toolLayerMetadataTooltip"}),layerMetadataPanelTitle:a().createElement(C.Z,{msgId:"toc.layerMetadata.layerMetadataPanelTitle"}),layerFilterTooltip:a().createElement(C.Z,{msgId:"toc.layerFilterTooltip"}),layerInfoTooltip:a().createElement(C.Z,{msgId:"toc.layerInfoTooltip"})},onToolsActions:{onZoom:this.props.onZoomToExtent,onNewWidget:this.props.onNewWidget,onBrowseData:this.props.onBrowseData,onQueryBuilder:this.props.onQueryBuilder,onDownload:this.props.onDownload,onUpdate:this.props.updateNode,onRemove:this.props.removeNode,onClear:this.props.onSelectNode,onSettings:this.props.onSettings,onUpdateSettings:this.props.updateSettings,onRetrieveLayerData:this.props.retrieveLayerData,onHideSettings:this.props.hideSettings,onReload:this.props.refreshLayerVersion,onAddLayer:this.props.onAddLayer,onAddGroup:this.props.onAddGroup,onGetMetadataRecord:this.props.onGetMetadataRecord,onHideLayerMetadata:this.props.hideLayerMetadata,onShow:this.props.layerPropertiesChangeHandler,onLayerInfo:this.props.onLayerInfo}})}),a().createElement("div",{className:"mapstore-toc"+o},this.props.noFilterResults&&this.props.filterText?a().createElement("div",null,a().createElement("div",{className:"toc-filter-no-results"},a().createElement(C.Z,{msgId:"toc.noFilteredResults"}))):a().createElement(W.Z,{onError:this.props.onError,onSort:!this.props.filterText&&this.props.activateSortLayer?this.props.onSort:null,filter:this.getNoBackgroundLayers,nodes:this.props.filteredGroups},a().createElement(we.Z,{groupElement:e,layerElement:t}))))}))}render(){return this.props.groups?this.renderTOC():a().createElement("div",null)}}Le(De,"propTypes",{id:n().number,items:n().array,buttonContent:n().node,groups:n().array,settings:n().object,swipeSettings:n().object,layerMetadata:n().object,layerdownload:n().object,metadataTemplate:n().oneOfType([n().string,n().array,n().object,n().func]),refreshMapEnabled:n().bool,groupStyle:n().object,groupPropertiesChangeHandler:n().func,layerPropertiesChangeHandler:n().func,onToggleGroup:n().func,onToggleLayer:n().func,onContextMenu:n().func,onBrowseData:n().func,onQueryBuilder:n().func,onDownload:n().func,onSelectNode:n().func,selectedNodes:n().array,onZoomToExtent:n().func,retrieveLayerData:n().func,onSort:n().func,onSettings:n().func,onRefreshLayer:n().func,onNewWidget:n().func,hideSettings:n().func,updateSettings:n().func,updateNode:n().func,removeNode:n().func,activateTitleTooltip:n().bool,showFullTitleOnExpand:n().bool,activateOpacityTool:n().bool,activateSortLayer:n().bool,activateFilterLayer:n().bool,activateMapTitle:n().bool,activateToolsContainer:n().bool,activateRemoveLayer:n().bool,activateRemoveGroup:n().bool,activateLegendTool:n().bool,activateZoomTool:n().bool,activateQueryTool:n().bool,activateDownloadTool:n().bool,activateSettingsTool:n().bool,activateMetedataTool:n().bool,activateWidgetTool:n().bool,activateLayerInfoTool:n().bool,maxDepth:n().number,visibilityCheckType:n().string,settingsOptions:n().object,chartStyle:n().object,currentZoomLvl:n().number,scales:n().array,layerOptions:n().object,metadataOptions:n().object,spatialOperations:n().array,spatialMethodOptions:n().array,groupOptions:n().object,currentLocale:n().string,currentLocaleLanguage:n().string,onFilter:n().func,filterText:n().string,generalInfoFormat:n().string,selectedLayers:n().array,selectedGroups:n().array,mapName:n().string,filteredGroups:n().array,noFilterResults:n().bool,onAddLayer:n().func,onAddGroup:n().func,onError:n().func,onGetMetadataRecord:n().func,hideLayerMetadata:n().func,activateAddLayerButton:n().bool,activateAddGroupButton:n().bool,activateLayerFilterTool:n().bool,catalogActive:n().bool,refreshLayerVersion:n().func,hideOpacityTooltip:n().bool,layerNodeComponent:n().func,groupNodeComponent:n().func,isLocalizedLayerStylesEnabled:n().bool,onLayerInfo:n().func,onSetSwipeActive:n().func,updatableLayersCount:n().number,onSetSwipeMode:n().func,resolutions:n().func}),Le(De,"contextTypes",{messages:n().object}),Le(De,"defaultProps",{items:[],groupPropertiesChangeHandler:()=>{},layerPropertiesChangeHandler:()=>{},retrieveLayerData:()=>{},onToggleGroup:()=>{},onToggleLayer:()=>{},onContextMenu:()=>{},onToggleQuery:()=>{},onZoomToExtent:()=>{},onSettings:()=>{},onRefreshLayer:()=>{},onNewWidget:()=>{},updateNode:()=>{},removeNode:()=>{},onSelectNode:()=>{},selectedNodes:[],activateOpacityTool:!0,activateTitleTooltip:!0,showFullTitleOnExpand:!1,activateSortLayer:!0,activateFilterLayer:!0,activateMapTitle:!0,activateToolsContainer:!0,activateLegendTool:!0,activateZoomTool:!0,activateSettingsTool:!0,activateMetedataTool:!0,activateRemoveLayer:!0,activateRemoveGroup:!0,activateQueryTool:!0,activateDownloadTool:!0,activateWidgetTool:!1,activateLayerFilterTool:!1,activateLayerInfoTool:!0,maxDepth:3,visibilityCheckType:"glyph",settingsOptions:{includeCloseButton:!1,closeGlyph:"1-close",buttonSize:"small",showFeatureInfoTab:!0},layerOptions:{},metadataOptions:{},groupOptions:{},spatialOperations:[{id:"INTERSECTS",name:"queryform.spatialfilter.operations.intersects"},{id:"BBOX",name:"queryform.spatialfilter.operations.bbox"},{id:"CONTAINS",name:"queryform.spatialfilter.operations.contains"},{id:"WITHIN",name:"queryform.spatialfilter.operations.within"}],spatialMethodOptions:[{id:"Viewport",name:"queryform.spatialfilter.methods.viewport"},{id:"BBOX",name:"queryform.spatialfilter.methods.box"},{id:"Circle",name:"queryform.spatialfilter.methods.circle"},{id:"Polygon",name:"queryform.spatialfilter.methods.poly"}],currentLocale:"en-US",filterText:"",selectedLayers:[],selectedGroups:[],mapName:"",filteredGroups:[],noFilterResults:!1,onAddLayer:()=>{},onAddGroup:()=>{},onError:()=>{},onGetMetadataRecord:()=>{},hideLayerMetadata:()=>{},activateAddLayerButton:!1,activateAddGroupButton:!1,catalogActive:!1,refreshLayerVersion:()=>{},metadataTemplate:null,onLayerInfo:()=>{},onSetSwipeMode:()=>{}});const Ne=(0,p.withPropsOnChange)(["user","addLayersPermissions","activateAddLayerButton","removeLayersPermissions","activateRemoveLayer","sortingPermission","activateRemoveLayer","addGroupsPermissions","activateAddGroupButton","removeGroupsPermissions","activateRemoveGroup","layerInfoToolPermissions","activateLayerInfoTool"],(e=>{const{addLayersPermissions:t=!0,removeLayersPermissions:r=!0,sortingPermissions:o=!0,addGroupsPermissions:n=!0,removeGroupsPermissions:i=!0,layerInfoToolPermissions:a=!1,activateAddLayerButton:s,activateRemoveLayer:l,activateSortLayer:p,activateAddGroupButton:c,activateRemoveGroup:u,activateLayerInfoTool:d,user:m}=e,g=(e,t)=>{const r=m&&"ADMIN"===m.role||!1;return!(!e&&!r)&&t};return{activateAddLayerButton:g(t,s),activateRemoveLayer:g(r,l),activateSortLayer:g(o,p),activateAddGroupButton:g(n,c),activateRemoveGroup:g(i,u),activateLayerInfoTool:g(a,d)}})),ke=(0,p.branch)((e=>{let{checkPlugins:t=!0}=e;return t}),(0,p.withPropsOnChange)(["items","activateAddLayerButton","activateAddGroupButton","activateLayerFilterTool","activateSettingsTool","FeatureEditor","activateLayerInfoTool"],(e=>{let{items:t=[],activateAddLayerButton:r=!0,activateAddGroupButton:o=!0,activateQueryTool:n=!0,activateSettingsTool:i=!0,activateLayerFilterTool:a=!0,activateWidgetTool:s=!0,activateLayerInfoTool:l=!0,activateDownloadTool:p=!0}=e;return{activateAddLayerButton:r&&!!k()(t,{name:"MetadataExplorer"})||!1,activateAddGroupButton:o&&!!k()(t,{name:"AddGroup"})||!1,activateSettingsTool:i&&!!k()(t,{name:"TOCItemsSettings"})||!1,activateQueryTool:n&&!!k()(t,{name:"FeatureEditor"})||!1,activateLayerFilterTool:a&&!!k()(t,{name:"FilterLayer"})||!1,activateWidgetTool:s&&!!k()(t,{name:"WidgetBuilder"})&&!!k()(t,{name:"Widgets"}),activateLayerInfoTool:l&&!!k()(t,{name:"LayerInfo"})||!1,activateDownloadTool:p&&!!k()(t,{name:"LayerDownload"})||!1}}))),Ge=(0,s.connect)(Fe,{groupPropertiesChangeHandler:u.WO,layerPropertiesChangeHandler:u.He,retrieveLayerData:m.k,onToggleGroup:(0,P.$0)("groups",u.bh),onToggleLayer:(0,P.$0)("layers",u.bh),onContextMenu:u.pV,onBrowseData:u.Qr,onQueryBuilder:d.Zq,onDownload:u.LR,onSort:u.Dv,onSettings:u.RP,onZoomToExtent:g.Px,hideSettings:u.sF,updateSettings:u.VP,updateNode:u.tV,removeNode:u.ZF,onSelectNode:u.UG,onFilter:u.F5,onAddLayer:Z.pu.bind(null,"metadataexplorer","enabled",!0,"group"),onAddGroup:Z.pu.bind(null,"addgroup","enabled",!0,"parent"),onGetMetadataRecord:B.ky,onError:h.vU,hideLayerMetadata:u.Jh,onNewWidget:()=>(0,U.A4)(),refreshLayerVersion:u.ct,onLayerInfo:Z.Xg.bind(null,"layerinfo","enabled",!0,!1)})((0,p.compose)(Ne,ke)(De)),je={TOCPlugin:M()(Ge,{Toolbar:{name:"toc",position:7,exclusive:!0,panel:!0,help:a().createElement(C.Z,{msgId:"helptexts.layerSwitcher"}),tooltip:"layers",wrap:!0,title:"layers",icon:a().createElement(c.Glyphicon,{glyph:"1-layer"}),priority:1},DrawerMenu:{name:"toc",position:1,glyph:"1-layer",icon:a().createElement("img",{src:L()}),buttonConfig:{buttonClassName:"square-button no-border",tooltip:"toc.layers"},priority:2}}),reducers:{queryform:r(46905).Z,query:r(97301).Z},epics:r(56175).Z(Me.Z)}},83520:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(71703),l=r(64317),p=r(31255),c=r(55105),u=r(22222),d=r(27418),m=r.n(d),g=r(58252);function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},f.apply(this,arguments)}class y extends n().Component{render(){const{children:e,...t}=this.props;return n().createElement(l.CSSTransitionGroup,f({},t,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),e)}}class b extends n().Component{render(){const{children:e,...t}=this.props;return n().createElement("div",t,e)}}class E extends n().Component{constructor(){super(...arguments),h(this,"getPanel",(e=>!0===e.panel?e.plugin:e.panel)),h(this,"getPanels",(()=>this.getTools().filter((e=>e.panel)).map((e=>({name:e.name,title:e.title,cfg:e.cfg,panel:this.getPanel(e),items:e.items,wrap:e.wrap||!1}))))),h(this,"getTools",(()=>{const e=this.props.items.filter((e=>!e.alwaysVisible))||[];return this.props.items.filter((t=>t.alwaysVisible||1===e.length||this.props.allVisible)).filter((e=>!e.showWhen||e.showWhen(this.props))).map(((e,t)=>m()({},e,{position:e.position||t}))).sort(((e,t)=>e.position-t.position))}))}render(){const e=this.props.disableAnimation?b:y;return n().createElement(g.Z,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}h(E,"propTypes",{id:a().string,tools:a().array,mapType:a().string,style:a().object,panelStyle:a().object,panelClassName:a().string,disableAnimation:a().bool,active:a().string,items:a().array,allVisible:a().bool,layout:a().string,stateSelector:a().string,buttonStyle:a().string,buttonSize:a().string,pressedButtonStyle:a().string,btnConfig:a().object}),h(E,"contextTypes",{messages:a().object,router:a().object}),h(E,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});const v={ToolbarPlugin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return(0,s.connect)((e=>(0,u.P1)([t=>t.controls&&t.controls[e]&&t.controls[e].active,t=>t.controls&&t.controls[e]&&t.controls[e].expanded,p.Rd,e=>(0,c.ic)(e,{right:!0,bottom:!0})],((t,r,o,n)=>({active:t,allVisible:r,stateSelector:e,layout:o?"horizontal":"vertical",style:n}))))(e))(E)},reducers:{controls:r(25108).Z}}},43549:(e,t,r)=>{"use strict";r.d(t,{Z:()=>M});var o=r(93379),n=r.n(o),i=r(54840);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=r(27418),s=r.n(a),l=r(24852),p=r.n(l),c=r(57588),u=r(71703),d=r(22222),m=r(1550),g=r(45697),h=r.n(g),f=r(38560),y=r(50966),b=r(52259),E=r(37275);function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends p().Component{constructor(){super(...arguments),v(this,"addTooltip",(e=>{let t=p().createElement(c.Tooltip,{id:"locate-tooltip"},this.props.tooltip);return p().createElement(y.Z,{placement:this.props.tooltipPlace,key:"overlay-trigger."+this.props.id,overlay:t},e)})),v(this,"zoomToMaxExtent",(()=>{var e=this.props.mapConfig.maxExtent,t=this.props.mapConfig.size,r=1,o=this.props.mapConfig.center,n=this.props.mapConfig.projection||"EPSG:3857";e&&"[object Array]"===Object.prototype.toString.call(e)&&(r=(0,b.getZoomForExtent)(e,t,0,21),0===(o=(0,b.getCenterForExtent)(e,n)).x&&0===o.y||(o=(0,E.qg)(o,"EPSG:4326")));let i=(0,b.getBbox)(o,r,t);this.props.changeMapView(o,r,i,this.props.mapConfig.size,null,this.props.mapConfig.projection)})),v(this,"zoomToInitialExtent",(()=>{var e=this.props.mapInitialConfig;let t=(0,b.getBbox)(e.center,e.zoom,this.props.mapConfig.size);this.props.changeMapView(e.center,e.zoom,t,this.props.mapConfig.size,null,this.props.mapConfig.projection)}))}render(){return this.addTooltip(p().createElement(f.Z,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:()=>this.props.useInitialExtent?this.zoomToInitialExtent():this.zoomToMaxExtent(),className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?p().createElement(c.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}v(_,"propTypes",{id:h().string,image:h().string,glyphicon:h().string,text:h().string,btnSize:h().oneOf(["large","small","xsmall"]),mapConfig:h().object,mapInitialConfig:h().object,changeMapView:h().func,btnType:h().oneOf(["normal","image"]),help:h().oneOfType([h().string,h().element]),tooltip:h().element,tooltipPlace:h().string,className:h().string,useInitialExtent:h().bool,bsStyle:h().string,style:h().object}),v(_,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"});const S=_;var T=r(5346),P=r(827);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},O.apply(this,arguments)}const x=(0,d.P1)([P.Od,e=>e.mapInitialConfig],((e,t)=>({mapConfig:e,mapInitialConfig:t}))),C=(0,u.connect)(x,{changeMapView:m.o6})(S);class w extends p().Component{render(){return p().createElement(C,O({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}const M={ZoomAllPlugin:s()(w,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:p().createElement(c.Glyphicon,{glyph:"resize-full"}),help:p().createElement(T.Z,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},58252:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var o=r(53131),n=r.n(o),i=r(27418),a=r.n(i),s=r(45697),l=r.n(s),p=r(24852),c=r.n(p),u=r(57588),d=r(71703),m=r(12838),g=r(82904),h=r(98939),f=r(83606),y=r(5346),b=r(50966),E=r(38560);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},v.apply(this,arguments)}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=(0,d.connect)((e=>({isVisible:e.controls&&e.controls.help&&e.controls.help.enabled})),{changeHelpText:h.n2,changeHelpwinVisibility:h.SA})(f.Z);class T extends c().Component{constructor(){super(...arguments),_(this,"getToolConfig",(e=>e.tool?{}:this.props.toolCfg)),_(this,"getTool",(e=>{if(e.tool)return!0===e.tool?e.plugin:e.tool;let t=()=>({});const r={};return e.exclusive?(t=t=>({active:t.controls&&t.controls[this.props.stateSelector]&&t.controls[this.props.stateSelector].active===e.name}),r[this.props.eventSelector]=g.Xg.bind(null,this.props.stateSelector,"active",e.name,!0)):e.toggle?(t=t=>({bsStyle:t.controls[e.toggleControl||e.name]&&t.controls[e.toggleControl||e.name][e.toggleProperty||"enabled"]?this.props.activeStyle:this.props.toolStyle,active:t.controls[e.toggleControl||e.name]&&t.controls[e.toggleControl||e.name][e.toggleProperty||"enabled"]||!1}),r[this.props.eventSelector]=g.Xi.bind(null,e.toggleControl||e.name,e.toggleProperty||null)):e.action&&(r[this.props.eventSelector]=n()(e.action,this.context),t=e.selector||t),(0,d.connect)(t,r,((e,t,r)=>this.mergeHandlers({...r,...e},t)))(this.props.tool)})),_(this,"renderTool",((e,t)=>{if(e.element)return e.element;const r=e.help?c().createElement(S,{className:"mapstore-helpbadge",helpText:e.help}):c().createElement("span",null),o=e.tooltip?c().createElement(y.Z,{msgId:e.tooltip}):null,n=this.getTool(e),i=this.getToolConfig(e),a=e.childTools||[];return this.addTooltip(c().createElement(n,v({},i,{pluginCfg:e.cfg,tooltip:o,style:e.style,btnSize:this.props.toolSize,bsStyle:this.props.toolStyle,help:r,key:e.name||"tool"+t,mapType:this.props.mapType},e.cfg,{items:e.items||[]}),e.cfg&&e.cfg.glyph?c().createElement(u.Glyphicon,{glyph:e.cfg.glyph}):e.icon,r," ",e.text,a.length>0&&c().createElement(T,v({},e.innerProps,{mapType:this.props.mapType,tools:a,panels:e.childPanels}))),e)})),_(this,"renderTools",(()=>this.props.tools.map(this.renderTool))),_(this,"renderPanels",(()=>this.props.panels.filter((e=>!e.panel.loadPlugin)).map((e=>{const t=e.panel,r=c().createElement(t,v({key:e.name,mapType:this.props.mapType},e.cfg,e.props||{},{items:e.items||[]})),o=e.title?c().createElement(y.Z,{msgId:e.title}):null;return e.wrap?c().createElement(u.Collapse,{key:"mapToolBar-item-collapse-"+e.name,in:this.props.activePanel===e.name},c().createElement(u.Panel,{header:o,style:this.props.panelStyle,className:this.props.panelClassName},r)):r})))),_(this,"mergeHandlers",((e,t)=>Object.keys(t).reduce(((r,o)=>a()(r,{[o]:e[o]?(0,m.qC)(e[o],t[o]):t[o]})),e))),_(this,"addTooltip",((e,t)=>{if(t.tooltip){let r=c().createElement(u.Tooltip,{id:this.props.id+"-"+t.name+"-tooltip"},c().createElement(y.Z,{msgId:t.tooltip}));return c().createElement(b.Z,{key:this.props.id+"-"+t.name+"-overlay",rootClose:!0,placement:"left",overlay:r},e)}return e}))}render(){const e=this.props.container;return c().createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},c().createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}_(T,"propTypes",{id:l().string.isRequired,container:l().func,containerWrapperStyle:l().object,tool:l().oneOfType([l().object,l().func]),className:l().string,style:l().object,tools:l().array,panels:l().array,mapType:l().string,toolStyle:l().string,activeStyle:l().string,toolSize:l().string,stateSelector:l().string.isRequired,eventSelector:l().string,panelStyle:l().object,panelClassName:l().string,activePanel:l().string,toolCfg:l().object}),_(T,"contextTypes",{messages:l().object,router:l().object}),_(T,"defaultProps",{container:u.Panel,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:E.Z,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}});const P=T},81756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(71703),n=r(5346);const i=(0,o.connect)((e=>({locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]})))(n.Z)},23805:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const o={plugins:{DetailsPlugin:r(33535).Z,DrawerMenuPlugin:r(87011).Z,FeedbackMaskPlugin:r(68741).Z,GoFullPlugin:r(181).Z,IdentifyPlugin:r(76176).Z,LocatePlugin:r(60860).Z,MapFooterPlugin:r(43526).Z,MapLoadingPlugin:r(70646).Z,MapPlugin:r(97216).Z,OmniBarPlugin:r(68004).Z,SearchPlugin:r(19379).Z,TOCPlugin:r(42523).Z,ToolbarPlugin:r(83520).Z,ZoomAllPlugin:r(43549).Z,FullScreenPlugin:r(9842).Z,MousePosition:r(70830).Z},requires:{ReactSwipe:r(77314).Z,SwipeHeader:r(79870).Z}}},42416:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var o=r(24852),n=r.n(o),i=r(45697),a=r.n(i),s=r(37275),l=r(93379),p=r.n(l),c=r(20114);function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d;p()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;class m extends n().Component{constructor(){super(...arguments),u(this,"updateMap",((e,t)=>{if(e&&d!==this.props.location){d=this.props.location,s.ZP.getDefaults().ignoreMobileCss||"mobile"===this.props.mode&&r(99710);const o=r(72500).parse(window.location.href,!0).query;let n="0"===e?null:e,i=o&&o.config||null;const{configUrl:a}=s.ZP.getConfigUrl({mapId:n,config:i});this.props.onInit(),"new"===n?this.props.loadNewMap(a,t&&parseInt(t,10)):this.props.loadMapConfig(a,n)}}))}UNSAFE_componentWillMount(){const e=this.props.match.params.mapId||"0",t=this.props.match.params.contextId;this.updateMap(e,t)}componentDidUpdate(e){const t=this.props.match.params.mapId||"0",r=e.match.params.mapId||"0",o=this.props.match.params.contextId,n=e.match.params.contextId;t===r&&o===n||this.updateMap(t,o)}render(){const e=this.props.wrappedContainer;return n().createElement(e,{pluginsConfig:this.props.pluginsConfig,plugins:this.props.plugins,params:this.props.match.params,className:this.props.className})}}u(m,"propTypes",{mode:a().string,match:a().object,loadNewMap:a().func,loadMapConfig:a().func,onInit:a().func,plugins:a().object,pluginsConfig:a().object,wrappedContainer:a().oneOfType([a().object,a().func]),location:a().object,className:a().string}),u(m,"defaultProps",{mode:"desktop",plugins:{},onInit:()=>{},loadNewMap:()=>{},loadMapConfig:()=>{},match:{params:{}}});const g=m},61880:(e,t,r)=>{"use strict";r.r(t);var o=r(37718),n=r(15456),i=r(21536),a=r(46618);var s=r(82904),l=r(81808),p=r(27418),c=r.n(p);var u=r(43410);const d={mode:"embedded",pages:[{name:"mapviewer",path:"/:mapId",component:r(11895).Z,pageConfig:{className:"viewer map-viewer-embedded"}}],pluginsDef:r(23805).Z,initialState:{defaultState:{mode:"embedded",mousePosition:{enabled:!1},controls:{help:{enabled:!1},print:{enabled:!1},toolbar:{active:null,expanded:!1},drawer:{enabled:!1,menu:"1"}},mapInfo:{enabled:!0,infoFormat:"text/html"}},mobile:{}},baseReducers:{mode:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:"embedded"},version:u.Z,maplayout:a.Z,searchconfig:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_CONFIG_PROP":return c()({},e,{[t.property]:t.value});case l.ok:{const r=t.config.map.text_search_config||t.config.map.text_serch_config;return c()({},e,{textSearchConfig:r})}case s.l:case"RESET_SEARCH_CONFIG":return c()({},e,{service:void 0,page:t.page,init_service_values:void 0,editIdx:void 0});case"UPDATE_SERVICE":{let r=(e.textSearchConfig&&e.textSearchConfig.services||[]).slice();const o=c()({},t.service,{priority:parseInt(t.service.priority,10)});return-1!==t.idx?r[t.idx]=o:r.push(o),c()({},e,{service:void 0,page:0,init_service_values:void 0,editIdx:void 0,textSearchConfig:{services:r,override:e.textSearchConfig&&e.textSearchConfig.override||!1}})}default:return e}}},baseEpics:{updateMapLayoutEpic:n.C,readQueryParamsOnMapEpic:i.x9},storeOpts:{persist:{whitelist:["security"]}}};var m=r(23805),g=r(76015);(0,r(98223).Rw)(m.Z.plugins),(0,g.Z)(d,m.Z,(e=>({...e,initialActions:[o.loadVersion]})))},11895:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var o=r(72500),n=r.n(o),i=r(45697),a=r.n(i),s=r(24852),l=r.n(s),p=r(71703),c=r(81808),u=r(1550),d=r(36728),m=r(42416);function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=n().parse(window.location.href,!0).query;class f extends l().Component{render(){return l().createElement(m.Z,this.props)}}g(f,"propTypes",{mode:a().string,match:a().object,loadNewMap:a().func,loadMapConfig:a().func,onInit:a().func,plugins:a().object,wrappedContainer:a().oneOfType([a().object,a().func]),location:a().object}),g(f,"defaultProps",{mode:"desktop",plugins:{},match:{params:{}},wrappedContainer:d.Z});const y=(0,p.connect)((e=>({mode:h.mobile||e.browser&&e.browser.mobile?"mobile":"desktop"})),{loadNewMap:c.vo,loadMapConfig:c.JZ,onInit:u.y9})(f)},26125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var o=r(21914),n=r(81808),i=r(82904),a=r(27418),s=r.n(a),l=r(30998),p=r.n(l),c=r(52353),u=r.n(c),d=r(41609),m=r.n(d),g=r(13652),h=r(7412);const f=(e,t,r,o)=>{const{configuration:n,requests:i,queryableLayers:a=[],index:s}=e,{infoFormat:l}=n||{},p=(0,h.Te)(l)?.getValidResponses([t[r]]),c=(0,h.Te)(l)?.getNoValidResponses(t),d=u()(s)&&!!p.length,g=!o&&i.length===c.filter((e=>e)).length,f=u()(s)&&o&&i.filter((e=>m()(e))).length===a.length;return d||g||f};function y(e,t,r){const o="vector"===r,n=o?t.reqId:p()(e.requests||[],(e=>e.reqId===t.reqId));if(-1!==n){if(["exceptions","error"].includes(r)){const t=e.requests.filter(((e,t)=>t!==n)),r=e.responses.filter(((e,t)=>t!==n));return{...e,responses:r,requests:t}}const{configuration:i,requests:a}=e;let l=e.responses||[];const p="hover"===i?.trigger||e?.showInMapPopup;if(!o){const e={response:t[r],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer};p?l=[...l,e]:l[n]=e}let c;return p?c={loaded:!0,index:0}:!p&&f(e,l,n,o)?c={loaded:!0,index:n}:l.length!==a.length||c?.loaded||(c={loaded:!0}),s()({},e,{...o&&{requests:a},...!u()(c)&&c,responses:[...l]})}return e}const b={enabled:!0,configuration:{}},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.Re:return s()({},e,{warning:"NO_QUERYABLE_LAYERS"});case o.ih:return s()({},e,{warning:null});case o.Xw:return s()({},e,{enabled:t.enabled});case o.ph:return s()({},e,{enabled:!e.enabled});case o.gG:return s()({},e,{index:t.index});case o.oz:return s()({},e,{highlight:t.enabled});case o.Pn:{const{reqId:r,request:o}=t,n=e.requests||[];return s()({},e,{requests:[...n,{request:o,reqId:r}]})}case o.DZ:const{index:a,loaded:l,...p}=e;return{...p,queryableLayers:[],responses:[],requests:[]};case o.XL:return y(e,t,"data");case o.Ih:return y(e,t,"exceptions");case o.km:return y(e,t,"error");case o.xy:return s()({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case o.e8:return{...e,configuration:{...e.configuration,infoFormat:t.infoFormat}};case o.E0:return s()({},e,{showMarker:!0});case o.F9:return s()({},e,{showMarker:!1});case o.X_:return s()({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case o.pb:return s()({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case i.l:return s()({},e,{showMarker:!1,responses:[],requests:[],configuration:{...e.configuration,trigger:"click"}});case o.qb:{const o=r(55745),n=r(65442),i={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}};let a=t.metadata&&t.metadata.units;switch(a){case"m":default:a="meters";break;case"deg":a="degrees";break;case"mi":a="miles"}let l=t.metadata&&t.metadata.resolution||1,p=o(i,(t.metadata.buffer||1)*l,a);const c=(t.layer.features||[]).filter((e=>{try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce(((e,r)=>{let i=r.properties.useGeodesicLines&&r.properties.geometryGeodesic?{...r,geometry:r.properties.geometryGeodesic}:r;return e||n(p,l&&t.metadata.buffer&&a?o(i,1,"meters"):i)}),!1):n(p,l&&t.metadata.buffer&&a?o(e,1,"meters"):e)}catch(e){return!1}}));let u=e.responses||[];const d="hover"===e?.configuration?.trigger||e?.showInMapPopup,m={response:{crs:null,features:c,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"};let g;d?(u=[...u,m],g={reqId:0}):(u[e.requests.length]=m,g={reqId:e.requests.length});const h=[...e.requests,{}];return y(s()({},e,{requests:h,queryableLayers:t.queryableLayers,responses:[...u]}),g,"vector")}case o.lF:return s()({},e,{centerToMarker:t.status});case o.ZF:return{...e,configuration:{...e.configuration,showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI}};case n.ok:return{...e,configuration:t.config.mapInfoConfiguration||e.configuration||{}};case o.GI:return{...e,formatCoord:t.format};case o.B1:return{...e,showCoordinateEditor:!t.showCoordinateEditor};case o.gc:return{...e,currentEditFeatureQuery:t.query};case o.zX:return{...e,configuration:{...e.configuration,trigger:t.trigger}};case o.Zb:return{...e,showInMapPopup:t.value};case g.Wz:return"cesium"===t.mapType?{...e,configuration:{...e.configuration,trigger:"click"}}:e;case o.Xp:return{...e,...t.cfg};default:return e}}},97301:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(95797),n=r(33528),i=r(7878),a=r(82904),s=r(27418),l=r.n(s);const p={featureTypes:{},data:{},result:null,resultError:null,syncWmsFilter:!1,isLayerFilter:!1},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.S0:return l()({},e,{typeName:t.typeName,url:t.url});case o.u7:return l()({},e,{featureTypes:l()({},e.featureTypes,{[t.typeName]:t.featureType})});case o.lN:return l()({},e,{featureTypes:l()({},e.featureTypes,{[t.typeName]:{error:t.error}})});case o.yz:return l()({},e,{featureLoading:t.isLoading});case o.lj:return l()({},e,{featureLoading:!1,data:l()({},e.data,{[t.typeName]:(r=t.feature,["STATE_NAME","STATE_ABBR","SUB_REGION","STATE_FIPS"].map((e=>({attribute:e,values:r.features.reduce(((t,r)=>-1===t.indexOf(r.properties[e])?[...t,r.properties[e]].sort():t),[])}))).reduce(((e,t)=>l()(e,{[t.attribute]:t.values.map((e=>({id:e,name:e})))})),{}))})});case o.zW:return l()({},e,{featureLoading:!1,featureTypes:l()({},e.data,{[t.typeName]:{error:t.error}})});case o.Yx:return l()({},e,{isNew:!0,searchUrl:t.searchUrl,filterObj:t.filterObj});case o.VN:return l()({},e,{filterObj:l()({},e.filterObj,t.updates)});case o.Hu:return l()({},e,{isNew:!1,result:t.result,searchUrl:t.searchUrl,filterObj:t.filterObj,resultError:null});case o.VT:return l()({},e,{isNew:!1,result:null,resultError:t.error});case a.l:case i.Eg:return t.skip&&t.skip.indexOf("query")>=0?e:l()({},e,{isNew:!1,result:null,filterObj:null,searchUrl:null});case o.RD:return l()({},e,{result:null,resultError:null});case o._T:return l()({},e,{syncWmsFilter:!e.syncWmsFilter});case n.WB:return l()({},e,{syncWmsFilter:t.syncWmsFilter});case o.vO:return l()({},e,{isLayerFilter:!e.isLayerFilter});default:return e}var r}},46905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var o=r(7878),n=r(4206),i=r(27418),a=r.n(i),s=r(19412),l=r.n(s),p=r(94707),c=r.n(p),u=r(27361),d=r.n(u),m=r(61868);const g={searchUrl:null,featureTypeConfigUrl:null,showGeneratedFilter:!1,attributePanelExpanded:!0,spatialPanelExpanded:!0,crossLayerExpanded:!0,showDetailsPanel:!1,groupLevels:5,useMapProjection:!1,toolbarEnabled:!0,groupFields:[{id:1,logic:"OR",index:0}],maxFeaturesWPS:5,filterFields:[],spatialField:{method:null,attribute:"the_geom",operation:"INTERSECTS",geometry:null},simpleFilterFields:[]},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a()({},e,{[t.fieldName]:t.fieldValue,type:t.fieldType},{fieldOptions:a()({},{...e.fieldOptions},{currentPage:void 0===t.fieldOptions.currentPage?1:t.fieldOptions.currentPage})});return"attribute"===t.fieldName&&(r.value="string"===t.fieldType?"":null,r.operator="="),"operator"===t.fieldName&&(r.value=null),r},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.E6:{const r={rowId:(new Date).getTime(),groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};return a()({},e,{filterFields:e.filterFields?[...e.filterFields,r]:[r]})}case o.vo:return a()({},e,{filterFields:e.filterFields.filter((e=>e.rowId!==t.rowId))});case o.l1:return a()({},e,{filterFields:e.filterFields.map((e=>e.rowId===t.rowId?h(e,t):e))});case o.o7:return a()({},e,{filterFields:e.filterFields.map((e=>e.rowId===t.filterField.rowId?a()({},e,{options:a()({},{...e.options},{[e.attribute]:t.options})},{fieldOptions:a()({},{...e.fieldOptions},{valuesCount:t.valuesCount})}):e))});case o.Sm:return"filterField"===t.layerFilterType?a()({},e,{filterFields:e.filterFields.map((e=>e.rowId===t.rowId?a()({},e,{openAutocompleteMenu:t.status}):e))}):(0,m.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(d()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((e=>e.rowId===t.rowId?{...e,openAutocompleteMenu:t.status}:e)),e);case o.D6:return a()({},e,{autocompleteEnabled:t.status});case o.Nr:return"filterField"===t.layerFilterType?a()({},e,{filterFields:e.filterFields.map((e=>e.rowId===t.filterField.rowId?a()({},e,{loading:t.status}):e))}):(0,m.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(d()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((e=>e.rowId===t.filterField.rowId?{...e,loading:t.status}:e)),e);case o.J9:return a()({},e,{filterFields:e.filterFields.map((e=>e.rowId===t.rowId?a()({},e,{exception:t.exceptionMessage}):e))});case o.U:{const r={id:(new Date).getTime(),logic:"OR",groupId:t.groupId,index:t.index+1};return a()({},e,{groupFields:e.groupFields?[...e.groupFields,r]:[r]})}case o.z8:return a()({},e,{groupFields:e.groupFields.map((e=>e.id===t.groupId?a()({},e,{logic:t.logic}):e))});case o.ql:return a()({},e,{filterFields:e.filterFields.filter((e=>e.groupId!==t.groupId)),groupFields:e.groupFields.filter((e=>e.id!==t.groupId))});case o.O_:return a()({},e,{filterFields:e.filterFields.map((e=>{for(let r=0;r<t.attributes.length;r++)if(e.attribute===t.attributes[r].id)return a()({},e,{value:null});return e}))});case o.M$:return a()({},e,{attributePanelExpanded:t.expand});case o.Ug:return a()({},e,{spatialPanelExpanded:t.expand});case o.p5:return a()({},e,{crossLayerExpanded:t.expand});case o.Fz:return a()({},e,{crossLayerFilter:(0,m.t8)(t.key,t.value,e.crossLayerFilter)});case o.Gf:return(0,m.vy)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId,groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null},{rowId:t.rowId},e);case o.nh:return(0,m.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(d()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((e=>e.rowId===t.rowId?h(e,t):e)),e);case o.Rf:return(0,m.z6)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId},e);case o.WZ:return a()({},e,{crossLayerFilter:{attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute}});case o.Xp:return(0,m.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(d()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((e=>e.rowId===t.filterField.rowId?{...e,options:{...e.options,[e.attribute]:t.options},fieldOptions:{...e.fieldOptions,valuesCount:t.valuesCount}}:e)),e);case o.bP:return a()({},e,{spatialField:a()({},e.spatialField,{[t.fieldName]:t.method,geometry:null})});case o.d_:return a()({},e,{spatialField:a()({},e.spatialField,{geometry:t.geometry})},{toolbarEnabled:!0});case o.xM:return a()({},e,{spatialField:a()({},e.spatialField,{[t.fieldName]:t.operation})});case o.bl:return a()({},e,{spatialField:a()({},e.spatialField,{attribute:t.attribute}),crossLayerFilter:a()({},e.crossLayerFilter,{attribute:t.attribute})});case n.hZ:return"queryform"===t.owner&&"start"===t.status?a()({},e,{toolbarEnabled:!1}):e;case o.Wi:return a()({},e,{toolbarEnabled:!0,spatialField:a()({},e.spatialField,{value:t.value,collectGeometries:t.collectGeometries,geometry:t.srsName?{...t.geometry,projection:t.srsName}:t.geometry})});case n.pb:{let r;return r="queryform"===t.owner?a()({},e,{toolbarEnabled:!0,spatialField:a()({},e.spatialField,{collectGeometries:t.collectGeometries,geometry:t.geometry})}):e,r}case o.PN:{let t=a()({},g.spatialField,{attribute:e.spatialField.attribute,value:void 0});return a()({},e,{spatialField:a()({},e.spatialField,t)})}case o._M:return a()({},e,{showDetailsPanel:t.show});case o.Eg:{let t=a()({},g.spatialField,{attribute:e.spatialField.attribute,value:void 0}),r={attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute};return a()({},e,g,{spatialField:t,crossLayerFilter:r})}case o.V1:return a()({},e,{showGeneratedFilter:t.data});case o.cY:return a()({},e,{spatialField:a()({},e.spatialField,{geometry:a()({},e.spatialField.geometry,{distance:t.distance})})});case o.co:return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((e=>e.id===t.id&&t.data.features&&t.data.features.length>0?a()({},e,{values:t.data.features,open:!0,error:null}):e))})});case o.RD:return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((e=>e.id===t.id?a()({},e,{busy:t.active}):e))})});case o.uY:{let r,o;const n=e.spatialField.zoneFields.map((e=>{if(e.id===t.id){if(r=e.multivalue?t.value.value:t.value.value[0],t.value.feature[0]){let r=t.value.feature[0],n=r.geometry_name;if(e.multivalue&&t.value.feature.length>1){for(let e=1;e<t.value.feature.length;e++){let o=t.value.feature[e];o&&(r=l()(r,o))}o={coordinates:r.geometry.coordinates,geometryName:n,geometryType:r.geometry.type}}else o={coordinates:r.geometry.coordinates,geometryName:n,geometryType:r.geometry.type}}return a()({},e,{value:r,open:!1,geometryName:o?o.geometryName:null})}return e.dependson&&t.id===e.dependson.id?a()({},e,{disabled:!1,values:null,value:null,open:!1,dependson:a()({},e.dependson,{value:r})}):e}));let i=c()({type:"FeatureCollection",features:t.value.feature});return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:n,geometry:i&&o?{extent:i,type:o.geometryType,coordinates:o.coordinates}:null})})}case o.H8:return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((e=>{let t=a()({},e,{values:null,value:null,open:!1,error:null});return e.dependson?a()({},t,{disabled:!0,open:!1,value:null,dependson:a()({},e.dependson,{value:null})}):t})),geometry:null})});case o.Hl:{let r;return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((e=>e.id===t.id?(r="object"!=typeof t.error?t.error.status&&t.error.statusText&&t.error.data?{status:t.error.status,statusText:t.error.statusText,data:t.error.data}:{message:t.error.message||"unknown error"}:t.error,a()({},e,{error:r,busy:!1})):e))})})}case o.je:{const r=e.simpleFilterFields.reduce(((e,r)=>(r.fieldId===t.id?e.push({...r,...t.properties}):e.push(r),e)),[]);return{...e,simpleFilterFields:r}}case o.go:{const r=t.properties.fieldId?t.properties:{...t.properties,fieldId:(new Date).getTime()},o=e.simpleFilterFields?[...e.simpleFilterFields,r]:[r];return{...e,simpleFilterFields:o}}case o._8:return{...e,simpleFilterFields:e.simpleFilterFields.filter((e=>e.fieldId!==t.id))};case o.xd:return{...e,simpleFilterFields:[]};case o.Ef:const{attribute:r,...i}=g.spatialField,s=a()({},g,{spatialField:{...i}}),{spatialField:p,filterFields:u,groupFields:f,crossLayerFilter:y,attributePanelExpanded:b,spatialPanelExpanded:E,crossLayerExpanded:v}=t.filter||s;return{...e,attributePanelExpanded:b,spatialPanelExpanded:E,crossLayerExpanded:v,spatialField:{...p,attribute:p&&p.attribute||e.spatialField&&e.spatialField.attribute},filterFields:u,groupFields:f,crossLayerFilter:{...y,attribute:y&&y.attribute||e.crossLayerFilter&&e.crossLayerFilter.attribute}};default:return e}}},31935:(e,t,r)=>{"use strict";r.d(t,{YL:()=>s});var o=r(22222),n=r(75110),i=r(93152),a=r(24262);const s=e=>e.backgroundSelector&&e.backgroundSelector.source;(0,o.P1)(n.l2,i.$v,i.lh,((e,t,r)=>{const o=e.filter((e=>e&&"background"===e.group));return r&&r[t]?o.map((e=>(0,a.kf)(e,t)))||[]:o}))},88113:(e,t,r)=>{"use strict";r.d(t,{b6:()=>s,_S:()=>l,R7:()=>p,bA:()=>c,Cb:()=>u,$t:()=>d,kS:()=>m,y:()=>g,l2:()=>h,HN:()=>f,CK:()=>y});var o=r(22222),n=r(27361),i=r.n(n),a=r(827);r(76712);const s=e=>i()(e,"catalog.services"),l=((0,o.P1)((e=>i()(e,"catalog.default.staticServices")),s,((e,t)=>{const r=e?.default_map_backgrounds;return r?(r.readOnly=!0,{...t,default_map_backgrounds:r}):t})),e=>i()(e,"catalog.newService")),p=e=>i()(e,`catalog.services["${i()(e,"catalog.selectedService")}"]`),c=e=>i()(e,"catalog.searchOptions"),u=e=>i()(e,"catalog.selectedService"),d=e=>"metadataexplorer"===i()(e,"controls.toolbar.active")||i()(e,"controls.metadataexplorer.enabled"),m=e=>(i()(e,"localConfig.authenticationRules")||[]).filter((e=>"authkey"===e.method)).map((e=>e.authkeyParamName))||[],g=e=>i()(e,"catalog.pageSize",4),h=e=>i()(e,"catalog.delayAutoSearch",1e3),f=(0,o.zB)({projection:a.uy}),y=e=>i()(e,"catalog.newService.formatUrlUsed","")},7147:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>i,Iz:()=>a,uc:()=>s,QF:()=>l,PJ:()=>p,Gd:()=>c,tL:()=>u,ro:()=>d});var o=r(27361),n=r.n(o);const i=e=>((e,t)=>t=>n()(t,`controls[${e}][enabled]`))(e),a=e=>n()(e,"controls.measure.showCoordinateEditor"),s=e=>n()(e,"controls.share.enabled"),l=e=>n()(e,"controls.measure.enabled"),p=e=>n()(e,"controls.widgetBuilder.available",!1),c=e=>n()(e,"controls.layersettings.initialSettings")||{},u=e=>n()(e,"controls.layersettings.originalSettings")||{},d=e=>n()(e,"controls.info.available")},31255:(e,t,r)=>{"use strict";r.d(t,{M0:()=>s,Rd:()=>l,eK:()=>p,P4:()=>c,nq:()=>u}),r(91175);var o=r(27361),n=r.n(o),i=(r(13218),r(75110),r(78889),r(8316),r(52259),r(96958),r(85148),r(74621)),a=r(93152);r(24260);const s=e=>e&&e.featuregrid&&e.featuregrid.filters,l=e=>e&&e.featuregrid&&e.featuregrid.open,p=e=>e&&e.featuregrid&&e.featuregrid.mode,c=e=>e.featuregrid&&e.featuregrid.dockSize,u=e=>{const t=(0,i.L3)(e),r=(e=>n()(e,"featuregrid.editingAllowedRoles",["ADMIN"]))(e)||["ADMIN"],o=(e=>e&&e.featuregrid&&e.featuregrid.canEdit)(e);return(-1!==r.indexOf(t)||o)&&!(0,a.c0)(e)}},75110:(e,t,r)=>{"use strict";r.d(t,{l2:()=>O,x:()=>x,CA:()=>C,dT:()=>w,pV:()=>M,_$:()=>I,Hi:()=>L,W6:()=>A,Bt:()=>R,NP:()=>F,Iz:()=>N,wA:()=>k,jN:()=>G,yj:()=>j,lI:()=>Z,Rt:()=>U,OX:()=>q,$z:()=>z});var o=r(22222),n=r(52259),i=r(7412),a=r(24262),s=r(18412),l=r(90183),p=r(7877),c=r(27361),u=r.n(c),d=r(91175),m=r.n(d),g=(r(41609),r(13311)),h=r.n(g),f=r(13218),y=r.n(f),b=r(1469),E=r.n(b),v=r(84596),_=r.n(v),S=r(14293),T=r.n(S),P=(r(59112),r(827));const O=function(){let{layers:e,config:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&E()(e)?e:e&&e.flat||t&&t.layers||[]},x=e=>m()(O(e).filter((e=>e&&e.visibility&&"background"===e.group))),C=(e,t)=>m()(O(e).filter((e=>e.id===t))),w=(e,t)=>m()(O(e).filter((e=>e.name===t))),M=e=>O(e).filter((e=>"background"===e.group)),I=e=>u()(e,"mapInfo.centerToMarker",""),L=(0,o.P1)([O,p.Dg,e=>e.search&&e.search,I,e=>u()(e,"additionallayers",[]),e=>e.annotations&&e.annotations.showMarker&&e.annotations.clickPoint],(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;const p=n.filter((e=>{let{actionType:t}=e;return"override"===t})),c=n.filter((e=>{let{actionType:t}=e;return"overlay"===t})).map((e=>e.options));let u=e.map((e=>{const{options:t}=m()(p.filter((t=>t.id===e.id)))||{};return t?{...e,...t}:{...e}}));if(u=u.concat(c),t){u.push((0,i.su)("GetFeatureInfoHighLight",{features:t.features},void 0,{overrideOLStyle:!0,featuresCrs:t.featuresCrs,style:{...s.be,color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2}}));const e="enabled"===o?(0,l.getNormalizedLatLon)(t.latlng):t.latlng;u.push((0,i.su)("GetFeatureInfo",e))}if(a){const e="enabled"===o?(0,l.getNormalizedLatLon)(a.latlng):a.latlng;u.push((0,i.su)("Annotations",e)),u.push((0,i.su)("GetFeatureInfo",{...e}))}if(r&&r.markerPosition){let e=y()(r.style)&&r.style||{};u.push((0,i.su)("GeoCoder",r.markerPosition,"marker",{overrideOLStyle:!0,style:{...s.be,...e}},r.markerLabel))}return u})),A=e=>e.layers&&e.layers.flat&&e.layers.groups||[],R=e=>e.layers&&e.layers.flat&&e.layers.groups&&(0,a.C1)(e.layers.flat,e.layers.groups).groups||[],F=e=>e.layers&&e.layers.selected||[],D=e=>F(e).map((t=>h()(O(e),{id:t}))),N=e=>{const t=D(e)||[];return t&&t[0]},k=e=>e.layers&&e.layers.filter||"",G=e=>e.layers&&e.layers.settings||{expanded:!1,options:{opacity:1}},j=e=>e.layers&&e.layers.layerMetadata||{expanded:!1,metadataRecord:{},maskLoading:!1},Z=e=>e.controls&&e.controls.layerdownload?{expanded:e.controls.layerdownload.enabled}:{expanded:!1},U=(e,t)=>(O(e)||[]).filter((e=>e&&e.dimensions&&h()(_()(e.dimensions),{name:t}))),B=(e,t)=>{const r=(0,P.Od)(e)||{},o=T()(r.resolution)?(0,n.getCurrentResolution)(Math.round(r.zoom),0,21,96):r.resolution;return(0,a.T4)(t,o)&&(0,i.y_)(t)},q=e=>O(e).filter((t=>B(e,t))),z=e=>D(e).filter((t=>B(e,t)))},2510:(e,t,r)=>{"use strict";r.d(t,{Hy:()=>a,nR:()=>s});var o=r(27361),n=r.n(o);const i=e=>e.localConfig,a=e=>(i(e)||{}).monitorState,s=e=>n()(i(e),"defaultMapOptions.floatingIdentifyDelay",500)},8316:(e,t,r)=>{"use strict";r.d(t,{Pz:()=>a,Ps:()=>s,KV:()=>l});var o=r(22222),n=r(91175),i=r.n(n);const a=e=>e.locale&&e.locale.current||"en-US",s=e=>e.locale&&e.locale.messages||{},l=(0,o.P1)([a],(e=>i()(e.split("-"))))},38842:(e,t,r)=>{"use strict";r.d(t,{wk:()=>p,c3:()=>c,fY:()=>u});var o=r(18721),n=r.n(o),i=r(27361),a=r.n(i),s=(r(13311),r(22222)),l=r(8316);const p=e=>n()(e,"localConfig.localizedLayerStyles"),c=e=>a()(e,"localConfig.localizedLayerStyles.name","mapstore_language"),u=(0,s.P1)(p,c,l.KV,((e,t,r)=>{const o=[];return e&&o.push({name:t,value:r}),o}))},827:(e,t,r)=>{"use strict";r.d(t,{Od:()=>l,uy:()=>p,J9:()=>c,Gi:()=>d,qH:()=>m,pb:()=>g,zj:()=>f,A0:()=>y,S:()=>b,Zs:()=>E,x9:()=>_,zT:()=>S,Mc:()=>T,hp:()=>P});var o=r(90183),n=r(22222),i=r(27361),a=r.n(i),s=r(52259);const l=e=>e.map&&e.map.present||e.map||e.config&&e.config.map||null,p=(0,n.P1)([l],(e=>e&&e.projection)),c=e=>a()(e,"mapInitialConfig.mapId")&&parseInt(a()(e,"mapInitialConfig.mapId"),10)||(e=>a()(l(e),"mapId")&&parseInt(a()(l(e),"mapId"),10)||null)(e),u=e=>a()(l(e),"info"),d=e=>a()(u(e),"details"),m=e=>a()(u(e),"detailsSettings"),g=e=>e.localConfig&&e.localConfig.projectionDefs||[],h=e=>e.localConfig&&e.localConfig.mapConstraints||{},f=e=>h(e).restrictedExtent,y=e=>h(e).crs,b=e=>{const t=h(e),r=p(e);return r&&a()(t,`projectionsConstraints["${r}"].minZoom`)||a()(t,"minZoom")},E=((0,n.P1)([e=>a()(l(e),"resolutions"),p],((e,t)=>{if(e&&t){const r=o.default.getUnits(t),n=100/2.54*96;return e.map((e=>e*n*("degrees"===r?111194.87428468118:1)))}return[]})),e=>e.map&&e.map.present&&e.map.present.info&&e.map.present.info.name||""),v=e=>a()(l(e),"eventListeners.mousemove",[]),_=e=>!!v(e).length,S=e=>v(e).includes("mouseposition"),T=e=>v(e).includes("identifyFloatingTool"),P=e=>v(e).includes("identifyFloatingTool")||"embedded"===e.mode||e.mapPopups?.popups&&(0,s.detectIdentifyInMapPopUp)(e)},7877:(e,t,r)=>{"use strict";r.d(t,{xt:()=>f,Qp:()=>y,us:()=>b,x0:()=>E,Bz:()=>v,H_:()=>_,A4:()=>S,Ap:()=>T,ij:()=>P,yg:()=>O,lN:()=>x,oq:()=>C,hs:()=>w,Qf:()=>M,q7:()=>I,OK:()=>L,vR:()=>A,o9:()=>R,IA:()=>D,Kc:()=>N,Dg:()=>j,AO:()=>Z,EI:()=>U,qK:()=>B,Bh:()=>q});var o=r(27361),n=r.n(o),i=r(57557),a=r.n(i),s=r(1469),l=r.n(s),p=r(22222),c=r(827),u=r(17106),d=r(8316),m=r(7412),g=r(93152),h=r(7147);const f=(0,p.P1)(g.c0,(e=>!!e?.mapInfo?.showInMapPopup),((e,t)=>!e&&t)),y=(0,p.P1)((e=>n()(e,"mapInfo.requests")||[]),(0,u.IO)("Identify"),f,((e,t,r)=>!r&&!!e&&e.length>0&&t)),b=e=>n()(e,"mapInfo.configuration.infoFormat","text/plain"),E=e=>n()(e,"mapInfo.configuration.showEmptyMessageGFI",!0),v=e=>e&&e.mapInfo&&e.mapInfo.clickPoint,_=e=>e&&e.mapInfo&&e.mapInfo.clickLayer,S=e=>n()(e,"mapInfo.itemId",null),T=e=>n()(e,"mapInfo.overrideParams",{}),P=e=>n()(e,"mapInfo.filterNameList",[]),O=e=>n()(e,"mapInfo.enabled",!1),x=(0,p.P1)((e=>!O(e)),(e=>n()(e,"controls.measure.enabled")&&(n()(e,"measurement.lineMeasureEnabled")||n()(e,"measurement.areaMeasureEnabled")||n()(e,"measurement.bearingMeasureEnabled"))),(e=>{const t=n()(e,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t}),(e=>n()(e,"annotations.editing")),h.ro,((e,t,r,o,n)=>e||!!t||r||!!o||!n)),C=(0,p.zB)({format:b,map:c.Od,point:v,currentLocale:d.Pz,maxItems:e=>n()(e,"mapInfo.configuration.maxItems")}),w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mapInfo&&e.mapInfo.highlight},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.mapInfo&&e.mapInfo.index},I=e=>e.mapInfo&&e.mapInfo.responses||[],L=e=>e?.mapInfo?.requests||[],A=e=>e?.mapInfo?.loaded,R=(0,p.P1)(L,I,b,((e,t,r)=>{const o=(0,m.Te)(r);return e.length===t.length&&o.getValidResponses(t)})),F=(0,p.P1)(I,M,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]})),D=e=>{const t=F(e)||{};return n()(t,"layerMetadata.features")},N=e=>{const t=F(e)||{};return n()(t,"layerMetadata.featuresCrs")},k=e=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?e:a()(e,"radius")},G=e=>t=>({...t,style:k(e)(t)}),j=(0,p.P1)(v,w,D,N,(e=>e&&e.mapInfo&&e.mapInfo.showMarker),(e=>n()(e,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})),((e,t,r,o,n,i)=>n&&e?t?{...e,featuresCrs:o,features:r&&l()(r)&&r.map(G(i))}:e:void 0)),Z=e=>e.mapInfo?.currentEditFeatureQuery,U=e=>n()(e,"mapInfo.configuration.trigger","click"),B=e=>!(0,g.c0)(e),q=e=>n()(e,"mapInfo.enableInfoForSelectedLayers",!0)},55105:(e,t,r)=>{"use strict";r.d(t,{Nr:()=>i,ic:()=>a,CF:()=>s}),r(91175);var o=r(827),n=r(52259);const i=e=>e.maplayout&&e.maplayout.boundingMapRect||{},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(e=>e.maplayout&&e.maplayout.layout||{})(e);return r&&Object.keys(r).filter((e=>t[e])).reduce(((e,t)=>({...e,[t]:r[t]})),{})||{}},s=e=>{const t=(0,o.Od)(e),r=i(e);return r&&t&&t.size&&{left:(0,n.parseLayoutValue)(r.left,t.size.width),bottom:(0,n.parseLayoutValue)(r.bottom,t.size.height),right:(0,n.parseLayoutValue)(r.right,t.size.width),top:(0,n.parseLayoutValue)(r.top,t.size.height)}}},93152:(e,t,r)=>{"use strict";r.d(t,{$v:()=>i,lh:()=>a,c0:()=>s,m6:()=>l,tH:()=>p});var o=r(27361),n=r.n(o);const i=e=>e&&e.maptype&&e.maptype.mapType||"leaflet",a=e=>e&&e.maptype&&e.maptype.loaded,s=e=>"cesium"===i(e),l=e=>"openlayers"===i(e),p=e=>n()(e,"maptype.last2dMapType")||"leaflet"},97266:(e,t,r)=>{"use strict";r.d(t,{VH:()=>a}),r(93152),r(7147);var o=r(61868),n=r(8797);const i=e=>{let t=e.measurement.feature||{};return t.geometry&&(t=(0,o.t8)("geometry.coordinates",(0,n.L0)(t.geometry||{}),t)),t},a=e=>e.measurement&&{...e.measurement,feature:i(e)}||{}},69842:(e,t,r)=>{"use strict";r.d(t,{vE:()=>a});var o=r(27361),n=r.n(o),i=r(22222);r(75110),r(8316),r(86638);const a=e=>n()(e,"queryform.spatialField");(0,i.P1)((e=>n()(e,"queryform.attributePanelExpanded")),(e=>n()(e,"queryform.spatialPanelExpanded")),(e=>n()(e,"queryform.crossLayerExpanded")),((e,t,r)=>({attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r})))},74621:(e,t,r)=>{"use strict";r.d(t,{np:()=>o,L3:()=>n,jl:()=>i,y8:()=>a}),r(27418),r(27361);const o=e=>e&&e.security&&e.security.user,n=e=>o(e)&&o(e).role,i=e=>e&&e.security&&e.security.user,a=e=>e.security&&e.security.token},71314:(e,t,r)=>{"use strict";r.d(t,{yn:()=>o});const o=e=>e.swipe&&e.swipe||{active:!1}},76712:(e,t,r)=>{"use strict";r.d(t,{n0:()=>U,tW:()=>B,FJ:()=>q,ll:()=>W,eL:()=>H,AD:()=>V,LZ:()=>K,T6:()=>X});var o=r(27418),n=r.n(o),i=r(91175),a=r.n(i),s=r(1469),l=r.n(s),p=r(47037),c=r.n(p),u=r(84596),d=r.n(u),m=r(13218),g=r.n(m),h=r(89734),f=r.n(h),y=r(44908),b=r.n(y),E=r(64721),v=r.n(E),_=r(27361),S=r.n(_),T=r(14293),P=r.n(T),O=r(41609),x=r.n(O),C=r(72500),w=r.n(C),M=r(90183),I=r(37275),L=r(24262),A=r(86638),R=r(7294),F=(r(33044),r(67007)),D=r(7412),N=r(52259);const k=e=>g()(e)&&e._||e,G=(e,t)=>e.filter((r=>R.C2(t,r,e,t,null))),j=(e,t,r)=>{let o=r.name;if(void 0===o){o=e.title?e.title.join(" "):(0,A.S$)(t,"catalog.notAvailable");const n=(e=>{const t=[{protocol:"https://registry.geodati.gov.it/metadata-codelist/ProtocolValue/www-download",displayValue:"Download"},{protocol:"http://www.opengis.net/def/serviceType/ogc/wms",displayValue:"WMS"},{protocol:"http://www.opengis.net/def/serviceType/ogc/wfs",displayValue:"WFS"}].filter((t=>t.protocol===e))[0]?.displayValue;return t??"Link"})(r.protocol,r.value);o=`${n?`${o} - ${n}`:o}`}return`<li><a target="_blank" href="${r.value}">${o}</a></li>`},Z={csw:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e;return o&&o.records?o.records.map((e=>{let o,i,s,p=e.dc;if(p&&p.URI){const e=l()(p.URI)?p.URI:p.URI&&[p.URI]||[];let t=a()([].filter.call(e,(e=>"thumbnail"===e.name)))||a()([].filter.call(e,(e=>!e.name&&e.protocol?.indexOf("image/")>-1)));o=t?t.value:null,i=a()(e.map((e=>{if(e.protocol){if(e.protocol.match(/^OGC:WMS-(.*)-http-get-map/g)||e.protocol.match(/^OGC:WMS/g))return e;if(e.protocol.match(/serviceType\/ogc\/wms/g))return(e=>{const t=new URLSearchParams(e.value),r=new URLSearchParams;for(const[e,o]of t)r.append(e.toLocaleLowerCase(),o);const o=r.get("layers"),n=r.get("version");return!!o&&{...e,protocol:"OGC:WMS",name:o,value:`${e.value.match(/[^\?]+[\?]+/g)}SERIVCE=WMS${n&&`&VERSION=${n}`}`}})(e)}return!1})).filter((e=>e)))}if(!i&&p&&p.references&&p.references.length){let e=Array.isArray(p.references)?p.references:[p.references];if(i=a()([].filter.call(e,(e=>e.scheme&&(e.scheme.match(/^OGC:WMS-(.*)-http-get-map/g)||"OGC:WMS"===e.scheme)))),i){let e=w().parse(i.value,!0),t=e.query&&e.query.layers||p.alternative;i=n()({},i,{name:t})}}if(!i&&p&&p.references&&p.references.length){let e=Array.isArray(p.references)?p.references:[p.references];if(s=a()([].filter.call(e,(e=>e.scheme&&"WWW:DOWNLOAD-REST_MAP"===e.scheme))),s){let e=p.alternative;s=n()({},s,{name:e})}}if(!o&&p&&p.references){let e=(e=>{let t=Array.isArray(e.references)?e.references:[e.references];return a()([].filter.call(t,(t=>"WWW:LINK-1.0-http--image-thumbnail"===t.scheme||"thumbnail"===t.scheme||"WWW:DOWNLOAD-1.0-http--download"===t.scheme&&-1!==(t.value||"").indexOf(`${e.identifier||""}-thumb`)||"WWW:DOWNLOAD-REST_MAP"===t.scheme&&-1!==(t.value||"").indexOf(`${e.identifier||""}-thumb`))))})(p);e&&(o=e.value)}let u=[];if(p&&p.references&&(Array.isArray(p.references)?p.references:[p.references]).filter((e=>e.scheme.indexOf("http-get-capabilities")>-1)).forEach((e=>{let r=0===e.value.indexOf("http")?e.value:(t&&t.catalogURL||"")+"/"+e.value;u.push({type:e.scheme,url:r})})),i&&i.name){0===i.value.indexOf("http")||n()({},i,{value:(t&&t.catalogURL||"")+"/"+i.value});let e={type:i.protocol||i.scheme,url:i.value,SRS:[],params:{name:i.name}};u.push(e)}if(s&&s.name){let e={type:"arcgis",url:s.value,SRS:[],params:{name:s.name}};u.push(e)}var m;o&&(0===o.indexOf("http")||(o=((m=t&&t.url)&&m.replace(/\/csw$/,"/")||"")+o));let g={boundingBox:e.boundingBox&&e.boundingBox.extent&&d()(e.boundingBox.extent.join(","))};if(p&&(g={...g,...f()(Object.keys(p)).reduce(((e,t)=>({...e,[t]:b()(d()(p[t]))})),{})}),p&&p.URI&&d()(p.URI)&&d()(p.URI).length&&(g={...g,uri:["<ul>"+d()(p.URI).map(j.bind(void 0,g,r)).join("")+"</ul>"]}),p&&p.subject&&d()(p.subject)&&d()(p.subject).length&&(g={...g,subject:["<ul>"+d()(p.subject).map((e=>`<li>${e}</li>`)).join("")+"</ul>"]}),u&&d()(u).length?g={...g,references:["<ul>"+d()(u).map((e=>`<li><a target="_blank" href="${e.url}">${e.params&&e.params.name||e.url}</a></li>`)).join("")+"</ul>"]}:delete g.references,p&&p.temporal){let e=c()(p.temporal)?p.temporal.split("; "):[];if(e.length){let t=e.filter((e=>-1!==e.indexOf("scheme="))).map((e=>{const t=e.indexOf("=");return e.substr(t+1,e.length-1)}));t=t.length?t[0]:"W3C-DTF";let o=e.filter((e=>-1!==e.indexOf("start=")||-1!==e.indexOf("end="))).map((e=>{const o=e.indexOf("="),n=e.substr(0,o),i=e.substr(o+1,e.length-1),a=e.length-o-1<=10;return v()(["start","end"],n)&&"W3C-DTF"===t&&!a?(0,A.S$)(r,`catalog.${n}`)+new Date(i).toLocaleString():v()(["start","end"],n)?(0,A.S$)(r,`catalog.${n}`)+i:""}));g={...g,temporal:["<ul>"+o.map((e=>`<li>${e}</li>`)).join("")+"</ul>"]}}}return{boundingBox:e.boundingBox,description:p&&c()(p.abstract)&&p.abstract||"",layerOptions:t&&t.layerOptions||{},identifier:p&&c()(p.identifier)&&p.identifier||"",references:u,thumbnail:o,title:p&&c()(p.title)&&p.title||"",tags:p&&p.tags||"",metadata:g,capabilities:e.capabilities}})):null},wms:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&e.records?e.records.map((r=>({capabilities:r,credits:r.credits,boundingBox:F.ZP.getBBox(r),description:r.Abstract||r.Title||r.Name,identifier:r.Name,service:e.service,tags:"",layerOptions:{...t?.layerOptions||{},...e?.layerOptions||{}},title:(0,L.EM)(r)||r.Name,formats:d()(r.formats||[]),dimensions:(r.Dimension&&d()(r.Dimension)||[]).map((e=>n()({},{values:e._&&e._.split(",")||[]},e.$||{}))).filter((e=>e&&"time"!==e.name)),references:[{type:"OGC:WMS",url:t&&t.url,SRS:r.SRS&&(l()(r.SRS)?r.SRS:[r.SRS])||[],params:{name:r.Name}}]}))):null},wmts:(e,t)=>e&&e.records?e.records.map((e=>{let r=d()(R.f1(e)||t&&t.url);1===r.length&&(r=r[0]);const o=R.dN(e),i=d()(e.TileMatrixSetLink||[]).reduce(((t,r)=>{const o=a()((e.TileMatrixSet&&d()(e.TileMatrixSet)||[]).filter((e=>e["ows:Identifier"]===r.TileMatrixSet))),i=o&&M.default.getEPSGCode(o["ows:SupportedCRS"]),s=r.TileMatrixSetLimits&&(r.TileMatrixSetLimits.TileMatrixLimits||[]).map((e=>({identifier:e.TileMatrix,ranges:{cols:{min:e.MinTileCol,max:e.MaxTileCol},rows:{min:e.MinTileRow,max:e.MaxTileRow}}})))||o.TileMatrix.map((e=>({identifier:e["ows:Identifier"]})));return n()(t,{[o["ows:Identifier"]]:s,[i]:s})}),{}),s=(e=>{let t=e["ows:WGS84BoundingBox"];return t||(t={"ows:LowerCorner":"-180.0 -90.0","ows:UpperCorner":"180.0 90.0"}),t})(e);return{title:k(e["ows:Title"]||e["ows:Identifier"]),description:k(e["ows:Abstract"]||e["ows:Title"]||e["ows:Identifier"]),identifier:k(e["ows:Identifier"]),tags:"",layerOptions:t&&t.layerOptions||{},style:e.style,capabilitiesURL:o,queryable:e.queryable,requestEncoding:e.requestEncoding,tileMatrixSet:e.TileMatrixSet,matrixIds:i,format:e.format,TileMatrixSetLink:d()(e.TileMatrixSetLink),boundingBox:{extent:[s["ows:LowerCorner"].split(" ")[0],s["ows:LowerCorner"].split(" ")[1],s["ows:UpperCorner"].split(" ")[0],s["ows:UpperCorner"].split(" ")[1]],crs:"EPSG:4326"},references:[{type:"OGC:WMTS",url:r,SRS:G(e.SRS||[],i),params:{name:e["ows:Identifier"]}}]}})):null,tms:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&e.records?t.service&&"tms"===t.service.provider?e.records.map((e=>({title:e.title,tileMapUrl:e.href,description:`${e.srs}${e.format?", "+e.format:""}`,tmsUrl:t.tmsUrl,references:[{type:"OGC:TMS",version:"1.0.0",url:t.url}]}))):e.records.map((e=>({title:e.title||e.provider,url:e.url,attribution:e.attribution,options:e.options,provider:e.provider,type:"tileprovider",references:[]}))):null},wfs:function(){let{records:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?e.map((e=>({...e,references:[{type:"OGC:WFS-1.1.0-http-get-capabilities",url:e.url},{type:"OGC:WFS-1.1.0-http-get-feature",url:e.url}]}))):null},backgrounds:e=>e&&e.records?e.records.map((e=>({description:e.title,title:e.title,identifier:e.name,thumbnail:e.thumbURL,references:[],background:e}))):null},U=e=>e.filter((e=>M.default.isSRSAllowed(e))).reduce(((e,t)=>n()(e,{[t]:!0})),{}),B=function(){let{references:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{wfs:a()(e.filter((e=>e.type&&("OGC:WFS"===e.type||e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-feature")>-1)))),wms:a()(e.filter((e=>e.type&&("OGC:WMS"===e.type||e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-map")>-1)))),wmts:a()(e.filter((e=>e.type&&("OGC:WMTS"===e.type||e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-map")>-1)))),tms:a()(e.filter((e=>e.type&&("OGC:TMS"===e.type||e.type.indexOf("OGC:TMS")>-1))))}},q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{references:[]};return{esri:a()(e.references.filter((e=>e.type&&("ESRI:SERVER"===e.type||"arcgis"===e.type))))}},z=function(){let{references:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a()(e.filter((e=>e.type&&e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-capabilities")>-1))),r=a()(e.filter((e=>e.type&&e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-capabilities")>-1))),o=a()(e.filter((e=>e.type&&e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-capabilities")>-1))),n=[];return t&&n.push({type:"WMS_GET_CAPABILITIES",url:t.url,labelId:"catalog.wmsGetCapLink"}),o&&n.push({type:"WMTS_GET_CAPABILITIES",url:o.url,labelId:"catalog.wmtsGetCapLink"}),r&&n.push({type:"WFS_GET_CAPABILITIES",url:r.url,labelId:"catalog.wfsGetCapLink"}),n},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wms",{removeParams:r=[],format:o,catalogURL:n,url:i,formats:a={},map:s={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4?arguments[4]:void 0;if(!e||!e.references)return null;const{wms:u,wmts:d}=B(e),m=u||d,g=e=>((e,t)=>{const r=e.split("?"),o={};return r.length>=2&&r[1]&&r[1].split(/[&;]/g).forEach((e=>{const r=e.split("=");-1===t.indexOf(r[0].toLowerCase())&&(o[r[0]]=r[1])})),{url:r[0],params:o}})(I.ZP.cleanDuplicatedQuestionMarks(e),["request","layer","layers","service","version"].concat(r));let h,f;const y=(e=>e&&!l()(e)&&-1!==e.indexOf(",")?e.split(",").map((e=>e.trim())):e)(m.url);if(y&&l()(y))h=y.map((e=>g(e))).map((e=>{let{url:t}=e;return t})),f=y.map((e=>g(e))).map((e=>{let{params:t}=e;return t})).reduce(((e,t)=>({...e,...t})),{});else{const{url:e,params:t}=g(y||n);h=e,f=t}const b=(E=i||h,l()(E)&&1===E.length?E[0]:E);var E;const v=U(m.SRS),{MaxScaleDenominator:_,MinScaleDenominator:S}=e?.capabilities??{};let T={type:t,requestEncoding:e.requestEncoding,style:e.style,format:o,url:b,capabilitiesURL:e.capabilitiesURL,queryable:e.queryable,visibility:!0,dimensions:e.dimensions||[],name:m.params&&m.params.name,title:e.title||m.params&&m.params.name,matrixIds:"wmts"===t?e.matrixIds||[]:void 0,description:e.description||"",tileMatrixSet:"wmts"===t?e.tileMatrixSet||[]:void 0,credits:!I.ZP.getConfigProp("noCreditsFromCatalog")&&e.credits,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}},links:z(e),params:f,allowedSRS:v,catalogURL:n,...p,...e.layerOptions,localizedLayerStyles:P()(c)?void 0:c};if("wms"===t&&(x()(a)||(T={...T,imageFormats:a.imageFormats,infoFormats:a.infoFormats}),!x()(s)&&(_||S))){const{resolution:e}=!P()(S)&&(0,N.getResolutionObject)(S,"scale",s)||{},{resolution:t}=!P()(_)&&(0,N.getResolutionObject)(_,"scale",s)||{};T={...T,minResolution:e,maxResolution:t}}return T},H=(e,t,r,o)=>Z[e]&&Z[e](t,r,o)||null,V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.references)return null;const{esri:r}=q(e);return{type:r.type,url:r.url,visibility:!0,dimensions:e.dimensions||[],name:r.params&&r.params.name,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}},...t}},K=e=>({type:e.type||"wfs",search:{url:e.url,type:"wfs"},url:e.url,queryable:e.queryable,visibility:!0,name:e.name,title:e.title||e.name,description:e.description||"",bbox:e.boundingBox,links:z(e),style:{weight:1,color:"rgba(0, 0, 255, 1)",opacity:1,fillColor:"rgba(0, 0, 255, 0.1)",fillOpacity:.1,radius:10},...e.layerOptions}),Y=[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/vnd.jpeg-png8",value:"image/vnd.jpeg-png8"},{label:"image/gif",value:"image/gif"}],$=()=>b()(Object.values((0,D.eq)())),X=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return F.ZP.getCapabilities(e).then((e=>{let r,o,n=S()(e,"capability.request.getMap.format",[]);if(x()(n))r=Y;else{const e=Y.map((e=>{let{value:t}=e;return t}));n=n.map((e=>{let{value:t}=e;return{label:t,value:t}})),r=n.filter((t=>{let{value:r}=t;return v()(e,r)}))||[]}if(t){let t=S()(e,"capability.request.getFeatureInfo.format",[]);const r=$();x()(t)?o=r:(t=t.map((e=>{let{value:t}=e;return t})),o=b()(t.filter((e=>v()(r,e))))||[])}return t?{imageFormats:r,infoFormats:o}:r})).catch((()=>t?{imageFormats:Y,infoFormats:$()}:Y))}},43143:(e,t,r)=>{"use strict";r.d(t,{qq:()=>c});var o=r(17621),n=r.n(o),i=r(14841),a=r.n(i),s=r(64721),l=r.n(s);let p;const c=(e,t,r)=>{const o=n()(e);return e&&o.setAlpha(a()(void 0!==t?t:o.getAlpha())).toRgbString()||r},u=e=>{const t=Math.round,r=Math.random,o=[t(255*r()),t(255*r()),t(255*r())],n=p.rgbToHex(o);if(e)for(;l()(e,n)||"#000000"===n||"#FFFFFF"===n;)u(e);return n};p={decToHex:e=>{const t="0123456789ABCDEF";let r=parseInt(e,10);return r=isNaN(r)?0:r,r=r>255||r<0?0:r,t.charAt((r-r%16)/16)+t.charAt(r%16)},rgbToHex:(e,t,r)=>e instanceof Array?p.rgbToHex(e[0],e[1],e[2]):"#"+p.decToHex(e)+p.decToHex(t)+p.decToHex(r),realToDec:e=>Math.min(255,Math.round(256*e)),rgbToHsv:(e,t,r)=>{if(e instanceof Array)return p.rgbToHsv(e[0],e[1],e[2]);let o,n,i,a,s,l=e/255,c=t/255,u=r/255;switch(o=Math.min(Math.min(l,c),u),n=Math.max(Math.max(l,c),u),i=n-o,n){case o:a=0;break;case l:a=60*(c-u)/i,c<u&&(a+=360);break;case c:a=60*(u-l)/i+120;break;case u:a=60*(l-c)/i+240}return s=0===n?0:1-o/n,[Math.round(a),s,n]},distributedColorsHEX:e=>{let t=360/(e-1),r=[];const o=(e,t,r)=>{let n=o(e,t,r);return p.rgbToHex(n)};for(let n=0;n<e;n++)r.push(o(t*n,.57,.63,n));return r},sameToneRangeColors:(e,t,r,o)=>{let n=e;isNaN(parseFloat(e))&&(n=p.hexToHsv(e)[0]);let i=.5/(r-1),a=t/(r-1),s=[];1===r&&(i=.5,a=t/2);for(let e=0;e<r;e++){let r=n+e*a-t/2,l=i*e+.3,c=l;o&&(r=o.h||r,l=o.s||l,c=o.v||c),s.push(p.hsvToHex(r,l,c,e))}return s},hsvToRgb:(e,t,r)=>{if(e instanceof Array)return p.hsvToRgb(e[0],e[1],e[2]);let o,n,i,a=Math.floor(e/60%6),s=e/60-a,l=r*(1-t),c=r*(1-s*t),u=r*(1-(1-s)*t);switch(a){case 0:o=r,n=u,i=l;break;case 1:o=c,n=r,i=l;break;case 2:o=l,n=r,i=u;break;case 3:o=l,n=c,i=r;break;case 4:o=u,n=l,i=r;break;case 5:o=r,n=l,i=c}return[p.realToDec(o),p.realToDec(n),p.realToDec(i)]},hsvToHex:(e,t,r)=>{let o=p.hsvToRgb(e,t,r);return p.rgbToHex(o)},hexToHsv:e=>{let t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));let r=p.hexToRgb(t);return p.rgbToHsv(r)}return null},hexToRgb:e=>{let t,r,o,n=e;return"#"===n.charAt(0)&&(n=e.substring(1)),t=n.charAt(0)+n.charAt(1),r=n.charAt(2)+n.charAt(3),o=n.charAt(4)+n.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(o,16)]},colorToHexStr:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return n()(e).toHexString()},colorToRgbaStr:c,generateRandomHexColor:u}},90183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FORMULAS:()=>W,getProjUrl:()=>V,determineCrs:()=>Y,normalizePoint:()=>X,reproject:()=>J,reprojectExtent:()=>te,getPolygonFromExtent:()=>re,getExtentFromNormalized:()=>oe,crsCodeTable:()=>ne,setCrsLabels:()=>ie,getUnits:()=>ae,getProjectedBBox:()=>se,createBBox:()=>le,reprojectGeoJson:()=>pe,lineIntersectPolygon:()=>ce,normalizeLng:()=>ue,reprojectBbox:()=>de,bboxToFeatureGeometry:()=>me,getCompatibleSRS:()=>ge,getEquivalentSRS:()=>he,getEPSGCode:()=>fe,normalizeSRS:()=>Ee,isAllowedSRS:()=>ve,getAvailableCRS:()=>_e,filterCRSList:()=>Se,calculateAzimuth:()=>Te,calculateDistance:()=>Pe,extendExtent:()=>Oe,getGeoJSONExtent:()=>xe,isValidExtent:()=>Ce,calculateCircleCoordinates:()=>we,transformLineToArcs:()=>Me,transformArcsToLine:()=>Ie,coordsOLtoLeaflet:()=>Le,mergeToPolyGeom:()=>Ae,getViewportGeometry:()=>Re,getExtentFromViewport:()=>Fe,fetchProjRemotely:()=>De,parseURN:()=>Ne,parseString:()=>ke,getWMSBoundingBox:()=>Ge,isSRSAllowed:()=>je,getNormalizedLatLon:()=>Ze,isInsideVisibleArea:()=>Ue,centerToVisibleArea:()=>Be,calculateCircleRadiusFromPixel:()=>qe,roundCoord:()=>ze,midpoint:()=>We,pointObjectToArray:()=>He,isPointInsideExtent:()=>Ve,isBboxCompatible:()=>Ke,extractCrsFromURN:()=>Ye,makeNumericEPSG:()=>$e,makeBboxFromOWS:()=>Xe,getPolygonFromCircle:()=>Qe,getProjections:()=>Je,getExtentForProjection:()=>et,checkIfLayerFitsExtentForProjection:()=>tt,getLonLatFromPoint:()=>rt,convertRadianToDegrees:()=>ot,convertDegreesToRadian:()=>nt,setValueBoundaries:()=>it,default:()=>at});var o=r(68103),n=r(90173),i=r(75875),a=r.n(i),s=r(27418),l=r.n(s),p=r(1469),c=r.n(p),u=r(13218),d=r.n(u),m=r(23560),g=r.n(m),h=r(42348),f=r.n(h),y=r(8400),b=r.n(y),E=r(50361),v=r.n(E),_=r(81763),S=r.n(_),T=r(12571),P=r.n(T),O=r(91175),x=r.n(O),C=r(10928),w=r.n(C),M=r(68898),I=r(67703),L=r.n(I),A=r(73345),R=r.n(A),F=r(7725),D=r(23384),N=r.n(D),k=r(81965),G=r(89733),j=r(35462),Z=r(13292),U=r.n(Z),B=r(37275);const q=n.default;let z;const W={vincenty:e=>{let t=0;for(let r=0;r<e.length-1;++r){const n=e[r],i=e[r+1],[a,s]=n,[l,p]=i;t+=parseFloat(o.Kl({longitude:a,latitude:s},{longitude:l,latitude:p}))}return t},haversine:e=>{let t=0;for(let r=0;r<e.length-1;++r){const n=e[r],i=e[r+1],[a,s]=n,[l,p]=i;t+=parseFloat(o.e8({longitude:a,latitude:s},{longitude:l,latitude:p}))}return t}};function H(e,t){return(r=e).length>=2&&"number"==typeof r[0]&&"number"==typeof r[1]?t(e):e.map((function(e){return H(e,t)}));var r}const V=e=>`http://spatialreference.org/ref/epsg/${e}/proj4/`;function K(e,t,r){if(null===e)return e;let o=v()(e);return"Feature"===e.type?o.geometry=K(e.geometry,t,r):"FeatureCollection"===e.type?o.features=o.features.map((function(e){return K(e,t,r)})):"GeometryCollection"===e.type?o.geometries=o.geometries.map((function(e){return K(e,t,r)})):t&&t(o),r&&r(o),o}function Y(e){return"string"==typeof e||e instanceof String?n.default.defs(e)?new n.default.Proj(e):null:e}let $={"EPSG:4326":"WGS 84","EPSG:3857":"EPSG:3857"};const X=e=>({x:e.x||0,y:e.y||0,srs:e.srs||e.crs||"EPSG:4326",crs:e.srs||e.crs||"EPSG:4326"}),Q=e=>{let t=e;return S()(e.x)||(t.x=parseFloat(e.x)),S()(e.y)||(t.y=parseFloat(e.y)),t},J=function(e,t,r){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=t&&n.default.defs(t)?new n.default.Proj(t):null,a=r&&n.default.defs(r)?new n.default.Proj(r):null;if(i&&a){let s=c()(e)?n.default.toPoint(e):n.default.toPoint([e.x,e.y]);const p=l()({},t===r?Q(s):n.default.transform(i,a,Q(s)),{srs:r});return o?X(p):p}return null},ee=["EPSG:900913","EPSG:4326","EPSG:3857"],te=(e,t,r)=>"EPSG:4326"===t?e:r?e.map((e=>[J([e[0],e[1]],"EPSG:4326",t),J([e[2],e[3]],"EPSG:4326",t)].reduce(((e,t)=>[...e,t.x,t.y]),[]))):[J([e[0],e[1]],"EPSG:4326",t),J([e[2],e[3]],"EPSG:4326",t)].reduce(((e,t)=>[...e,t.x,t.y]),[]),re=e=>e?e.hasOwnProperty("geometry")&&"Polygon"===e.geometry.type?e:(0,k.Z)(e):null,oe=(e,t)=>{const r=((e,t)=>{const r="EPSG:4326"!==t?[J([parseFloat(e.minx),parseFloat(e.miny)],t,"EPSG:4326"),J([parseFloat(e.maxx),parseFloat(e.maxy)],t,"EPSG:4326")].reduce(((e,t)=>[...e,t.x,t.y]),[]):[parseFloat(e.minx),parseFloat(e.miny),parseFloat(e.maxx),parseFloat(e.maxy)];let o=!1;return"EPSG:4326"===t?o=Math.abs(e.maxx-e.minx)>=360:"EPSG:900913"!==t&&"EPSG:3857"!==t||(o=Math.abs(e.maxx-e.minx)>=40075016.68557849),o?[0,r[1],360,r[3]]:[(r[0]+180)%360,r[1],(r[2]+180)%360,r[3]].map(((e,t)=>t%2==0&&e<0?360+e:e))})(e,t),o=r[2]<r[0];return o?{extent:te([[-180,r[1],r[2]-180,r[3]],[r[0]-180,r[1],180,r[3]]],t,o),isIDL:o}:{extent:te([r[0]-180,r[1],r[2]-180,r[3]],t,o),isIDL:o}},ne={wgs84:4326,wgs1984:4326,crs84:4326,ogccrs84:4326,lambert93:2154,rgflambert93:2154},ie=e=>{$=l()({},$,e)},ae=function(e){return new n.default.Proj(e).units||"degrees"},se=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,n=t*o[0]/2,i=t*o[1]/2,a=Math.cos(r),s=Math.sin(r),l=n*a,p=n*s,c=i*a,u=i*s,d=e.x,m=e.y,g=d-l+u,h=d-l-u,f=d+l-u,y=d+l+u,b=m-p-c,E=m-p+c,v=m+p+c,_=m+p-c;return z.createBBox(Math.min(g,h,f,y),Math.min(b,E,v,_),Math.max(g,h,f,y),Math.max(b,E,v,_))},le=(e,t,r,o)=>({minx:e,miny:t,maxx:r,maxy:o}),pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";"string"==typeof t&&(t=Y(t)),"string"==typeof r&&(r=Y(r));let o=q(t,r);return K(e,(e=>{e.crs&&delete e.crs,e.coordinates=H(e.coordinates,(e=>{let[t,r]=e;return o.forward([t,r])}))}),(e=>{e.bbox&&(e.bbox=(()=>{let t=[Number.MAX_VALUE,Number.MAX_VALUE],r=[-Number.MAX_VALUE,-Number.MAX_VALUE];return K(e,(function(e){H(e.coordinates,(function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),r[0]=Math.max(r[0],e[0]),r[1]=Math.max(r[1],e[1])}))})),[t[0],t[1],r[0],r[1]]})())}))},ce=function(e,t){let r=R()(t).features[0];return 0!==L()(e,r).features.length},ue=e=>{let t=e/360%1*360;return t<-180?t+=360:t>180&&(t-=360),t},de=function(e,t,r){let o,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];o=c()(e)?{sw:[e[0],e[1]],ne:[e[2],e[3]]}:{sw:[e.minx,e.miny],ne:[e.maxx,e.maxy]};let i=[];for(let e in o)if(o.hasOwnProperty(e)){const a=z.reproject(o[e],t,r,n);if(!a)return null;{let{x:e,y:t}=a;i.push(e),i.push(t)}}return i},me=e=>{const t=c()(e)?{minx:e[0],miny:e[1],maxx:e[2],maxy:e[3]}:e,{minx:r,miny:o,maxx:n,maxy:i}=t;return{type:"Polygon",coordinates:[[[r,o],[r,i],[n,i],[n,o],[r,o]]]}},ge=(e,t)=>"EPSG:900913"===e&&!t["EPSG:900913"]&&t["EPSG:3857"]?"EPSG:3857":"EPSG:3857"===e&&!t["EPSG:3857"]&&t["EPSG:900913"]?"EPSG:900913":e,he=e=>"EPSG:900913"===e||"EPSG:3857"===e?["EPSG:3857","EPSG:900913"]:[e],fe=e=>-1!==e.indexOf(":")?"EPSG:"+e.substring(e.lastIndexOf(":")+1):e,ye=["EPSG:900913","EPSG:3857","EPSG:3785","EPSG:102113","GOOGLE"],be=["EPSG:4326","WGS84"],Ee=function(e,t){const r=-1!==ye.indexOf(e)?"EPSG:3857":-1!==be.indexOf(e)?"EPSG:4326":e;return t&&!t[r]?z.getCompatibleSRS(r,t):r},ve=(e,t)=>t[z.getCompatibleSRS(e,t)],_e=function(){let e={};for(let t in n.default.defs)n.default.defs.hasOwnProperty(t)&&(e[t]={label:$[t]||t});return e},Se=(e,t,r,o)=>{let n=Object.keys(e).reduce(((r,o)=>l()({},-1===t.indexOf(o)?r:{...r,[o]:e[o]})),{});const i=o.map((e=>e.code));let a=Object.keys(r).reduce(((e,t)=>l()({},-1===i.indexOf(t)?e:{...e,[t]:r[t]})),{});return l()({},n,a)},Te=function(e,t,r){var o=z.reproject(e,r,"EPSG:4326"),n=z.reproject(t,r,"EPSG:4326"),i=o.x*Math.PI/180,a=o.y*Math.PI/180,s=n.x*Math.PI/180,l=n.y*Math.PI/180,p=s-i,c=Math.sin(p)*Math.cos(l),u=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(p);return(180*Math.atan2(c,u)/Math.PI+360)%360},Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"haversine";return e.length>=2&&-1!==Object.keys(W).indexOf(t)?W[t](e):0},Oe=function(e,t){let r=e.slice();return t[0]<e[0]&&(r[0]=t[0]),t[2]>e[2]&&(r[2]=t[2]),t[1]<e[1]&&(r[1]=t[1]),t[3]>e[3]&&(r[3]=t[3]),r},xe=function(e){let t=[1/0,1/0,-1/0,-1/0];const r=(e,t)=>{let r=z.getGeoJSONExtent(t);return z.isValidExtent(r)?z.extendExtent(r,e):r};if(e.coordinates){if("Point"===e.type){let r=e.coordinates;t[0]=r[0]-.01*r[0],t[1]=r[1]-.01*r[1],t[2]=r[0]+.01*r[0],t[3]=r[1]+.01*r[1]}return b()(f()(e.coordinates),2).reduce(((e,t)=>[t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[0]>e[2]?t[0]:e[2],t[1]>e[3]?t[1]:e[3]]),t)}if("GeometryCollection"===e.type)return e.geometries.reduce(r,t);if(e.type){if("FeatureCollection"===e.type)return e.features.reduce(r,t);if("Feature"===e.type&&e.geometry)return z.getGeoJSONExtent(e.geometry)}return t},Ce=function(e){return!(-1!==e.indexOf(1/0)||-1!==e.indexOf(-1/0)||e[0]>e[2]||e[1]>e[3])},we=function(e,t,r,o){let n,i,a,s=Math.PI*(1/r-.5);o&&(s+=o/180*Math.PI);let l=[[]];for(let o=0;o<r;o++)n=s+2*o*Math.PI/r,i=e.x+t*Math.cos(n),a=e.y+t*Math.sin(n),l[0].push([i,a]);return l[0].push(l[0][0]),l},Me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{npoints:100,offset:10,properties:{}},r=[];for(let o=0;o<e.length-1;++o){const n=e[o],i=e[o+1],a=N()(n),s=N()(i);if(n[0]!==i[0]||n[1]!==i[1]){let e=(0,F.Z)(a,s,t);r=[...r,...e.geometry.coordinates]}}return r},Ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?[x()(e),w()(e)]:e.length>t?[x()(e)].concat(z.transformArcsToLine(P()(e,t))):[]},Le=e=>{let{coordinates:t,type:r}=e;switch(r){case"Polygon":return t.map((e=>e.map((e=>e.reverse()))));case"LineString":return t.map((e=>e.reverse()));case"Point":return t.reverse();default:return[]}},Ae=e=>1===e.length?e[0].geometry:{type:"GeometryCollection",geometries:e.map((e=>{let{geometry:t}=e;return t}))},Re=(e,t)=>{if(x()(ee.filter((e=>e===t)))){const{extent:r,isIDL:o}=oe(e,t),n=(o?r:[r]).map((e=>{const t=[e[0],e[1]],r=[e[2],e[3]];return[[t,[t[0],r[1]],r,[r[0],t[1]],t]]}));if(o){let e=r[1][0]+(Math.abs(r[0][0]-r[0][2])+Math.abs(r[1][0]-r[1][2]))/2;return e=e>180?e-360:e,{type:"MultiPolygon",radius:0,projection:t,coordinates:n,extent:r,center:[e,(r[0][1]+r[0][3])/2]}}return{type:"Polygon",radius:0,projection:t,coordinates:n[0],extent:r,center:[(r[0]+r[2])/2,(r[1]+r[3])/2]}}const r=[e.minx,e.miny,e.maxx,e.maxy],o=[r[0],r[1]],n=[r[2],r[3]];return{type:"Polygon",radius:0,projection:t,coordinates:[[o,[o[0],n[1]],n,[n[0],o[1]],o]],extent:r,center:[(r[0]+r[2])/2,(r[1]+r[3])/2]}},Fe=function(){let{bounds:e,crs:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326";if(!e||!t)return null;const{extent:o}=z.getViewportGeometry(e,t);if(4===o.length)return z.reprojectBbox(o,t,r);const[n,i]=o.map((e=>e[2]-e[0]));return n>i?z.reprojectBbox(o[0],t,r):z.reprojectBbox(o[1],t,r)},De=(e,t)=>{const r=2===e.split(":").length?e.split(":")[1]:"3857";return a().get(t||V(r),null,{timeout:2e3})},Ne=e=>{const t=e&&e.properties&&e.properties.name||e&&e.name||e&&e.properties&&e.properties.code||e;let r=t&&w()(t.split(":"));return"WGS 1984"===r||"WGS84"===r?"EPSG:4326":r?"EPSG:"+r:null},ke=e=>{const t=e.split(" "),r=parseFloat(t[0]),o=parseFloat(t[1]);return!isNaN(r)&&!isNaN(o)&&{x:r,y:o}||null},Ge=(e,t)=>{const r=t||"EPSG:3857",o=e&&c()(e)&&x()(e.filter((e=>e&&e.$&&e.$.SRS===r&&e.$.maxx&&e.$.maxy&&e.$.minx&&e.$.miny)).map((e=>e&&e.$&&z.reprojectBbox([parseFloat(e.$.minx),parseFloat(e.$.miny),parseFloat(e.$.maxx),parseFloat(e.$.maxy)],r,"EPSG:4326"))));return c()(o)&&{minx:o[0],miny:o[1],maxx:o[2],maxy:o[3]}||null},je=e=>!!n.default.defs(e),Ze=e=>{let{lng:t=1,lat:r=1}=e;return{lat:r,lng:z.normalizeLng(t)}},Ue=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const n=z.getNormalizedLatLon(e),i=J([n.lng,n.lat],"EPSG:4326",t.projection);if(!t.bbox)return!1;const a=z.reprojectBbox(t.bbox.bounds,t.bbox.crs,t.projection),s={left:0,right:0,top:0,bottom:0,...r},l={minx:a[0]+s.left*o,miny:a[1]+s.bottom*o,maxx:a[2]-s.right*o,maxy:a[3]-s.top*o},p=z.getViewportGeometry(l,t.projection),c=4===p.extent.length?[[...p.extent]]:[...p.extent];return x()(c.map((e=>i.x>=e[0]&&i.y>=e[1]&&i.x<=e[2]&&i.y<=e[3])).filter((e=>e)))||!1},Be=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const n=z.getNormalizedLatLon(e),i=J([n.lng,n.lat],"EPSG:4326",t.projection),a={left:0,right:0,top:0,bottom:0,...r},s=(t.size.width-a.right-a.left)*o,l=(t.size.height-a.top-a.bottom)*o,p={minx:i.x-s/2-a.left*o,miny:i.y-l/2-a.bottom*o,maxx:i.x+s/2+a.right*o,maxy:i.y+l/2+a.top*o},c=z.getViewportGeometry(p,t.projection);if(4===c.extent.length)return{pos:J([c.extent[0]+t.size.width/2*o,c.extent[1]+t.size.height/2*o],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"};if(Math.abs(c.extent[0][2]-c.extent[0][0])>Math.abs(c.extent[1][2]-c.extent[1][0])){const e=J([c.extent[0][2]-t.size.width/2*o,c.extent[0][3]-t.size.height/2*o],t.projection,"EPSG:4326");return{pos:{...e,x:e.x+(n.lng>e.x?360:0)},zoom:t.zoom,crs:"EPSG:4326"}}return{pos:J([c.extent[1][0]+t.size.width/2*o,c.extent[1][1]+t.size.height/2*o],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"}},qe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01;const i=c()(r)?r:[r.x,r.y];if(S()(i[0])&&!isNaN(i[0])&&S()(i[1])&&!isNaN(i[1])&&S()(t.x)&&!isNaN(t.x)&&S()(t.y)&&!isNaN(t.y)){const r=g()(e)?e([t.x,t.y>=o?t.y-o:t.y+o]):null,a=r&&(c()(r)?r:[r.x,r.y]);return c()(a)?Math.sqrt((i[0]-a[0])*(i[0]-a[0])+(i[1]-a[1])*(i[1]-a[1])):n}return n},ze=function(){let{roundingBehaviour:e="round",value:t=0,maximumFractionDigits:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===r&&Math[e]?Math[e](t):t},We=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=c()(e)?{x:e[0],y:e[1]}:e,n=c()(t)?{x:t[0],y:t[1]}:t,i={x:.5*(o.x+n.x),y:.5*(o.y+n.y)};return r?[i.x,i.y]:i},He=e=>d()(e)&&S()(e.x)&&S()(e.y)?[e.x,e.y]:e,Ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:1,lng:1},t=arguments.length>1?arguments[1]:void 0;return(0,j.Z)(re(t),N()([e.lng,e.lat]))},Ke=(e,t)=>(0,G.Z)(e,t)||(0,j.Z)(e,t)||(0,j.Z)(t,e),Ye=e=>{if(e){const t=e.split(":");if("urn"===t[0]&&("ogc"===t[1]||"x-ogc"===t[1])&&"def"===t[2]&&"crs"===t[3]&&(t[4]||t[6])){const e=t[4],r=t[6];return e?`${e}:${r}`:r}}return null},$e=e=>{if(!e||"EPSG:"!==e.slice(0,5))return null;const t=e.slice(5),r=parseInt(t,10);if(r>=1024&&r<=32767)return e;const o=t.replace(" ","").replace(":","").toLowerCase(),n=ne[o];return n>=1024&&n<=32767?`EPSG:${n}`:null},Xe=(e,t)=>{let r=[e[0],e[1]],o=[t[0],t[1]];if(r[1]>o[1]){const e=r;r=o,o=e}if(r[0]>o[0]){const e=r.slice(),t=o.slice();r=[t[0],e[1]],o=[e[0],t[1]]}return[r[0],r[1],o[0],o[1]]},Qe=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"degrees",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return e&&t?(0,M.Z)(e,t,{steps:o,units:r}):null},Je=()=>((0,B.u8)("projectionDefs")||[]).concat([{code:"EPSG:3857",extent:[-20026376.39,-20048966.1,20026376.39,20048966.1]},{code:"EPSG:4326",extent:[-180,-90,180,90]}]),et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EPSG:3857";return Je().find((t=>t.code===e))||{extent:[-20026376.39,-20048966.1,20026376.39,20048966.1]}},tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.bbox?.crs||"EPSG:3857",[r,o,n,i]=et(t).extent,[a,s,l,p]=U()({type:"FeatureCollection",features:e.features||[]});return a>=r&&s>=o&&l<=n&&p<=i},rt=e=>{const t=e&&e.latlng||null;let r=null;return t&&(r=t&&Math.round(1e17*t.lng)/1e17,r-=360*Math.floor(r/360+.5)),[r,t&&t.lat]},ot=e=>{const t=parseFloat(e);return S()(t)&&180*t/Math.PI},nt=e=>{const t=parseFloat(e);return S()(t)&&t*Math.PI/180},it=(e,t,r)=>isNaN(e)&&e.length<1?0:e<t?t:e>r?r:parseFloat(e);z={setCrsLabels:ie,getUnits:ae,reproject:J,getProjectedBBox:se,createBBox:le,reprojectGeoJson:pe,lineIntersectPolygon:ce,normalizePoint:X,normalizeLng:ue,reprojectBbox:de,getCompatibleSRS:ge,getEquivalentSRS:he,getEPSGCode:fe,normalizeSRS:Ee,isAllowedSRS:ve,getAvailableCRS:_e,filterCRSList:Se,calculateAzimuth:Te,calculateDistance:Pe,FORMULAS:W,extendExtent:Oe,getGeoJSONExtent:xe,isValidExtent:Ce,calculateCircleCoordinates:we,transformLineToArcs:Me,transformArcsToLine:Ie,coordsOLtoLeaflet:Le,mergeToPolyGeom:Ae,getViewportGeometry:Re,getProjUrl:V,getExtentFromViewport:Fe,fetchProjRemotely:De,parseURN:Ne,determineCrs:Y,parseString:ke,getWMSBoundingBox:Ge,isSRSAllowed:je,getNormalizedLatLon:Ze,isInsideVisibleArea:Ue,centerToVisibleArea:Be,calculateCircleRadiusFromPixel:qe,roundCoord:ze,midpoint:We,pointObjectToArray:He,getExtentFromNormalized:oe,getPolygonFromExtent:re,isPointInsideExtent:Ve,isBboxCompatible:Ke,extractCrsFromURN:Ye,crsCodeTable:ne,makeNumericEPSG:$e,makeBboxFromOWS:Xe,getPolygonFromCircle:Qe,checkIfLayerFitsExtentForProjection:tt,getLonLatFromPoint:rt,getExtentForProjection:et,convertRadianToDegrees:ot,convertDegreesToRadian:nt,setValueBoundaries:it};const at=z},47805:(e,t,r)=>{"use strict";r.d(t,{toCQLFilter:()=>B,isFilterValid:()=>q,createFeatureFilter:()=>z});var o=r(65692),n=r(78889),i=r(99321),a=r(89291),s=r(89737),l=r(2245),p=r.n(l),c=r(90183),u=r(27361),d=r.n(u),m=r(14293),g=r.n(m),h=r(52353),f=r.n(h),y=r(1469),b=r.n(y),E=r(13311),v=r.n(E),_=r(30998),S=r.n(_),T=r(47037),P=r.n(T),O=r(85564),x=r.n(O);let C;const w=e=>{const t=e.match(/(?<!!)[*.]/);return!t?.length},M=e=>e&&e.replace?e.replace(/\'/g,"''"):e,I=(e,t)=>!g()(e)&&"isNull"!==t||!f()(e)&&"isNull"===t,L=e=>'"'+e+'"',A=e=>e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0",R={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},F=(e,t,r,o)=>{let n;if("><"===t){if(r.startDate&&r.endDate){const a=r.startDate.toISOString?r.startDate.toISOString():r.startDate,s=r.endDate.toISOString?r.endDate.toISOString():r.endDate;n=i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":LowerBoundary><"+o+":Literal>"+a+"</"+o+":Literal></"+o+":LowerBoundary><"+o+":UpperBoundary><"+o+":Literal>"+s+"</"+o+":Literal></"+o+":UpperBoundary>")}}else if(r.startDate){const a=r.startDate.toISOString?r.startDate.toISOString():r.startDate;n=i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+a+"</"+o+":Literal>")}return n},D=(e,t,r,o)=>{let n;return I(r,t)&&(n="isNull"===t?i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag):"="===t?i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+r+"</"+o+":Literal>"):i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+((e,t)=>t(e)?"*"+e+"*":e)(r,w)+"</"+o+":Literal>")),n},N=(e,t,r,o)=>{let n="";return I(r,t)&&"="===t&&""!==r&&(n=i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+r+"</"+o+":Literal>")),n},k=(e,t,r,o)=>{let n="";return I(r,t)&&"contains"===t&&""!==r&&(n=`<${o}:PropertyIsEqualTo>\n                <${o}:Function name="InArray">\n                    <${o}:Literal>${r}</${o}:Literal>\n                    <${o}:PropertyName>${e}</${o}:PropertyName>\n                </${o}:Function>\n                <${o}:Literal>true</${o}:Literal>\n            </${o}:PropertyIsEqualTo>`),n},G=(e,t,r,o)=>{let n;if("><"===t)g()(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?g()(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?g()(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(n=i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":LowerBoundary><"+o+":Literal>"+r.lowBound+"</"+o+":Literal></"+o+":LowerBoundary><"+o+":UpperBoundary><"+o+":Literal>"+r.upBound+"</"+o+":Literal></"+o+":UpperBoundary>")):n=i.ogcComparisonOperators["<="](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+r.upBound+"</"+o+":Literal>"):n=i.ogcComparisonOperators[">="](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+r.lowBound+"</"+o+":Literal>");else{let a=g()(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;g()(a)||(n=i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+a+"</"+o+":Literal>"))}return n},j=function(){let{typeName:e,geometryName:t,cqlFilter:r="INCLUDE"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return`queryCollection('${e}', '${t}','${M(r)}')`},Z=e=>`collectGeometries(${e})`,U=function(e,t,r){let o,l,c,u,d=[];if(e.filterFields&&e.filterFields.length>0)o=e.groupFields&&e.groupFields.length>0?C.processOGCFilterGroup(e.groupFields[0],e,r):C.processOGCFilterFields(null,e,r),""!==o&&d.push(o);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){const t="AND",o=i.ogcLogicalOperators[t](r,e.simpleFilterFields.map((e=>((e,t)=>{let r="";switch(e.type){case"date":r=F(e.attribute,e.operator,e.values,t);break;case"array":r=k(e.attribute,e.operator,e.values,t);break;case"number":r=G(e.attribute,e.operator,e.values,t);break;case"string":r=D(e.attribute,e.operator,e.values,t);break;case"boolean":r=N(e.attribute,e.operator,e.values,t);break;case"list":if(e.values&&e.values.length>0){const o="OR";r=e.values.reduce(((r,o)=>{let n=null===o||"null"===o?"isNull":"=";return r+D(e.attribute,n,o,t)}),""),r=i.ogcLogicalOperators[o](t,r)}}return r})(e,r))).join(""));d.push(o)}if(b()(e.spatialField)?(u=v()(e.spatialField,(e=>"BBOX"===e.operation)),u||(c=e.spatialField)):e.spatialField&&("BBOX"===e.spatialField.operation?u=e.spatialField:c=[e.spatialField]),u){if(b()(u.geometry&&u.geometry.extent[0])){const e="OR",o=u.geometry.extent.reduce(((e,o)=>{let n=Object.assign({},u);return u.geometry.extent=o,e+C.processOGCSpatialFilter(t,n,r)}),"");l=i.ogcLogicalOperators[e](r,o)}d.push(l)}else if(c&&(c=c.filter((e=>e&&e.geometry&&e.operation)),c.length>0)){const o=c.map((e=>C.processOGCSpatialFilter(t,e,r))).join("");l=c.length>1?i.ogcLogicalOperators[e.spatialFieldOperator||"AND"](r,o):o,d.push(l)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){let t={...e.crossLayerFilter,attribute:e.crossLayerFilter.attribute};Array.isArray()?t.forEach((e=>d.push(C.processOGCCrossLayerFilter(e,r)))):d.push(C.processOGCCrossLayerFilter(t,r))}return e.options&&e.options.cqlFilter&&d.push(((e,t)=>{const r=p()(t);return(0,s.Z)(r)((0,a.read)(e))})(e.options.cqlFilter,{filterNS:r,wfsVersion:t,gmlVersion:(0,n.wfsToGmlVersion)(t)})),d},B=function(e){let t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}let r,o,n=[];if(t.filterFields&&t.filterFields.length>0)r=C.processCQLFilterGroup(t.groupFields[0],t),r&&n.push(r);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){let e=t.simpleFilterFields.reduce(((e,t)=>{let r=e,o=C.processCQLSimpleFilterField(t);return!1!==o&&(r=e.length>0?e+" AND ("+o+")":"("+o+")"),r}),"");e=e.length>0?e:"INCLUDE",n.push(e)}if(t.spatialField&&(o=C.processCQLSpatialFilter(t),o&&n.push(o)),t.crossLayerFilter){const{crossLayerFilter:e}=t,{operation:r}=e,o=e.attribute,i=e.collectGeometries&&e.collectGeometries.queryCollection;if(r&&o&&i){const{typeName:t,geometryName:a}=i,s=C.getCrossLayerCqlFilter(e),l=Z(j({typeName:t,geometryName:a,cqlFilter:s}));n.push(`${r}(${o},${l})`)}}return n.length?"("+(n.length>1?n.join(") AND ("):n[0])+")":null},q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||b()(e.spatialField)&&S()(e.spatialField,(e=>e.operation&&e.geometry))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName},z=e=>t=>{if(!e)return!0;const{filterFields:r=[]}=e;for(let e=0;e<r.length;e++){if(void 0===t.properties[r[e].attribute])return!1;if("string"===r[e].type&&!t.properties[r[e].attribute].toLowerCase().includes(r[e].value.toLowerCase()))return!1;if("boolean"===r[e].type&&!t.properties[r[e].attribute].toLowerCase().includes(r[e].value.toLowerCase()))return!1;if("number"===r[e].type&&parseFloat(r[e].attribute)!==parseFloat(t.properties[r[e].attribute]))return!1;if("date"===r[e].type){let o=new Date(t.properties[r[e].attribute]),n=new Date(r[e].value.startDate);if(o.getFullYear()!==n.getFullYear()||o.getMonth()!==n.getMonth()||o.getDay()!==n.getDay())return!1}}return!0};C={processOGCFilterGroup:function(e,t,r){let o=C.processOGCFilterFields(e,t,r),n=C.findSubGroups(e,t.groupFields);return n.length>0&&n.forEach((e=>{o+=C.processOGCFilterGroup(e,t,r)})),""!==o?i.ogcLogicalOperators[e.logic](r,o):""},processOGCFilterFields:function(e,t,r){let o=e?t.filterFields.filter((t=>t.groupId===e.id&&I(t.value,t.operator))):t.filterFields.filter((e=>I(e.value,e.operator))),n=[];return o.length?(n=o.reduce(((e,t)=>{let o;switch(t.type){case"date":case"date-time":case"time":o=F(t.attribute,t.operator,t.value,r);break;case"number":o=G(t.attribute,t.operator,t.value,r);break;case"string":o=D(t.attribute,t.operator,t.value,r);break;case"boolean":o=N(t.attribute,t.operator,t.value,r);break;case"list":o=((e,t,r,o)=>{let n;return g()(r)||(n=i.ogcComparisonOperators[t](o,R[o].startTag+e+R[o].endTag+"<"+o+":Literal>"+r+"</"+o+":Literal>")),n})(t.attribute,t.operator,t.value,r);break;case"array":o=k(t.attribute,t.operator,t.value,r)}return"isNull"===t.operator&&(o=D(t.attribute,t.operator,t.operator,r)),o&&e.push(o),e}),[]),n.join("")):""},processOGCCrossLayerFilter:function(e,t){let r=t||"ogc",o=R[r].startTag+e.attribute+R[r].endTag;if(e.collectGeometries){const t=C.getCrossLayerCqlFilter(e);o+=`<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection"><ogc:Literal>${e.collectGeometries.queryCollection.typeName}</ogc:Literal><ogc:Literal>${e.collectGeometries.queryCollection.geometryName}</ogc:Literal><ogc:Literal><![CDATA[${t}]]></ogc:Literal></ogc:Function></ogc:Function>`}return"DWITHIN"===e.operation&&(o+="<"+r+':Distance units="m">'+(e.distance||0)+"</"+r+":Distance>"),i.ogcSpatialOperators[e.operation](r,o)},getGetFeatureBase:function(e,t,r,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=A(e),a="<wfs:GetFeature ";switch(a+=o?'outputFormat="'+o+'" ':"",a+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",a+=n.viewParams?` viewParams="${n.viewParams}" `:"",i){case"1.0.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=r?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(n.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=r?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(n.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:a+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",a=r&&!t?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(n.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return a},toOGCFilterParts:U,findSubGroups:function(e,t){return t.filter((t=>t.groupId===e.id))},toCQLFilter:B,getCrossLayerCqlFilter:e=>d()(e,"collectGeometries.queryCollection.cqlFilter")||(d()(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&(d()(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&C.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE",processCQLFilterGroup:function(e,t){const r="NOR"===e.logic?{...e,logic:"AND",negateAll:!0}:e;let o=C.processCQLFilterFields(r,t),n=C.findSubGroups(r,t.groupFields);if(n.length>0){const e=n.map((e=>(r.negateAll?"NOT (":"(")+C.processCQLFilterGroup(e,t)+")")).join(" "+r.logic+" ");return o?[o,e].join(" "+r.logic+" "):e}return o},processCQLSimpleFilterField:function(e){let t=!1;switch(e.type){case"date":t=C.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=C.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=C.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=C.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){let r=!1,o=e.values.reduce(((e,t)=>(null===t||"null"===t?r=!0:e.push("'"+t+"'"),e)),[]);t=o.length>0?e.attribute+" IN("+o.join(",")+")":t,r&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},processCQLSpatialFilter:function(e){let t=(b()(e.spatialField)?e.spatialField:[e.spatialField]).filter((e=>e&&e.geometry&&e.operation)),r="";return t.forEach(((o,n)=>{if(r+=o.operation+'("'+o.attribute+'",',o.collectGeometries&&o.collectGeometries.queryCollection)r+=Z(j(o.collectGeometries.queryCollection));else{let e=o.geometry.projection||"";e=2===e.split(":").length?"SRID="+e.split(":")[1]+";":"",r+=e+C.getCQLGeometryElement(o.geometry.coordinates,o.geometry.type)}r+=")",n<t.length-1&&(r+=` ${e.spatialFieldOperator||"AND"} `)})),r},processCQLFilterFields:function(e,t){let r=t.filterFields.filter((t=>t.groupId===e.id)),o=[];return r&&(r.forEach((t=>{let r;switch(t.type){case"date":case"time":case"date-time":r=C.cqlDateField(t.attribute,t.operator,t.value);break;case"number":r=C.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":r=C.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":r=C.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":r=C.cqlListField(t.attribute,t.operator,t.value);break;case"array":r=C.cqlArrayField(t.attribute,t.operator,t.value)}r&&o.push(e.negateAll?"NOT ("+r+")":r)})),o=o.join(" "+e.logic+" ")),o},getCQLGeometryElement:function(e,t){let r=t+"(";switch(t){case"Point":r+=e.join(" ");break;case"MultiPoint":e.forEach(((t,o)=>{r+=t.join(" "),r+=o<e.length-1?", ":""}));break;case"Polygon":e.forEach(((t,n)=>{r+="(";let i=(0,o.closePolygon)(t).map((e=>e[0]+" "+e[1]));r+=i.join(", "),r+=")",r+=n<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach(((t,n)=>{r+="(",t.forEach(((e,n)=>{r+="(";let i=(0,o.closePolygon)(e).map((e=>e[0]+" "+e[1]));r+=i.join(", "),r+=")",r+=n<t.length-1?", ":""})),r+=")",r+=n<e.length-1?", ":""}))}return r+=")",r},cqlStringField:function(e,t,r){let o;const n=L(e);if(!g()(r)){const e=function(e,t){let r=!1;const o=M(e),n=o.replaceAll(/[%_*.!]/g,((e,t,o)=>{if(["%","_"].includes(e))return"%"===e?"\\%":"\\_";const n=t>0?o.charAt(t-1):"",i=t<o.length-1?o.charAt(t+1):"";return["*","."].includes(e)&&"!"!==n?(r=!0,"*"===e?"%":"_"):"!"===e&&["*","."].includes(i)?"":e}));switch(t){case"ilike":case"like":const e="ilike"===t?n.toLowerCase():n;return r?"'"+e+"'":"'%"+e+"%'";default:return"'"+o+"'"}}(r,t);o="isNull"===t?"isNull("+n+")=true":["<>","="].includes(t)?n+t+e:"ilike"===t?"strToLowerCase("+n+") LIKE "+e:n+" LIKE "+e}return o},cqlDateField:function(e,t,r){let o;return"><"===t?r.startDate&&r.endDate&&(o="("+e+">='"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"' AND "+e+"<='"+(r.endDate.toISOString?r.endDate.toISOString():r.endDate)+"')"):r.startDate&&(o=e+t+"'"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"'"),o},cqlNumberField:function(e,t,r){let o;const n=L(e);if("><"===t)g()(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?g()(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?g()(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(o="("+n+">='"+r.lowBound+"' AND "+n+"<='"+r.upBound+"')"):o="("+n+"<='"+r.upBound+"')":o="("+n+">='"+r.lowBound+"')";else{let e=g()(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;g()(e)||(o=n+" "+t+" '"+e+"'")}return o},cqlArrayField:function(e,t,r){return"contains"===t?`InArray(${r},${e})=true`:""},cqlBooleanField:function(e,t,r){let o="";return g()(r)||""===r||"="!==t||(o='"'+e+'"'+t+"'"+r+"'"),o},cqlListField:function(e,t,r){return C.cqlStringField(e,t,r)},toOGCFilter:function(e,t,r){let o,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{o=t instanceof Object?t:JSON.parse(t)}catch(e){return e}const p=A(r||"2.0"),c="2.0"===p?"fes":"ogc";let u=C.getGetFeatureBase(p,o.pagination,i,a,t&&t.options),d=C.toOGCFilterParts(o,p,c),m="";return d.length>0&&(m="<"+c+":Filter>",1===d.length?m+=d[0]:(m+="<"+c+":And>",d.forEach((e=>{m+=e})),m+="</"+c+":And>"),m+="</"+c+":Filter>"),u+=`<wfs:Query ${"2.0"===p?"typeNames":"typeName"}="${e}" ${"native"!==l&&`srsName="${l}"`||""}>`,u+=m,s&&(u+=s.map((e=>R[c].startTag+e+R[c].endTag)).join("")),n&&n.sortBy&&n.sortOrder&&(u+="<"+c+":SortBy><"+c+":SortProperty>"+R[c].startTag+n.sortBy+R[c].endTag+"<"+c+":SortOrder>"+n.sortOrder+"</"+c+":SortOrder></"+c+":SortProperty></"+c+":SortBy>"),u+="</wfs:Query></wfs:GetFeature>",u},reprojectFilterInNativeCrs:(e,t)=>{const r=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,n=e.spatialField.geometry.radius,i=(0,c.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,a=o&&(e=>{let{x:t,y:r}=e;return[t,r]})((0,c.reproject)(o,r,t)),s=n&&(0,c.reproject)([n,0],r,t).x;return{...e,spatialField:{...e.spatialField,geometry:{...e.spatialField.geometry,center:a,radius:s,coordinates:i,projection:t}}}},processOGCSpatialFilter:function(e,t,r){if(t.collectGeometries)return C.processOGCCrossLayerFilter(t);let a=R[r].startTag+t.attribute+R[r].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":a+=(0,o.processOGCGeometry)((0,n.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(a+="<"+r+':Distance units="m">'+(t.geometry.distance||0)+"</"+r+":Distance>");break;case"BBOX":{let e=t.geometry.extent[0]+" "+t.geometry.extent[1],r=t.geometry.extent[2]+" "+t.geometry.extent[3];a+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+e+"</gml:lowerCorner><gml:upperCorner>"+r+"</gml:upperCorner></gml:Envelope>";break}}return i.ogcSpatialOperators[t.operation](r,a)},createFeatureFilter:z,mergeFiltersToOGC:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nsPlaceholder:t="ogc",ogcVersion:r="2.0",addXmlnsToRoot:o=!1,xmlnsToAdd:i=[]}=e,l=p()({filterNS:t,wfsVersion:r,gmlVersion:(0,n.wfsToGmlVersion)(r)}),c=(0,s.Z)(l);for(var u=arguments.length,d=new Array(u>1?u-1:0),m=1;m<u;m++)d[m-1]=arguments[m];const g=l.filter(l.and(...x()(d.filter((e=>!!e&&(P()(e)||q(e)&&!e.disabled))).map((e=>P()(e)?[c((0,a.read)(e))]:U(e,r,t))))));if(o){const e=g.indexOf(">");return`${g.slice(0,e)}${i.length>0?` ${i.join(" ")}`:""}${g.slice(e)}`}return g}}},2870:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a,j:()=>s});var o=r(27361),n=r.n(o),i=r(53005);const a=(e,t)=>{const{format:r,queryParams:o={}}=e;return o.info_format||o.outputFormat||r&&i.O7[r]||t.format},s=e=>!!n()(e,"layer.search.url")},61868:(e,t,r)=>{"use strict";r.d(t,{t8:()=>u,zN:()=>d,vy:()=>m,z6:()=>g});var o=r(27361),n=r.n(o),i=r(30998),a=r.n(i),s=r(28252),l=r.n(s),p=r(17664),c=r.n(p);r(36102);const u=l(),d=c(),m=(e,t,r,o)=>{const i=e?n()(o,e)||[]:o,s=a()(i,r);if(s>=0){let r=i.slice();return r.splice(s,1,t),e?u(e,r,o):r}return e?u(e,i.concat(t),o):i.concat(t)},g=(e,t,r)=>{const o=e?n()(r,e)||[]:r,i=a()(o,t);if(i>=0){const t=o.slice();return t.splice(i,1),e?u(e,t,r):t()}return r}},24262:(e,t,r)=>{"use strict";r.d(t,{Mk:()=>P,ar:()=>O,oH:()=>C,V5:()=>M,D$:()=>I,Hi:()=>A,R8:()=>R,IS:()=>F,AZ:()=>D,C1:()=>N,lD:()=>k,$0:()=>G,DN:()=>j,z8:()=>Z,Fh:()=>U,kf:()=>B,yJ:()=>q,EM:()=>z,QW:()=>W,go:()=>H,IA:()=>V,T4:()=>K});var o=r(27418),n=r.n(o),i=(r(94707),r(23570),r(47037)),a=r.n(i),s=r(13218),l=r.n(s),p=r(1469),c=r.n(p),u=r(91175),d=r.n(u),m=r(84596),g=r.n(m),h=r(41609),f=r.n(h),y=(r(30998),r(78718),r(14293),r(33044));let b,E=/\/[\w- ]*geoserver[\w- ]*\//;const v=(e,t)=>t.filter((t=>(t.group||"Default")===e)).map((e=>e.id)).reverse(),_=(e,t)=>e.slice(0).reverse().reduce(((e,r)=>e.concat(r.nodes.slice(0).reverse().reduce(((e,r)=>l()(r)?e.concat(_([r],t)):e.concat(((e,t)=>d()(t.filter((t=>t.id===e))))(r,t))),[]))),[]),S=(e,t)=>_(e,t),T=(e,t)=>{const o=r(86570)("./"+t+"/Layers"),n=o.default||o;return"mapquest"===e.type||"bing"===e.type?n.isSupported(e.type)&&e.apiKey&&"__API_KEY_MAPQUEST__"!==e.apiKey&&!e.invalid:"empty"===e.type||n.isSupported(e.type)&&!e.invalid},P=(e,t)=>e&&c()(e)?e.reduce(((e,r)=>e||(!r||r.name!==t&&r.id!==t&&r!==t?r&&r.nodes&&r.nodes.length>0?P(r.nodes,t):e:r)),null):null,O=e=>e&&e.nodes?e.nodes.reduce(((e,t)=>{let r=[].concat(e);return t.nodes&&(r=e.concat(O(t))),a()(t)?[...r,t]:[...r,t.id]}),[]):[],x=e=>{let t=[];return e&&g()(e).forEach((r=>{t.push(r),r.nodes&&Array.isArray(e)&&Array.isArray(r.nodes)&&(t=t.concat(x(r.nodes)))})),t},C=(e,t,r,o)=>e&&c()(e)&&e.length>0?e.map((e=>{if(l()(e)){if(e.id===t)return{...e,...l()(r)?r:{[r]:o}};if(e.nodes)return{...e,nodes:C(e.nodes,t,r,o)}}return e})):[],w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.capabilitiesURL||d()(g()(e.url))},M=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&Object.keys(e).reduce(((r,o)=>{const i=e[o].reduce(((e,t)=>n()(e,{[t.id||t.name]:{srs:[...Object.keys(t.matrixIds)],matrixIds:n()({},t.matrixIds)}})),{}),a=e[o].reduce(((e,t)=>{const r=t.tileMatrixSet.reduce(((e,t)=>n()({},e,{[t["ows:Identifier"]]:n()({},t)})),{}),o=Object.keys(r).reduce(((e,t)=>{const o=Object.keys(i).filter((e=>d()(i[e].srs.filter((e=>e===t))))).map((e=>i[e].matrixIds[t])),a=o[0]&&r[t].TileMatrix.map(((e,t)=>o[0][t]&&o[0][t].ranges?n()({},e,{ranges:o[0][t].ranges}):n()({},e)));return d()(o)?n()({},e,{[t]:n()({},r[t],{TileMatrix:a})}):n()({},e)}),{});return n()({},e,o)}),{});return n()({},r,{[o]:n()({},t[o]||{},{tileMatrixSet:n()({},r[o]&&r[o].tileMatrixSet||{},a)})})}),n()({},t))||t}(e.filter((e=>e.tileMatrixSet)).reduce(((e,t)=>{const r=w(t);return e[r]?n()({},e,{[r]:[...e[r],t]}):n()({},e,{[r]:[t]})}),{})),I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((e=>e.split("?")[0]+t))},L={},A=e=>c()(e.url)?e.url[0]:e.url,R=(e,t)=>e&&e.id||e.name+"__"+(t?t.length:Math.random().toString(36).substring(2,15)),F=(e,t)=>{let r=0,o=e.map((e=>n()({},e,{storeIndex:r++})));return o.reduce(((e,t)=>-1===e.indexOf(t.group||"Default")?e.concat([t.group||"Default"]):e),[]).filter((e=>"background"!==e)).reverse().reduce(((e,r)=>{let i=r||"Default";return i.split(".").reduce(((e,r,a,s)=>{const p=i.split(".",a+1).join(".");let c=((e,t)=>d()(t.filter((t=>l()(t)&&t.id===e))))(p,e);const u=a===s.length-1;if(c)u&&(c.nodes=v(p,o).concat(c.nodes).reduce(((e,t)=>(l()(t)?e.push({node:t,order:o.find((e=>e.group===t.id))?.storeIndex}):e.push({node:t,order:o.find((e=>e.id===t))?.storeIndex}),e)),[]).sort(((e,t)=>t.order-e.order)).map((e=>e.node)));else{const i=((e,t)=>{if(t&&Array.isArray(t))for(let r of t)if(r?.id===e)return r.title;return"Default"})(p,x(t));c=((e,t,r,o,i)=>n()({},{id:e,title:t??(r||"").replace(/\${dot}/g,"."),name:r,nodes:i?v(e,o):[],expanded:!0}))(p,i||r,r,o,u),e.push(c)}return c.nodes}),e),e}),[])},D=e=>e.reduce(((e,t)=>e.concat(b.getNotEmptyGroup(t))),[]),N=(e,t)=>{let r=e=>{let t=!0;return e.forEach((e=>{e.visibility||(t=!1)})),t},o=(e,t)=>{const i=e.nodes.map((e=>l()(e)?o(e,t):t.filter((t=>t.id===e))[0]));return n()({},e,{nodes:i,visibility:r(i)})},i=e.map((e=>n()({},e,{expanded:e.expanded||!1})));return{flat:i,groups:t.map((e=>o(e,i)))}},k=(e,t)=>t.filter((e=>"background"===e.group)).concat(S(e,t)),G=(e,t)=>(r,o)=>t(r,e,o),j=e=>{if(e&&c()(e.layers)){let t=b.getLayersByGroup(e.layers,e.groups);c()(e.groups)&&(t=e.groups.reduce(((e,t)=>{let r=e;if(t.title){const e={title:t.title,description:t.description,tooltipOptions:t.tooltipOptions,tooltipPlacement:t.tooltipPlacement};r=b.deepChange(r,t.id,e)}return r=b.deepChange(r,t.id,"expanded",t.expanded),r}),[].concat(t)));let r=(e=>{if(!e||!e.layers||!c()(e.layers))return null;const t=e.mapInitialConfig&&e.mapInitialConfig.sources&&n()({},e.mapInitialConfig.sources)||{};return f()(t)?[...e.layers]:e.layers.map((e=>{const r=((e,t)=>{if(!e||!t)return{};!c()(t.matrixIds)&&l()(t.matrixIds)&&(t.matrixIds=[...Object.keys(t.matrixIds)]);const r=w(t),o=t.matrixIds&&t.matrixIds.reduce(((t,o)=>{const i=e[r]&&e[r].tileMatrixSet&&e[r].tileMatrixSet[o]&&e[r].tileMatrixSet[o].TileMatrix.map((e=>({identifier:e["ows:Identifier"],ranges:e.ranges})))||[];return 0===i.length?n()({},t):n()({},t,{[o]:[...i]})}),{})||null,i=t.tileMatrixSet&&t.matrixIds.map((t=>e[r].tileMatrixSet[t])).filter((e=>e))||null;return i&&o&&{tileMatrixSet:i,matrixIds:o}||{}})(t,e);return n()({},e,r)}))})(e);return n()({},e,{layers:{flat:b.reorder(t,r),groups:t}})}return e},Z=e=>n()({id:e.id,features:e.features,format:e.format,thumbURL:e.thumbURL&&"blob"===e.thumbURL.split(":")[0]?void 0:e.thumbURL,group:e.group,search:e.search,source:e.source,name:e.name,opacity:e.opacity,provider:e.provider,description:e.description,styles:e.styles,style:e.style,styleName:e.styleName,layerFilter:e.layerFilter,title:e.title,transparent:e.transparent,tiled:e.tiled,type:e.type,url:e.url,bbox:e.bbox,visibility:e.visibility,singleTile:e.singleTile||!1,allowedSRS:e.allowedSRS,matrixIds:e.matrixIds,tileMatrixSet:e.tileMatrixSet,requestEncoding:e.requestEncoding,dimensions:e.dimensions||[],maxZoom:e.maxZoom,maxNativeZoom:e.maxNativeZoom,maxResolution:e.maxResolution,minResolution:e.minResolution,disableResolutionLimits:e.disableResolutionLimits,hideLoading:e.hideLoading||!1,handleClickOnLayer:e.handleClickOnLayer||!1,queryable:e.queryable,featureInfo:e.featureInfo,catalogURL:e.catalogURL,capabilitiesURL:e.capabilitiesURL,useForElevation:e.useForElevation||!1,hidden:e.hidden||!1,origin:e.origin,thematic:e.thematic,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,legendOptions:e.legendOptions,tileSize:e.tileSize,version:e.version},e.params?{params:e.params}:{},e.credits?{credits:e.credits}:{},e.extendedParams?{extendedParams:e.extendedParams}:{},e.localizedLayerStyles?{localizedLayerStyles:e.localizedLayerStyles}:{}),U=e=>{const t=b.findGeoServerName({url:e.url});let r=A(e);if(t){let o=r.split(t);if(2===o.length){let n=e.name.split(":");2===n.length&&(r=o[0]+t+n[0]+"/"+n[1]+"/"+o[1])}}return((e,t)=>{const r=Object.keys(t).map((e=>e+"="+encodeURIComponent(t[e]))).join("&");return-1===e.indexOf("?")?e+"?"+r:e+"&"+r})(r,{...e.baseParams,...e.params})},B=(e,t)=>T(e,t)?(e=>e&&e.invalid?n()({},e,{invalid:!1}):e)(e):n()({},e,{invalid:!0}),q=(e,t)=>!!T(e,t),z=e=>L.getLayerTitleTranslations?L.getLayerTitleTranslations(e):e.Title,W=e=>{const t=I(c()(e.url)?e.url:[e.url]);let r={};return t.forEach((t=>{(0,y.addAuthenticationParameter)(t,r,e.securityToken)})),r},H=e=>{let{imageUrl:t,link:r,title:o}=e;const n=t?`<img src="${t}" ${o?`title="${o}"`:""}>`:o;return r&&n?`<a href="${r}" target="_blank">${n}</a>`:n},V=function(e){return l()(e)?{capabilities:e,capabilitiesLoading:null,description:e._abstract,boundingBox:e.latLonBoundingBox,availableStyles:e.style&&(Array.isArray(e.style)?e.style:[e.style])}:{}},K=(e,t)=>{if(e.disableResolutionLimits)return!0;const r=e.minResolution||-1/0,o=e.maxResolution||1/0;return void 0===t||t<o&&t>=r};b={getGroupByName:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d()(t.filter((t=>t.name===e)))||t.reduce(((t,r)=>t||!!r.nodes&&b.getGroupByName(e,r.nodes)),void 0)},getLayerId:R,normalizeLayer:e=>e.id?e:{...e,id:b.getLayerId(e)},getNotEmptyGroup:e=>{const t=e.nodes.reduce(((e,t)=>t.nodes?e.concat(b.getNotEmptyGroup(t)):e.concat(t)),[]);return t.length>0?n()({},e,{nodes:t}):[]},getLayersByGroup:F,deepChange:C,reorder:(e,t)=>t.filter((e=>"background"===e.group)).concat(S(e,t)),getRegGeoserverRule:()=>E,findGeoServerName:e=>{let{url:t,regexRule:r}=e;const o=r||b.getRegGeoserverRule(),n=c()(t)?t[0]:t;return o.test(n)&&n.match(o)[0]||null},isInsideResolutionsLimits:K,visibleTimelineLayers:(e,t)=>e.filter((e=>{let r=t?.find((t=>t.id===e.id));return r?.visibility?e:null}))}},86638:(e,t,r)=>{"use strict";r.d(t,{Pp:()=>l,fE:()=>p,Xu:()=>c,S$:()=>u,mo:()=>d});const o=r(72500),{addLocaleData:n}=(r(13218),r(68195));n([...r(6467),...r(78398),...r(54206),...r(51738),...r(32820),...r(95383),...r(13655),...r(32181),...r(68333),...r(22669),...r(44636),...r(44683),...r(72198),...r(82147)]);let i,a={it:{code:"it-IT",description:"Italiano"},en:{code:"en-US",description:"English"},fr:{code:"fr-FR",description:"Français"},de:{code:"de-DE",description:"Deutsch"},es:{code:"es-ES",description:"Español"},zh:{code:"zh-ZH",description:"中文"},nl:{code:"nl-NL",description:"Nederlands"},hr:{code:"hr-HR",description:"Hrvatski"},pt:{code:"pt-PT",description:"Português"},vi:{code:"vi-VN",description:"tiếng Việt"},fi:{code:"fi-FI",description:"Suomi"},sv:{code:"sv-SE",description:"Svenska"},sk:{code:"sk-SK",description:"Slovak"}},s={};const l=e=>{Promise.all([r.e(2456),r.e(9030),r.e(1058)]).then((t=>{r.g.Intl=r(58267),r(88750),r(95330),r(63474),r(53178),r(73836),r(13447),r(98320),r(72652),r(88792),r(18453),r(76925),r(53046),r(24968),e&&e()}).bind(null,r)).catch(r.oe)},p=function(e){a=e},c=function(){return i.getLocale(o.parse(window.location.href,!0).query)},u=function(e,t){var r=e;return t.split(".").forEach((e=>{r=r?r[e]:null})),r||t},d=(e,t)=>{s[e]=t};i={getLocale:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(a)[0],r=a.en?{key:"en",locale:a.en}:{key:t,locale:a[t]};let o=a[i.normalizeLocaleCode(e.locale||(navigator?navigator.language||navigator.browserLanguage:r.key))];return o?o.code:r.locale.code},normalizeLocaleCode:function(e){var t;if(null==e)t=void 0;else{let r=/^[a-z]+/i.exec(e);t=r&&r.length>0?r[0].toLowerCase():void 0}return t}}},7412:(e,t,r)=>{"use strict";r.d(t,{Sp:()=>E,eq:()=>v,wR:()=>_,mx:()=>S,su:()=>T,Fm:()=>P,pf:()=>O,Te:()=>x,Qm:()=>C,y_:()=>w,gA:()=>I,K7:()=>L,ZX:()=>R});var o=r(53005),n=r(60130),i=r.n(n),a=r(30998),s=r.n(a),l=r(3918),p=r.n(l),c=r(68843),u=r(39980),d=r(529),m=r(6402),g=r(80009),h=r(35433),f=r(50948),y=r.n(f);let b;const E="NODATA",v=()=>Object.keys(o.O7).filter((e=>-1!==b.AVAILABLE_FORMAT.indexOf(e))).reduce(((e,t)=>(e[t]=o.O7[t],e)),{}),_=()=>o.O7[b.AVAILABLE_FORMAT[0]],S=(e,t)=>e.featureInfo&&e.featureInfo.format&&o.O7[e.featureInfo.format]||t.format||b.getDefaultInfoFormatValue(),T=(e,t,r,o,n)=>({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:r||"marker",label:n,features:b.clickedPointToGeoJson(t),...o}),P=(e,t)=>{if(b.services[e.type]){let r=b.getDefaultInfoFormatValueFromLayer(e,t),o=b.getLayerFeatureInfoViewer(e);const n=b.getLayerFeatureInfo(e);return b.services[e.type].buildRequest(e,t,r,o,n)}return{}},O=(e,t,r)=>b.services[e.type]&&b.services[e.type].getIdentifyFlow?b.services[e.type].getIdentifyFlow(e,t,r):null,x=e=>{const t={getValidResponses:e=>e,getNoValidResponses:()=>[]};return{getValidResponses:r=>r.reduce(((r,n)=>{if(n){let i;n.queryParams&&n.queryParams.hasOwnProperty("info_format")&&(i=n.queryParams.info_format),n.queryParams&&n.queryParams.hasOwnProperty("outputFormat")&&(i=n.queryParams.outputFormat);const a=(o.cX[n.format||o.so[i]||o.so[e]]||t).getValidResponses([n]);return[...r,...a]}return[...r]}),[]),getNoValidResponses:r=>r.reduce(((r,n)=>{if(n){let i;n.queryParams&&n.queryParams.hasOwnProperty("info_format")&&(i=n.queryParams.info_format),n.queryParams&&n.queryParams.hasOwnProperty("outputFormat")&&(i=n.queryParams.outputFormat);const a=(o.cX[n.format||o.so[i]||o.so[e]]||t).getNoValidResponses([n]);return[...r,...a]}return[...r]}),[])}},C=()=>({[o.O7.PROPERTIES]:c.Z,[o.O7.JSON]:c.Z,[o.O7.HTML]:u.Z,[o.O7.TEXT]:d.Z}),w=e=>e.visibility&&b.services[e.type]&&(void 0===e.queryable||e.queryable)&&"background"!==e.group&&"HIDDEN"!==e?.featureInfo?.format,M={wfs:m.Z,wms:g.Z,wmts:h.Z,vector:y()},I=e=>b.VIEWERS[e]?b.VIEWERS[e]:null,L=(e,t,r)=>{let o=t||[],n=r||[];return Object.keys(e).reduce(((t,r)=>{if("params"!==r&&-1!==o.indexOf(r))t[r]=e[r];else if("params"===r&&n.length>0){let o=e[r];Object.keys(o).forEach((e=>{-1===s()(n,(t=>t===e))&&(t[e]=o[e])}),{})}return t}),{})};let A={};const R=e=>A[e];b={AVAILABLE_FORMAT:["TEXT","PROPERTIES","HTML","TEMPLATE"],getAvailableInfoFormatLabels:()=>Object.keys(b.getAvailableInfoFormat()),getAvailableInfoFormat:v,getDefaultInfoFormatValue:_,clickedPointToGeoJson:e=>{if(!e)return[];if("Feature"===e.type){let t=[i()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[...e.features||[],{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:p(),iconAnchor:[12,41],iconSize:[25,41]}]}]},services:M,getDefaultInfoFormatValueFromLayer:S,getLayerFeatureInfoViewer:e=>e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{},getLayerFeatureInfo:e=>e&&e.featureInfo&&{...e.featureInfo}||{},VIEWERS:{},registerRowViewer:(e,t)=>{A[e]=t},getRowViewer:R}},52259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_SCREEN_DPI:()=>W,METERS_PER_UNIT:()=>H,GOOGLE_MERCATOR:()=>V,EXTENT_TO_ZOOM_HOOK:()=>K,ZOOM_TO_EXTENT_HOOK:()=>Y,RESOLUTIONS_HOOK:()=>$,RESOLUTION_HOOK:()=>X,COMPUTE_BBOX_HOOK:()=>Q,GET_PIXEL_FROM_COORDINATES_HOOK:()=>J,GET_COORDINATES_FROM_PIXEL_HOOK:()=>ee,registerHook:()=>re,getHook:()=>oe,executeHook:()=>ne,clearHooks:()=>ie,dpi2dpm:()=>ae,dpi2dpu:()=>se,getSphericalMercatorScale:()=>le,getGoogleMercatorScale:()=>pe,getSphericalMercatorScales:()=>ce,getGoogleMercatorScales:()=>ue,getResolutionsForScales:()=>de,getGoogleMercatorResolutions:()=>me,getResolutionsForProjection:()=>ge,getResolutions:()=>he,getScales:()=>fe,getZoomFromResolution:()=>ye,defaultGetZoomForExtent:()=>be,getZoomForExtent:()=>Ee,getCurrentResolution:()=>ve,getCenterForExtent:()=>_e,getBbox:()=>Se,isNearlyEqual:()=>Te,mapUpdated:()=>Pe,transformExtent:()=>Oe,groupSaveFormatted:()=>xe,saveMapConfiguration:()=>Ce,generateNewUUIDs:()=>we,mergeMapConfigs:()=>Me,addRootParentGroup:()=>Ie,isSimpleGeomType:()=>Le,getSimpleGeomType:()=>Ae,getIdFromUri:()=>Re,parseLayoutValue:()=>Fe,prepareMapObjectToCompare:()=>De,updateObjectFieldKey:()=>Ne,compareMapChanges:()=>ke,createRegisterHooks:()=>Ge,detectIdentifyInMapPopUp:()=>je,getResolutionObject:()=>Ze,calculateExtent:()=>Ue,reprojectZoom:()=>Be,default:()=>qe});var o=r(47037),n=r.n(o),i=r(92742),a=r.n(i),s=r(81763),l=r.n(s),p=r(78718),c=r.n(p),u=r(27361),d=r.n(u),m=r(13311),g=r.n(m),h=r(95395),f=r.n(h),y=r(66604),b=r.n(y),E=r(3674),v=r.n(E),_=r(44908),S=r.n(_),T=r(87185),P=r.n(T),O=r(18446),x=r.n(O),C=r(41609),w=r.n(C),M=r(30998),I=r.n(M),L=r(50361),A=r.n(L),R=r(22762),F=r.n(R),D=r(57557),N=r.n(D),k=r(23570),G=r.n(k),j=r(90183),Z=r(61868),U=r(24262),B=r(27418),q=r.n(B),z=r(90173);const W=96,H={m:1,degrees:111194.87428468118,ft:.3048,"us-ft":1200/3937},V={RADIUS:6378137,TILE_WIDTH:256,ZOOM_FACTOR:2},K="EXTENT_TO_ZOOM_HOOK",Y="ZOOM_TO_EXTENT_HOOK",$="RESOLUTIONS_HOOK",X="RESOLUTION_HOOK",Q="COMPUTE_BBOX_HOOK",J="GET_PIXEL_FROM_COORDINATES_HOOK",ee="GET_COORDINATES_FROM_PIXEL_HOOK";let te={};function re(e,t){te[e]=t}function oe(e){return te[e]}function ne(e,t,r){const o=oe(e);return o?t(o):r?r():null}function ie(){te={}}function ae(e){return e*(100/2.54)}function se(e,t){const r=(0,j.getUnits)(t||"EPSG:3857");return H[r]*ae(e||W)}function le(e,t,r,o,n){return 2*Math.PI*e/(t*Math.pow(r,o)/ae(n||W))}function pe(e,t){return le(V.RADIUS,V.TILE_WIDTH,V.ZOOM_FACTOR,e,t)}function ce(e,t,r,o,n,i){var a=[];for(let s=o;s<=n;s++)a.push(le(e,t,r,s,i));return a}function ue(e,t,r){return ce(V.RADIUS,V.TILE_WIDTH,V.ZOOM_FACTOR,e,t,r)}function de(e,t,r){const o=se(r,t);return e.map((e=>e/o))}function me(e,t,r){return de(ue(e,t,r),"EPSG:3857",r)}function ge(e,t,r,o,n,i,a){let s=o??0,l=n??28,p=i??2;const c=z.default.defs(e),u=a??(0,j.getExtentForProjection)(e)?.extent;let d,m,g=(u?u[2]-u[0]:360*H.degrees/H[c.getUnits()])/256,h=(u?u[3]-u[1]:360*H.degrees/H[c.getUnits()])/256;g<=h?(d=1,m=Math.round(h/g),h/=m):(m=1,d=Math.round(g/h),g/=d);const f=Math.max(g,h),y=f/Math.pow(2,28);let b=r;void 0!==b?s=0:b=f/Math.pow(p,s);let E=t;return void 0===E&&(E=void 0!==l?void 0!==r?b/Math.pow(p,l):f/Math.pow(p,l):y),l=s+Math.floor(Math.log(b/E)/Math.log(p)),Array.apply(0,Array(l-s+1)).map(((e,t)=>b/Math.pow(p,t)))}function he(e){return oe("RESOLUTIONS_HOOK")?oe("RESOLUTIONS_HOOK")(e):e&&"EPSG:3857"!==(0,j.normalizeSRS)(e)?ge(e):me(0,21,W)}function fe(e,t){const r=se(t,e);return he(e).map((e=>e*r))}function ye(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:he()).map(((t,r)=>({diff:Math.abs(t-e),zoom:r}))),{zoom:r}=F()(t,"diff");return r}function be(e,t,r,o,n,i){const a=e[2]-e[0],s=e[3]-e[1],l=Math.abs(a/t.width),p=Math.abs(s/t.height),c=Math.max(l,p),u=i||de(ue(r,o,n||W),"EPSG:3857",n),{zoom:d}=u.reduce(((e,t,r)=>{const o=Math.abs(t-c);return o>e.diff?e:{diff:o,zoom:r}}),{diff:Number.POSITIVE_INFINITY,zoom:0});return Math.max(0,Math.min(d,o))}function Ee(e,t,r,o,n){return oe("EXTENT_TO_ZOOM_HOOK")?oe("EXTENT_TO_ZOOM_HOOK")(e,t,r,o,n):be(e,t,r,o,n,oe("RESOLUTIONS_HOOK")?oe("RESOLUTIONS_HOOK")():null)}function ve(e,t,r,o){return oe("RESOLUTION_HOOK")?oe("RESOLUTION_HOOK")(e,t,r,o):me(t,r,o)[e]}function _e(e,t){var r=(e[2]-e[0])/2,o=(e[3]-e[1])/2;return{x:e[0]+r,y:e[1]+o,crs:t}}function Se(e,t){return ne("COMPUTE_BBOX_HOOK",(r=>r(e,t)))}const Te=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0};function Pe(e,t){return!(!e||w()(e)||!t||w()(t))&&(!(Te(t?.center?.x,e?.center?.x)&&Te(t?.center?.y,e?.center?.y))||t?.zoom!==e?.zoom)}function Oe(e,t,r,o){let n=(0,j.getUnits)(e);return"ft"===n?{width:r/H.ft,height:o/H.ft}:"us-ft"===n?{width:r/H["us-ft"],height:o/H["us-ft"]}:"degrees"===n?{width:r/(111132.92-559.82*Math.cos(2*t.y)+1.175*Math.cos(4*t.y)),height:o/(111412.84*Math.cos(t.y)-93.5*Math.cos(3*t.y))}:{width:r,height:o}}const xe=e=>({id:e.id,title:e.title,description:e.description,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,expanded:e.expanded});function Ce(e,t,r,o,n,i,a){const s={center:e.center,maxExtent:e.maxExtent,projection:e.projection,units:e.units,mapInfoControl:e.mapInfoControl,zoom:e.zoom,mapOptions:e.mapOptions||{}},l=t.map((e=>(0,U.z8)(e))),p=r.reduce(((e,t)=>e.concat((0,U.ar)(t))),[].concat(r.map((e=>e.id)))).map((e=>{const t=(0,U.Mk)(r,e);return t&&t.nodes?xe(t):null})).filter((e=>e)),c=o.filter((e=>!!e.thumbnail)),u=(0,U.V5)(l),d=l.map((e=>q()({},e,{tileMatrixSet:e.tileMatrixSet&&e.tileMatrixSet.length>0,matrixIds:e.matrixIds&&Object.keys(e.matrixIds)})));let m=I()(d,(e=>"annotations"===e.id));if(-1!==m){let e=d[m].features.map((e=>"FeatureCollection"===e.type?{...e,features:e.features.map((e=>e.properties.geometryGeodesic?(0,Z.t8)("properties.geometryGeodesic",null,e):e))}:e.properties.geometryGeodesic?(0,Z.t8)("properties.geometryGeodesic",null,e):{}));d[m]=(0,Z.t8)("features",e,d[m])}return{version:2,map:q()({},s,{layers:d,groups:p,backgrounds:c,text_search_config:n,bookmark_search_config:i},!w()(u)&&{sources:u}||{}),...a}}const we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=A()(e),r={...d()(e,"map.layers",[]).reduce(((e,t)=>({...e,[t.id]:"annotations"===t.id?t.id:G()()})),{}),...d()(e,"widgetsConfig.widgets",[]).reduce(((e,t)=>({...e,[t.id]:G()()})),{})};return(0,Z.t8)("map.backgrounds",d()(e,"map.backgrounds",[]).map((e=>({...e,id:r[e.id]}))),(0,Z.t8)("widgetsConfig",{collapsed:b()(f()(d()(e,"widgetsConfig.collapsed",{}),((e,t)=>r[t])),(e=>({...e,layouts:b()(e.layouts,(e=>({...e,i:r[e.i]})))}))),layouts:b()(d()(e,"widgetsConfig.layouts",{}),(e=>e.map((e=>({...e,i:r[e.i]}))))),widgets:d()(e,"widgetsConfig.widgets",[]).map((e=>({...e,id:r[e.id],layer:{...d()(e,"layer",{}),id:r[d()(e,"layer.id")]}})))},(0,Z.t8)("map.layers",d()(e,"map.layers",[]).map((e=>({...e,id:r[e.id]}))),t)))},Me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>c()(e,v()(e).filter((t=>void 0!==e[t])))))},r=we(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),o=[...d()(e,"map.backgrounds",[]),...d()(r,"map.backgrounds",[])],n=t(d()(e,"map.layers",[])),i=t(d()(r,"map.layers",[])),a=g()(n,(e=>"annotations"===e.id)),s=g()(i,(e=>"annotations"===e.id)),l=[...i.filter((e=>"annotations"!==e.id)),...n.filter((e=>"annotations"!==e.id)),...a||s?[{...a||{},...s||{},features:[...d()(a,"features",[]),...d()(s,"features",[])]}]:[]],p=["id","visibility"],u=l.filter((e=>"background"===e.group)).filter(((e,t,r)=>I()(r,(t=>x()(N()(e,p),N()(t,p))))===t)),m=I()(u,(e=>e.visibility)),h={...d()(e,"map.sources",{}),...d()(r,"map.sources",{})},f=d()(e,"widgetsConfig",{}),y=d()(r,"widgetsConfig",{});return{...r,...e,catalogServices:{...d()(e,"catalogServices",{}),services:{...d()(e,"catalogServices.services",{}),...d()(r,"catalogServices.services",{})}},map:{...r.map,...e.map,backgrounds:o,groups:P()([...d()(e,"map.groups",[]),...d()(r,"map.groups",[])],((e,t)=>e.id===t.id)),layers:[...u.slice(0,m+1),...u.slice(m+1).map((e=>({...e,visibility:!1}))),...l.filter((e=>"background"!==e.group))],sources:w()(h)?void 0:h},widgetsConfig:{collapsed:{...f.collapsed,...y.collapsed},layouts:S()([...v()(f.layouts),...v()(y.layouts)]).reduce(((e,t)=>({...e,[t]:[...d()(f,`layouts.${t}`,[]),...d()(y,`layouts.${t}`,[])]})),{}),widgets:[...d()(f,"widgets",[]),...d()(y,"widgets",[])]},timelineData:{...d()(e,"timelineData",{}),...d()(r,"timelineData",{})},dimensionData:{...d()(e,"dimensionData",{}),...d()(r,"dimensionData",{})}}},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RootGroup";const r=d()(e,"map.groups",[]),o=r.filter((e=>{let{id:t}=e;return"Default"!==t})),n=g()(r,(e=>{let{id:t}=e;return"Default"===t})),i=n&&{id:G()(),title:t,expanded:n.expanded},a=n?[...o.map((e=>{let{id:t,...r}=e;return{id:`${i.id}.${t}`,...r}})),i]:o;return{...e,map:{...e.map,groups:a,layers:d()(e,"map.layers",[]).map((e=>{let{group:t,...r}=e;return{...r,group:!n||"background"===t||"Default"!==t&&t?n&&g()(a,(e=>{let{id:r}=e;return r.slice(r.indexOf(".")+1)===t}))?.id||t:i.id}}))}}};function Le(e){switch(e){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":case"Text":return!1;default:return!0}}function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";switch(e){case"Point":case"LineString":case"Polygon":case"Circle":default:return e;case"MultiPoint":case"Marker":case"Text":return"Point";case"MultiLineString":return"LineString";case"MultiPolygon":return"Polygon";case"GeometryCollection":return"GeometryCollection"}}const Re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/data\/(\d+)/;const r=decodeURIComponent(e),o=t.exec(r);return o&&o.length&&o.length>1?o[1]:null},Fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n()(e)&&-1!==e.indexOf("%")?parseFloat(a()(e))*t/100:l()(e)?e:0},De=e=>{const t=["apiKey","time","args","fixed"],r=e=>t.reduce(((t,r)=>t||e===r),!1);Object.keys(e).forEach((t=>{const o=e[t],n=typeof o;"object"!==n||null===o||r(t)?"undefined"!==n&&o&&!r(t)||delete e[t]:(De(o),Object.keys(o).length||delete e[t])}))},Ne=(e,t,r)=>{e[t]&&(Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=["map.layers","map.backgrounds","map.text_search_config","map.bookmark_search_config","map.text_serch_config","map.zoom","widgetsConfig"],o=c()(A()(e),r),n=c()(A()(t),r);return Ne(o.map,"text_serch_config","text_search_config"),Ne(n.map,"text_serch_config","text_search_config"),De(o),De(n),x()(o,n)},Ge=()=>{let e={};return{registerHook:(t,r)=>{e[t]=r},getHook:t=>e[t],executeHook:(t,r,o)=>{const n=e[t];return n?r(n):o?o():null}}},je=e=>{if(e.mapPopups?.popups){let t=e.mapPopups.popups.filter((e=>"identify"===e?.component?.toLowerCase()));return!!(t&&t.length>0)}return!1},Ze=function(e,t){let{projection:r,resolutions:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=se(W,r);if("scale"===t){const t=e/n;return{resolution:t,scale:e,zoom:ye(t,o)}}return{resolution:e,scale:e*n,zoom:ye(e,o)}};function Ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,crs:"EPSG:3857"},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:100,height:100},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"EPSG:3857";const{x:n,y:i}=(0,j.reproject)(e,e.crs??o,o),a=t*r.width/2,s=t*r.height/2;return[n-a,i-s,n+a,i+s]}const Be=(e,t,r)=>{const o=H[(0,j.getUnits)(t)]/H[(0,j.getUnits)(r)],n=he(t)[e]*o,i=he(r),a=i.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e),i[0]);return i.indexOf(a)},qe={createRegisterHooks:Ge,EXTENT_TO_ZOOM_HOOK:K,RESOLUTIONS_HOOK:$,RESOLUTION_HOOK:X,COMPUTE_BBOX_HOOK:Q,GET_PIXEL_FROM_COORDINATES_HOOK:J,GET_COORDINATES_FROM_PIXEL_HOOK:ee,DEFAULT_SCREEN_DPI:W,ZOOM_TO_EXTENT_HOOK:Y,registerHook:re,getHook:oe,dpi2dpm:ae,getSphericalMercatorScales:ce,getSphericalMercatorScale:le,getGoogleMercatorScales:ue,getGoogleMercatorResolutions:me,getGoogleMercatorScale:pe,getResolutionsForScales:de,getZoomForExtent:Ee,defaultGetZoomForExtent:be,getCenterForExtent:_e,getResolutions:he,getScales:fe,getBbox:Se,mapUpdated:Pe,getCurrentResolution:ve,transformExtent:Oe,saveMapConfiguration:Ce,generateNewUUIDs:we,mergeMapConfigs:Me,addRootParentGroup:Ie,isSimpleGeomType:Le,getSimpleGeomType:Ae,getIdFromUri:Re,parseLayoutValue:Fe,prepareMapObjectToCompare:De,updateObjectFieldKey:Ne,compareMapChanges:ke,clearHooks:ie,getResolutionObject:Ze,calculateExtent:Ue,reprojectZoom:Be}},8797:(e,t,r)=>{"use strict";r.d(t,{rp:()=>l,Ov:()=>c,wd:()=>u,L0:()=>d}),r(1469);var o=r(91175),n=r.n(o),i=r(7654),a=r.n(i);function s(e){var t=Math.floor(e),r=60*(e-t),o=Math.floor(r),n=60*(r-o);return t+"° "+o+"' "+Math.floor(n)+"'' "}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{measureTrueBearing:t=!1,fractionDigits:r=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="";if(t){let t="";e>=0&&e<10?t="00":e>10&&e<100&&(t="0"),o=t+(r>0?e.toFixed(r):Math.floor(e))+"°"}else e>=0&&e<90?o="N "+s(e)+"E":e>90&&e<=180?o="S "+s(180-e)+"E":e>180&&e<270?o="S "+s(e-180)+"W":e>=270&&e<=360&&(o="N "+s(360-e)+"W");return o}const p={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return p[t]&&p[t][r]?e*p[t][r]:e}const u=e=>!a()(parseFloat(e[0]))&&!a()(parseFloat(e[1])),d=function(){let{coordinates:e,type:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e;if("LineString"===t){if(r=e.filter(u),r.length<2)return[]}else if("Polygon"===t){if(r=n()(e).filter(u),r.length<3)return[[]];r=[r.concat([n()(r)])]}return r}},22843:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UY:()=>combineReducers,lp:()=>combineEpics,bh:()=>getMonitoredState,$j:()=>connect,rx:()=>createPlugin,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24852),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),object_assign__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27418),object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(object_assign__WEBPACK_IMPORTED_MODULE_1__),lodash_omit__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57557),lodash_omit__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_2__),lodash_isObject__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13218),lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_isObject__WEBPACK_IMPORTED_MODULE_3__),lodash_head__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91175),lodash_head__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_head__WEBPACK_IMPORTED_MODULE_4__),lodash_isArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1469),lodash_isArray__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_isArray__WEBPACK_IMPORTED_MODULE_5__),lodash_isString__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(47037),lodash_isString__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_6__),lodash_isFunction__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23560),lodash_isFunction__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_7__),lodash_memoize__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(88306),lodash_memoize__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_8__),lodash_get__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(27361),lodash_get__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_9__),lodash_endsWith__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(66654),lodash_endsWith__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash_endsWith__WEBPACK_IMPORTED_MODULE_10__),react_redux__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(71703),react_redux__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_11__),url__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(72500),url__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_12__),lodash_curry__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(41239),lodash_curry__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(lodash_curry__WEBPACK_IMPORTED_MODULE_13__),redux_observable__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1376),redux_observable__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(redux_observable__WEBPACK_IMPORTED_MODULE_14__),redux__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(12838),_EpicsUtils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(16135);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_extends.apply(this,arguments)}function loadScript(e){return new Promise((function(t,r){const o=document.createElement("script");let n=!1;o.type="text/javascript",o.src=e,o.async=!0,o.onerror=function(e){r(e,o)},o.onload=o.onreadystatechange=function(){n||this.readyState&&"complete"!==this.readyState||(n=!0,t())};const i=document.getElementsByTagName("script")?.[0];i?i.parentElement.insertBefore(o,i):document.head.appendChild(o)}))}const dynamicFederation=(e,t)=>new Promise((e=>e(__webpack_require__.I&&__webpack_require__.I("default")))).then((()=>window[e].init(__webpack_require__.S.default))).then((()=>window[e].get(t).then((e=>e())))),defaultMonitoredState=[{name:"mapType",path:"maptype.mapType"},{name:"user",path:"security.user"}],getFromPlugins=lodash_curry__WEBPACK_IMPORTED_MODULE_13___default()(((e,t)=>Object.keys(t).map((r=>t[r][e])).reduce(((e,t)=>({...e,...t})),{}))),getReducers=getFromPlugins("reducers"),getEpics=getFromPlugins("epics"),combineReducers=(e,t)=>{const r=getReducers(e);return(0,redux__WEBPACK_IMPORTED_MODULE_15__.UY)({...t,...r})},combineEpics=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const o={...getEpics(e),...t};return(0,redux_observable__WEBPACK_IMPORTED_MODULE_14__.combineEpics)(...(0,_EpicsUtils__WEBPACK_IMPORTED_MODULE_16__.f)(o,r))},filterState=lodash_memoize__WEBPACK_IMPORTED_MODULE_8___default()(((e,t)=>t.reduce(((t,r)=>object_assign__WEBPACK_IMPORTED_MODULE_1___default()(t,{[r.name]:lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(e,r.path)})),{})),((e,t)=>t.reduce(((t,r)=>t+JSON.stringify(lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(e,r.path))),""))),getPluginSimpleName=e=>lodash_endsWith__WEBPACK_IMPORTED_MODULE_10___default()(e,"Plugin")&&e.substring(0,e.length-6)||e,normalizeName=e=>lodash_endsWith__WEBPACK_IMPORTED_MODULE_10___default()(e,"Plugin")&&e||e+"Plugin",getPluginsConfiguration=(e,t)=>{const r=getPluginSimpleName(t);return e.filter((e=>e.name===r||e===r)).map((e=>lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(e)?{name:e}:e))},getPluginConfiguration=(e,t)=>{const r=getPluginsConfiguration(e,t);return lodash_head__WEBPACK_IMPORTED_MODULE_4___default()(r)||{}},parseExpression=function(){let state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},value=arguments.length>2?arguments[2]:void 0;const searchExpression=/^\{(.*)\}$/,expression=searchExpression.exec(value),dispatch=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return()=>state("store").dispatch(e.apply(null,[e,...r]))},request=url__WEBPACK_IMPORTED_MODULE_12___default().parse(location.href,!0);return null!==expression?eval(expression[1]):value},handleExpression=(e,t,r)=>lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(r)&&0===r.indexOf("{")?parseExpression(e,t,r):r,filterDisabledPlugins=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(e,"cfg.disablePluginIf")||lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(e,"plugin.disablePluginIf");return!(o&&!lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(e,"cfg.skipAutoDisable")&&handleExpression(t,r.requires,o))},isContainedInList=(e,t,r,o)=>e&&t&&-1!==handleExpression(r,o,t).indexOf(e),showIn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return(isContainedInList(n,r.showIn,e,t)||isContainedInList(o,r.showIn,e,t)||!r.showIn&&i)&&!(isContainedInList(n,r.hideFrom,e,t)||isContainedInList(o,r.hideFrom,e,t))},isMapStorePlugin=e=>e.loadPlugin||e.displayName||e.prototype?.isReactComponent||e.isMapStorePlugin,getPluginImplementation=(e,t)=>isMapStorePlugin(e)?e:e(t),includeLoaded=(e,t,r,o)=>{if(t[e]){const n=t[e],i=getPluginImplementation(n.component||n,o);return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(i,r,{loadPlugin:void 0},{...n.containers})}return r},getPriority=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(t,r+".priority")||lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(e,r+".priority")||0},getMorePrioritizedContainer=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>3?arguments[3]:void 0;return(arguments.length>2?arguments[2]:void 0).reduce(((r,o)=>{const n=o.name||o,i=getPriority(e,t,n);return i>r.priority?{plugin:{name:n,impl:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},e[n],t[n])},priority:i}:r}),{plugin:null,priority:r})},parsePluginConfig=(e,t,r)=>lodash_isArray__WEBPACK_IMPORTED_MODULE_5___default()(r)?r.map((r=>parsePluginConfig(e,t,r))):lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(r)?Object.keys(r).reduce(((o,n)=>{const i=r[n];return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(o,{[n]:parsePluginConfig(e,t,i)})}),{}):parseExpression(e,t,r),canContain=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t[e]||r[e]||!1},isMorePrioritizedContainer=(e,t,r,o)=>null===getMorePrioritizedContainer(e,t,r,o).plugin,isValidConfiguration=e=>e&&lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(e)||lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(e)&&e.name,executeDeferredProp=(e,t,r)=>e&&lodash_isFunction__WEBPACK_IMPORTED_MODULE_7___default()(e[r])?{...e,[r]:e[r](t)}:e,getPluginItems=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0;return Object.keys(t).reduce(((e,n)=>[...e,...getPluginsConfiguration(r,n).map((e=>({name:n,impl:executeDeferredProp(includeLoaded(getPluginSimpleName(n),a,t[n]),e,o),config:e})))]),[]).filter((e=>isValidConfiguration(e.config))).filter((e=>canContain(o,e.impl,e.config.override))).filter((r=>showIn(e,t.requires,r.config,o,n,i))).reduce(((e,t)=>{const r=t.impl?.[o];return lodash_isArray__WEBPACK_IMPORTED_MODULE_5___default()(r)?[...e,...r.map((e=>({...t,impl:{...t.impl,[o]:e}})))]:[...e,t]}),[]).filter((e=>isMorePrioritizedContainer(e.impl,e.config.override,r,getPriority(e.impl,e.config.override,o)))).map((n=>{const i=getPluginSimpleName(n.name),s=includeLoaded(i,a,n.impl);return{name:i,...{...lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(s,o+".impl")||lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(s,o)||{},...lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(n.config,"override."+o)??{}},cfg:{...s?.cfg??{},...parsePluginConfig(e,t.requires,n.config.cfg||{})??{}},plugin:s,items:getPluginItems(e,t,r,i,null,!0,a)}})).filter((r=>filterDisabledPlugins(r,e,t))).filter((e=>!s||s(e)))},pluginsMergeProps=(e,t,r)=>{const{pluginCfg:o,...n}=r;return object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},n,e,t,o||{})},importPlugin=e=>dynamicFederation(e,"./plugin"),getMonitoredState=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return filterState(e,defaultMonitoredState.concat(t))},mapPluginsPosition=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>{const r=t.cfg&&t.cfg.containerPosition||"bodyPlugins";return{...e,[r]:e[r]?[...e[r],t]:[t]}}),{})},getPlugins=e=>Object.keys(e).map((t=>e[t])).reduce(((e,t)=>object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},e,lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(t,"reducers","epics"))),{}),getPluginDescriptor=function(e,t,r,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(o)?o.name:o,a=lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(o)?o.id:null,s=lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(o)?o.stateSelector:a||void 0,l=!lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(o)||void 0===o.isDefault||o.isDefault,p=t[(lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(o)?o.name:o)+"Plugin"];return p?{id:a||i,name:i,impl:includeLoaded(i,n,getPluginImplementation(p,s),s),cfg:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},p.cfg||{},lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(o)?parsePluginConfig(e,t.requires,o.cfg):{}),items:getPluginItems(e,t,r,i,a,l,n)}:null},getConfiguredPlugin=function(e){let t=arguments.length>2?arguments[2]:void 0;if(e){const r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})[e.name]||!e.plugin.loadPlugin&&e.plugin,o=lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(e)?e.id:null,n=lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(e)?e.stateSelector:o||void 0,i=getPluginImplementation(r?.component||r,n),a=r=>i?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(i,_extends({key:e.id},r,e.cfg,{pluginCfg:e.cfg,items:e.items||[]})):t;return a.loaded=!!r,a}return e},setRefToWrappedComponent=e=>t=>{t&&(window[`${e}Plugin`]=t)},connect=(e,t,r,o)=>(0,react_redux__WEBPACK_IMPORTED_MODULE_11__.connect)(e,t,r||pluginsMergeProps,o),createPlugin=(e,t)=>{let{component:r,options:o={},containers:n={},reducers:i={},epics:a={},lazy:s=!1,enabler:l=(()=>!0),loader:p}=t;const c=normalizeName(e),u=s?{loadPlugin:e=>{p().then((t=>{const r=t.default||t;e(object_assign__WEBPACK_IMPORTED_MODULE_1___default()(r,{isMapStorePlugin:!0}))}))},enabler:l}:object_assign__WEBPACK_IMPORTED_MODULE_1___default()(r,{isMapStorePlugin:!0});return{[c]:object_assign__WEBPACK_IMPORTED_MODULE_1___default()(u,n,o),reducers:i,epics:a}},loadPlugin=(e,t)=>loadScript(e).then((()=>importPlugin(t))).then((e=>({name:t,plugin:e}))),__WEBPACK_DEFAULT_EXPORT__={combineReducers,combineEpics,filterState,filterDisabledPlugins,getMonitoredState,mapPluginsPosition,getPlugins,getPluginDescriptor,getPluginItems,getConfiguredPlugin,setRefToWrappedComponent,connect,createPlugin,importPlugin,loadPlugin,handleExpression,getMorePrioritizedContainer,getPluginConfiguration,isMapStorePlugin}},18412:(e,t,r)=>{"use strict";r.d(t,{be:()=>s,zA:()=>l,Tv:()=>p});var o=r(70290),n=r.n(o),i=r(45507),a=r.n(i);const s={iconUrl:n(),shadowUrl:a(),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},l=e=>"single_layer"===e?.launchInfoPanel&&!!e?.openFeatureInfoButtonEnabled,p=(e,t)=>!!e&&(t?.forceSearchLayerVisibility||!!e.visibility)},61239:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o,v:()=>n});const o=e=>new RegExp("<(.|\\n)*?>","g").test(e),n=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(e)}},93201:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(64721),n=r.n(o);const i=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("?")[0].split("@");if(e.length>1){const t=e[e.length-1];if(n()(["png","png8","jpeg","vnd.jpeg-png","gif"],t))return t}return null}},59112:(e,t,r)=>{"use strict";r.d(t,{BC:()=>a});var o=r(13218),n=r.n(o);r(27361),r(86638),r(91175);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" - ";switch(e){case"title":return(n()(t.title)?t.title[r]||t.title.default:t.title)||t.name||"";case"description":return t.description||"";case"both":{const e=(n()(t.title)?t.title[r]||t.title.default:t.title)||t.nam||"",i=t.description||"";return`${e}${o&&i?o:""}${i}`}default:return t[e]}},a=e=>{let{node:t,currentLocale:r,tooltipOptions:o={separator:" - ",maxLength:807}}=e,n=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" - ";return i(e.tooltipOptions,e,t,r)}(t,r,o.separator)||"";return n=n&&n.substring(0,o.maxLength),n.length===o.maxLength&&(n+="..."),{title:i("title",t,r,o.separator),tooltipText:n}}},59286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateStringAttribute:()=>u,getCleanTemplate:()=>d,parseCustomTemplate:()=>m,generateTemplateString:()=>g,parseTemplate:()=>f,default:()=>y});var o=r(47037),n=r.n(o),i=r(18721),a=r.n(i),s=r(92742),l=r.n(s),p=r(41106),c=r.n(p);const u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=n()(t)&&l()(t.substring(r,t.length-o))||"";return a()(e,i)},d=function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>"";const s=n()(e)&&e.match(r),l=s&&s.map((e=>{const r=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:u(t,r,o,i)?r:a(e)}}))||null;return l&&l.reduce(((e,t)=>e.replace(t.previous,t.next)),e)||e||""},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>`${l()(e.substring(2,e.length-1))} Not Available`;return c()(d(e||"",t,/\$\{.*?\}/g,2,1,r))(t)},g=(h={},function(e,t){var r=h[e];return r&&!t||(r=r=>{let o=e.replace(/\$\{([\s]*[^;\s\{]+[\s]*)\}/g,((e,o)=>(t||(e=>e))(o.trim().split(".").reduce(((e,t)=>e&&e[t]),r))));return n()(o)&&o||""},t||(h[e]=r)),r});var h;const f=function(e,t){r.e(181).then(function(){const o=r(90181);let n="function"==typeof e?e():e;try{const e=o.transform(n,{presets:["es2015","react","stage-0"]}).code;t(e)}catch(e){t(null,e)}}.bind(null,r)).catch(r.oe)},y={generateTemplateString:g,parseTemplate:f,validateStringAttribute:u,getCleanTemplate:d,parseCustomTemplate:m}},11847:(e,t,r)=>{"use strict";r.d(t,{vl:()=>a,K2:()=>s,Nw:()=>l}),r(72500),r(1469),r(47037),r(18446),r(89734);var o=r(13311),n=r.n(o),i=r(64210);const a=e=>i.Qc(e),s=function(e){return new RegExp(arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/).test(e)},l=function(e,t){const r=new RegExp(arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/).test(e);if(!r)return!1;if(r&&!t)return!0;if(r&&t){const r=/\{(.*?)\}/.test(e);return 0===t.filter((e=>n()(r,e))).length}return!1}},38848:(e,t,r)=>{"use strict";r.d(t,{Es:()=>l,mI:()=>p,dm:()=>c});var o=r(43378),n=(r(72500),r(27361)),i=r.n(n),a=r(91175),s=r.n(a);const l=(e,t)=>{const r={...(0,o.v)(e)||{},_v_:e._v_},n={...(0,o.v)(t)||{},_v_:t._v_};return["_v_","CQL_FILTER","VIEWPARAMS"].reduce(((e,t)=>r[t]!==n[t]||e),!1)},p=e=>{const t=i()(e,"featureTypes[0].properties")||[];return t&&s()(t.filter((e=>0===e.type.indexOf("gml:"))).map((e=>e.type.split(":")[1])))},c=e=>{const t=i()(e,"featureTypes[0].properties")||[];return t&&s()(t.filter((e=>0===e.type.indexOf("gml:"))).map((e=>e.name)))}},93483:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,"\r\n.MyMapStoreProject #mapstore-layer-settings {\r\n    min-width: 400px;\r\n}\r\n\r\n.MyMapStoreProject .portal-dialog {\r\n    position: absolute;\r\n}\r\n\r\n@media all and (min-width: 635px) {\r\n    .MyMapStoreProject .portal-dialog {\r\n        left: calc(50% - 315px);\r\n        top: 100px;\r\n        max-width: 630px;\r\n        background-color: #fff;\r\n    }\r\n}\r\n\r\n@media all and (max-width: 634px) {\r\n    .MyMapStoreProject .portal-dialog {\r\n        width: 100%;\r\n    }\r\n}\r\n",""]);const i=n},1381:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id," .MyMapStoreProject #mapstore-mouseposition {\r\n    z-index: 10;\r\n    top: -10px;\r\n    right: 45%;\r\n    position: absolute;\r\n    margin: 8px;\r\n    text-shadow: -1px -1px 1px #000,\r\n                  1px -1px 1px #000,\r\n                 -1px  1px 1px #000,\r\n                  1px  1px 1px #000;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .label {\r\n    max-width: 350px;\r\n    min-width: 200px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    vertical-align: middle;\r\n\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .label-info {\r\n    background-color:rgba(91,192,222,0);\r\n    color: white;\r\n    font-size: 110%;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition h5 {\r\n    display: inline-block;\r\n}\r\n\r\n\r\n.MyMapStoreProject #mapstore-mousepositionsettings .form-group {\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mousepositionsettings select, .MyMapStoreProject #mapstore-mousepositionsettings button {\r\n    width: 60% !important;\r\n    float: right;\r\n    height: 35px;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mousepositionsettings label {\r\n    width: 100% !important;\r\n}\r\n\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .label-info {\r\n    white-space: normal;\r\n    color: black;\r\n    font-size: 110%;\r\n    padding: 0;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition {\r\n    bottom: 5px;\r\n    right: 264px;\r\n    top: auto;\r\n    margin: 0;\r\n    text-shadow: none;\r\n    background-color: white;\r\n    width: 160px;\r\n    height: 46px;\r\n    padding-left: 5px;\r\n    padding-top: 2px;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition h5 {\r\n    margin-top: 5px;\r\n}\r\n\r\n.MyMapStoreProject .mouseposition-separator {\r\n    display: block;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition-mobile {\r\n        bottom: 25px;\r\n        right: 30px;\r\n        z-index: 10;\r\n        position: absolute;\r\n        text-shadow: -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000, 1px 1px 1px #000;\r\n    }\r\n\r\n.MyMapStoreProject #mapstore-mouseposition-mobile .label {\r\n        display: inline-block;\r\n        max-width: 280px;\r\n        min-width: 200px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        vertical-align: middle;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition-mobile .label-info {\r\n        background-color:rgba(91,192,222,0);\r\n        color: white;\r\n        font-size: 90%;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .form-group {\r\n    float: right;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .form-group .control-label {\r\n    display: none;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .form-group select {\r\n    width: 90px;\r\n    font-size: 11px;\r\n    padding: 2px;\r\n}\r\n",""]);const i=n},72704:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject .mapstore-filter input::-ms-clear,\r\n.MyMapStoreProject .mapstore-filter input::-ms-reveal {\r\n  display: none;\r\n}\r\n",""]);const i=n},40802:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,"/* Menu Button */\r\n.MyMapStoreProject .drawer-menu-button {\r\n    position: absolute;\r\n    z-index:1000;\r\n    left: 30px;\r\n    top: 8px;\r\n    width:30px;\r\n    background: transparent;\r\n    outline: none;\r\n    border: transparent;\r\n    font-size: 14px;\r\n}\r\n\r\n.MyMapStoreProject .drawer-menu-button:hover {\r\n    background: transparent;\r\n}\r\n\r\n.MyMapStoreProject #drawer-menu-button:active{\r\n    box-shadow: none;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-drawermenu > div > div:nth-child(2) {\r\n    display: none;\r\n}\r\n\r\n.MyMapStoreProject .nav-content #background-switcher .thumbnail {\r\n    border-radius: 0 !important;\r\n    margin-bottom: 40px;\r\n    width: 220px !important;\r\n}\r\n.MyMapStoreProject .nav-content #background-switcher .thumbnail img {\r\n    border-radius: 0 !important;\r\n    height: 90px;\r\n    width: 220px !important;\r\n}\r\n\r\n.MyMapStoreProject .nav-content #background-switcher .thumbnail .caption {\r\n    font-size: 14px !important;\r\n    text-align: left !important;\r\n    top: -20px !important;\r\n    position: absolute !important;\r\n}\r\n\r\n.MyMapStoreProject .nav-content #background-switcher {\r\n    margin-top: 10px;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-drawermenu .panel {\r\n    border: none;\r\n    box-shadow: none;\r\n}\r\n\r\n.MyMapStoreProject div.nav-menu {\r\n    -webkit-transform:   translate3d(300px, 0, 0);\r\n    -moz-transform: \t translate3d(300px, 0, 0);\r\n    -ms-transform: \t\t translate3d(300px, 0, 0);\r\n    -o-transform: \t\t translate3d(300px, 0, 0);\r\n    box-shadow: 2px 0px 15px #A7A7A7;\r\n}\r\n\r\n.MyMapStoreProject .nav-menu  .navHeader {\r\n    height: 50px;\r\n}\r\n.MyMapStoreProject .nav-menu > .nav-content .navHeader .title{\r\n    font-size: 16px;\r\n    position: absolute;\r\n    margin: 13px;\r\n    font-weight: bold;\r\n}\r\n.MyMapStoreProject .nav-content  .section {\r\n    margin-bottom: 2px;\r\n}\r\n.MyMapStoreProject .nav-content  .section .sectionHeader{\r\n    padding: 5px;\r\n    cursor: pointer;\r\n}\r\n.MyMapStoreProject .nav-content .section .sectionHeader>.glyphicon{\r\n    /* Firefox */\r\n    -moz-transition: all .3s ease;\r\n    /* WebKit */\r\n    -webkit-transition: all .3s ease;\r\n    /* Opera */\r\n    -o-transition: all .3s ease;\r\n    /* Standard */\r\n    transition: all .3s ease;\r\n}\r\n.MyMapStoreProject .nav-content  .section .sectionTitle{\r\n    padding-left: 10px;\r\n\r\n}\r\n.MyMapStoreProject .nav-content  .section .sectionContent{\r\n    -moz-transition: max-height .3s ease;\r\n    -webkit-transition: max-height .3s ease;\r\n    -o-transition: max-height .3s ease;\r\n    transition: max-height .3s ease;\r\n\r\n    box-shadow: inset 0px 0px 10px rgba(0,0,0,.5);\r\n    padding: 5px;\r\n}\r\n\r\n.MyMapStoreProject .navButtons {\r\n    float: right;\r\n}\r\n\r\n.MyMapStoreProject #drawer-menu-button {\r\n     position: absolute;\r\n}\r\n",""]);const i=n},9960:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject .swipe-header-left-button {\r\n    float: left;\r\n}\r\n\r\n.MyMapStoreProject .swipe-header-right-button {\r\n    float: right;\r\n}\r\n",""]);const i=n},66241:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject #locate-btn {\r\n    position: absolute;\r\n    z-index: 1000;\r\n    right: 10px;\r\n    bottom: 150px;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-toolbar #locate-btn {\r\n    position: static;\r\n}\r\n",""]);const i=n},12817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject .mapErrorMessage {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n",""]);const i=n},89010:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject #mapstore-globalspinner  {\r\n    width: 28px;\r\n    height: 28px;\r\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\r\n    background-color: white;\r\n    background-size: 80px 80px;\r\n    background-repeat: no-repeat;\r\n    border-radius: 4px;\r\n    border: 1px solid #999;\r\n    z-index: 10;\r\n    top: 90px;\r\n    left: 2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-globalspinner .circle-wrapper {\r\n    margin-left: 2px;\r\n    margin-top: 1px;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-toolbar #mapstore-globalspinner {\r\n    position: static;\r\n    width: 42px;\r\n    margin: 0;\r\n    margin-top: 0;\r\n    height: 35px;\r\n    box-shadow: none;\r\n}\r\n\r\n.MyMapStoreProject .ms2-loading .sk-circle-wrapper {\r\n     width: 30px;\r\n     height: 30px;\r\n     margin-left: 10px !important;\r\n     margin-top: 10px !important;\r\n }\r\n",""]);const i=n},99410:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,"/*viewer navbar */\r\n.MyMapStoreProject .navbar-dx {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx>ul {\r\n    padding: 0;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx>ul>li {\r\n    float: left;\r\n    list-style: none;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx .search-wrap .MapSearchBar {\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx .search-wrap .form-control,\r\n.MyMapStoreProject .navbar-dx .search-wrap .form-control:focus {\r\n    border-right: 0;\r\n    box-shadow: none;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx .search-wrap .MapSearchBar .input-group-addon {\r\n    border: 0;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx .search-result-list {\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx .dropdown-menu {\r\n    margin: 0;\r\n    padding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .MyMapStoreProject .navbar-dx .search-wrap {\r\n        width: 500px;\r\n        height: 50px;\r\n    }\r\n}\r\n\r\n.MyMapStoreProject .navbar-dx>* {\r\n    display: inline-block;\r\n}\r\n\r\n/* Page Navbar */\r\n.MyMapStoreProject .navbar-home .dropdown {\r\n    float: right;\r\n}\r\n\r\n.MyMapStoreProject .navbar-home .navbar-header {\r\n    margin-top: 7px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n}\r\n",""]);const i=n},54840:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject #mapstore-zoomtomaxextent {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""]);const i=n},60068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(23645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".MyMapStoreProject #map {\r\n    bottom: 0;\r\n}\r\n\r\n.MyMapStoreProject .map-logo{\r\n\tbottom:5px;\r\n}\r\n\r\n.MyMapStoreProject #navigationBar .mapToolbar {\r\n    bottom: 25px;\r\n    margin-bottom: 0;\r\n    box-shadow: none;\r\n}\r\n\r\n.MyMapStoreProject .background-plugin-position {\r\n    bottom: 20px;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.MyMapStoreProject .leaflet-control-attribution {\r\n    background-color: transparent;\r\n}\r\n\r\n.MyMapStoreProject .ol-attribution.ol-uncollapsible {\r\n    background-color: transparent;\r\n}\r\n\r\n.MyMapStoreProject .ms-primary.ms-header {\r\n    box-shadow: none;\r\n}\r\n",""]);const i=n},20114:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var o=r(23645),n=r.n(o),i=r(61667),a=r.n(i),s=r(79364),l=r.n(s),p=r(86509),c=r.n(p),u=n()((function(e){return e[1]})),d=a()(l()),m=a()(c());u.push([e.id,".MyMapStoreProject html, .MyMapStoreProject body, .MyMapStoreProject #container, .MyMapStoreProject .fill {\r\n    position:absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.MyMapStoreProject .viewer {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    background-color: #EEE;\r\n}\r\n\r\n.MyMapStoreProject #map {\r\n    position:absolute;\r\n    width: 100%;\r\n    top: 0;\r\n    bottom: 28px;\r\n    height: auto;\r\n    overflow: hidden;\r\n    z-index: 0;\r\n}\r\n\r\n.MyMapStoreProject #home-button {\r\n    float: left;\r\n}\r\n.MyMapStoreProject #navigationBar #home-button {\r\n    float: none;\r\n}\r\n\r\n.MyMapStoreProject .leaflet-control-attribution > a:first-child{\r\n    display: none;\r\n    visibility: hidden;\r\n}\r\n\r\n.MyMapStoreProject .map-logo{\r\n\tposition:absolute;\r\n\twidth:90px;\r\n\theight:27px;\r\n\tbottom:36px;\r\n\tleft:5px;\r\n\tbackground-image:url("+d+");\r\n\tbackground-repeat:no-repeat;\r\n\tbackground-size:contain;\r\n    cursor: pointer;\r\n}\r\n\r\n.MyMapStoreProject .map-logo > img{\r\n    width: 90px;\r\n    height: 27px;\r\n    opacity: 0;\r\n}\r\n\r\n.MyMapStoreProject .with-love {\r\n    position:absolute;\r\n\twidth:90px;\r\n\theight:27px;\r\n\tbottom:35px;\r\n\tmargin-left:auto;\r\n\tmargin-right:auto;\r\n\tleft:0;\r\n\tright:0;\r\n    background-image:url("+m+");\r\n\tbackground-size:contain;\r\n}\r\n\r\n.MyMapStoreProject .modal-dialog-container {\r\n    z-index: 2000;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-scalebox-container {\r\n    bottom: -36px !important;\r\n    right: 323px !important;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition {\r\n    width: auto !important;\r\n    right: 5px !important;\r\n    background-color: transparent !important;\r\n    height: 25px !important;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .mouseposition-separator {\r\n    display: inline !important;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .label {\r\n    font-size: 90% !important;\r\n}\r\n\r\n\r\n.MyMapStoreProject #mapstore-mouseposition .mouseposition-crs {\r\n    font-size: 90%;\r\n    margin-left: 5px;\r\n    font-weight: bold;\r\n}\r\n\r\n.MyMapStoreProject #mapstore-getfeatureinfo.mapstore-right-panel {\r\n    position: absolute;\r\n    height: calc(100% - 30px);\r\n    right: 0;\r\n    left: auto;\r\n    top: 0;\r\n    margin-top: 0;\r\n    border: none;\r\n}\r\n\r\n.MyMapStoreProject .mapstore-right-panel .info-wrap {\r\n    position: absolute;\r\n    bottom: 0;\r\n    top: 51px;\r\n    width: 100%;\r\n    padding: 0;\r\n}\r\n\r\n.MyMapStoreProject .mapstore-right-panel .mapstore-identify-viewer {\r\n    position: absolute;\r\n    top: 60px;\r\n    bottom: 15px;\r\n    left: 15px;\r\n    right: 15px;\r\n}\r\n\r\n.MyMapStoreProject .mapstore-right-panel div[role=body], .MyMapStoreProject .mapstore-right-panel .react-swipeable-view-container {\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    position: absolute;\r\n}\r\n\r\n.MyMapStoreProject .mapstore-right-panel .swipeable-view {\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 70px;\r\n    position: absolute;\r\n}\r\n\r\n.MyMapStoreProject .mapstore-right-panel .alert-info {\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin-bottom: 0;\r\n    right: 0;\r\n    left: 0;\r\n}\r\n\r\n.MyMapStoreProject .mapstore-right-panel #mapstore-identify-revgeocoder {\r\n    padding: 15px;\r\n}\r\n\r\n.MyMapStoreProject #container > .chart-color-class-popover.popover {\r\n    z-index: 10000;\r\n}\r\n\r\n.MyMapStoreProject #container > .chart-color-class-popover.popover > .popover-content {\r\n    max-height: 250px;\r\n    overflow-y: auto;\r\n}\r\n",""]);const g=u},99710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(93379),n=r.n(o),i=r(60068);n()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},97671:e=>{e.exports="data:image/gif;base64,R0lGODlhEAALAPQAAP///zMzM+Hh4dnZ2e7u7jc3NzMzM1dXV5qamn9/f8fHx05OTm5ubqGhoYKCgsrKylFRUTY2NnFxcerq6t/f3/b29l9fX+Li4vT09MTExLKystTU1PHx8QAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},24273:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3woCDCsUqrUEAAAAAQxJREFUOMvN0iFLw1EUBfCf02Q0LGhQQVZekiU/gTAYImpasMi6VVBhwSCsi0kQbIJFsBoMBjHdpKDJMjBaxM3yhCn7z4HF29695xzuue/wxxofNkwp1crl8kKn03kswowVEEvYx25utdCKiO6vAimlKZxh+cfoCo2IeC0USClVcY7Zgo2fsR4Rd1+NUh95CzdDyDCHm4z9LoAueiMcvpexAy0sZgvzBeQnrEXE/SALM3hHFZcDyJd59pFSmh5koY1b1FDHXl61m7+zjpWMaX+RJvoEGjjAKZawncFwjSM0cYidYTlYxQkCGzmt56hgMyIuRkliJZPKWeAlH+9hpChnkUkc52czIt78y/oEtThIARE8NNwAAAAASUVORK5CYII="},86509:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/product/assets/img/made-in-italy-logo.png"},79364:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/product/assets/img/mapstore2_logo.png"}}]);