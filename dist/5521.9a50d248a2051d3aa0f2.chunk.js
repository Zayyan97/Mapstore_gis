(self.webpackChunkMyMapStoreProject=self.webpackChunkMyMapStoreProject||[]).push([[5521],{55521:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>$});var r=i(19690),a=i(76180),n=i(45992),o=i(37275),l=i(23502);function s(e){this.proxy=e}function h(){}s.prototype.getURL=function(e){let{url:t,queryString:i}=function(e){let t=e,i="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),i=e.substring(e.indexOf("?")+1)),{url:t,queryString:i}}(e);return 0===t.indexOf("//")&&(t=location.protocol+t),(0,l.b)()+encodeURIComponent(t+i)},h.prototype.getURL=e=>e,r.default.registerType("tileprovider",(e=>{let t,[i,r]=n.Z.getLayerConfig(e.provider,e),u=o.ZP.getProxyUrl({});u&&(t=r.noCors||(0,l.$)(i));const d=r.credits,c=d?new a.Credit(d.text,d.imageUrl,d.link):r.attribution;return new a.UrlTemplateImageryProvider({url:(g=i,f=r,g.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,(function(){let e=arguments[0],t=f[arguments[1]?arguments[1]:arguments[2]];if(void 0===t)throw new Error("No value provided for variable "+e);return"function"==typeof t&&(t=t(f)),t}))),enablePickFeatures:!1,subdomains:r.subdomains,maximumLevel:r.maxZoom,minimumLevel:r.minZoom,credit:c,proxy:t?new s(u):new h});var g,f}));var u=i(27418),d=i.n(u),c=i(1469),g=i.n(c),f=i(18446),m=i.n(f),p=i(72354),y=i.n(p),v=i(24262),S=i(43378),M=i(33044),x=i(33358);const w=function(e){var t={};t.CRS=[{name:"CRS:84",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:e.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],t.FormatImage=[],t.FormatArray=[{format:"image/bil",postProcessArray:function(e,t,i,r,a,n){var o,l=new DataView(e),s=new ArrayBuffer(t.height*t.width*2),h=new DataView(s);if(s.byteLength===e.byteLength){for(var u,d=0;d<s.byteLength;d+=2)(u=l.getInt16(d,n)-a)>r&&u<i?h.setInt16(d,u,!0):h.setInt16(d,0,!0);o=new Int16Array(s)}return o}}],t.WMSParser={},t.TMSParser={},t.WMTSParser={},t.parser=function(i){var r;switch((i=e.defaultValue(i,e.defaultValue.EMPTY_OBJECT)).service){case"TMS":r=t.TMSParser.generate(i);break;case"WMTS":r=t.WMTSParser.generate(i);break;default:r=t.WMSParser.generate(i)}return r},t.WMSParser.generate=function(i){var r;if(i=e.defaultValue(i,e.defaultValue.EMPTY_OBJECT),e.defined(i.url)){var a=i.url,n=a._url+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";e.defined(a.proxy)&&(n=a.proxy.getURL(n)),r=e.when(e.Resource.fetchXML(n),(function(e){return t.WMSParser.getMetaDatafromXML(e,i)}))}else{if(!e.defined(i.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.WMSParser.getMetaDatafromXML(i.xml,i)}return r},t.WMSParser.getMetaDatafromXML=function(i,r){if(!(i instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");if(!e.defined(r.layerName))throw new e.DeveloperError("description.layerName is required.");var a={},n=r.layerName,o=void e.defaultValue(r.maxLevel,11);a.heightMapWidth=e.defaultValue(r.heightMapWidth,65),a.heightMapHeight=e.defaultValue(r.heightMapHeight,a.heightMapWidth);var l={width:65,height:65},s=void 0;a.littleEndian=r.littleEndian,a.formatImage=r.formatImage,a.formatArray=r.formatArray,a.tilingScheme=void 0;var h=void 0,u=void 0;a.ready=!1,a.levelZeroMaximumGeometricError=void 0,a.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof a.waterMask&&(a.waterMask=!1),a.offset=e.defaultValue(r.offset,0),a.highest=e.defaultValue(r.highest,12e3),a.lowest=e.defaultValue(r.lowest,-500);var d=r.styleName;a.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName);var c=i.querySelector("[version]");null!==c&&(o=c.getAttribute("version"),u=/^1\.[3-9]\./.test(o));var g=i.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),f=g.indexOf("?");f>-1&&(g=g.substring(0,f));var m=i.querySelectorAll("Request>GetMap>Format");if(!e.defined(a.formatImage))for(var p=0;p<m.length&&!e.defined(a.formatArray);p++)(y=t.FormatArray.filter((function(e){return e.format===m[p].textContent}))).length>0&&(a.formatArray=y[0]);for(e.defined(a.formatArray)&&"string"==typeof a.formatArray.format&&"function"==typeof a.formatArray.postProcessArray?a.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:a.formatArray=void 0,p=0;p<m.length&&!e.defined(a.formatImage);p++){var y;(y=t.FormatImage.filter((function(e){return e.format===m[p].textContent}))).length>0&&(a.formatImage=y[0])}e.defined(a.formatImage)&&"string"==typeof a.formatImage.format?a.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:a.formatImage=void 0;for(var v,S=i.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),M=0;M<S.length&&!e.defined(v);M++)if(S[M].querySelector("Name").textContent===n){var x=(v=S[M]).getAttribute("fixedHeight"),w=v.getAttribute("fixedWidth");e.defined(x)&&(x=parseInt(x),a.heightMapHeight=x>0&&x<a.heightMapHeight?x:a.heightMapHeight,l.height=x>0?x:l.height),e.defined(w)&&(w=parseInt(w),a.heightMapWidth=w>0&&w<a.heightMapWidth?w:a.heightMapWidth,l.width=w>0?w:l.width)}if(e.defined(v)&&e.defined(o)){for(var T=!1,b=0;b<t.CRS.length&&!T;b++){var C,A,_,I,R=t.CRS[b],P=R.name,L=v.querySelector("BoundingBox[SRS='"+P+"'],BoundingBox[CRS='"+P+"']");if(null!==L)s=P,h=R.firstAxeIsLatitude,a.tilingScheme=new R.tilingScheme({ellipsoid:R.ellipsoid}),h&&u?(C=parseFloat(L.getAttribute("miny")),A=parseFloat(L.getAttribute("maxy")),_=parseFloat(L.getAttribute("minx")),I=parseFloat(L.getAttribute("maxx"))):(C=parseFloat(L.getAttribute("minx")),A=parseFloat(L.getAttribute("maxx")),_=parseFloat(L.getAttribute("miny")),I=parseFloat(L.getAttribute("maxy"))),new e.Rectangle(C,_,A,I),a.getTileDataAvailable=function(e,t,i){return!0},T=!0}if(e.defined(d)){for(var E=v.querySelectorAll("Style>Name"),W=!1,D=0;D<E.length&&!W;D++)d===E[D].textContent&&(W=!0);W||(d=void 0)}for(var q=i.querySelectorAll("VendorSpecificCapabilities>TileSet"),H=!1,V=0;V<q.length&&!H;V++){var k=null!==q[V].querySelector("BoundingBox[SRS='"+s+"'],BoundingBox[CRS='"+s+"']");q[V].querySelector("Layers").textContent===n&&k&&(l.width=parseInt(q[V].querySelector("Width").textContent),l.height=parseInt(q[V].querySelector("Height").textContent),H=!0)}a.ready=T&&(e.defined(a.formatImage)||e.defined(a.formatArray))&&e.defined(o)}if(a.ready){var O=g+"?SERVICE=WMS&REQUEST=GetMap&layers="+n+"&version="+o+"&bbox=";if(O+=u&&h?"{south},{west},{north},{east}":"{west},{south},{east},{north}",O+="&crs="+s+"&srs="+s,a.formatImage){var U=O+"&format="+a.formatImage.format+"&width="+l.width+"&height="+l.height;e.defined(d)&&(U+="&styles="+d+"&style="+d),a.URLtemplateImage=function(){return U},a.imageSize=l}if(a.formatArray){var N=O+"&format="+a.formatArray.format+"&width="+a.heightMapWidth+"&height="+a.heightMapHeight;a.URLtemplateArray=function(){return N}}}return a.proxy=r.proxy,a},t.TMSParser.generate=function(i){var r;if(i=e.defaultValue(i,e.defaultValue.EMPTY_OBJECT),e.defined(i.url))r=e.loadXML(i.url).then((function(e){return t.TMSParser.parseXML(e,i)}));else{if(!e.defined(i.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.TMSParser.parseXML(i.xml,i)}return r},t.TMSParser.parseXML=function(i,r){if(!(i instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var a;if(null!=i.querySelector("TileMapService")){if(!e.defined(r.layerName))throw new e.DeveloperError("layerName is required.");var n=[].slice.apply(i.querySelectorAll("TileMap[title='"+r.layerName+"']")).map((function(i){var a=i.getAttribute("href");return e.when(e.loadXML(a),(function(e){return t.TMSParser.getMetaDatafromXML(e,r)}))}));a=e.when.all(n).then((function(t){for(var i,r=0;r<t.length&&!e.defined(i);r++)e.defined(t[r])&&(i=t[r]);return i})).then((function(e){return e}))}else a=t.TMSParser.getMetaDatafromXML(i,r);return a},t.TMSParser.getMetaDatafromXML=function(i,r){var a={ready:!1};a.heightMapWidth=e.defaultValue(r.heightMapWidth,65),a.heightMapHeight=e.defaultValue(r.heightMapHeight,a.heightMapWidth);var n=e.defaultValue(r.maxLevel,11);r.proxy,a.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName),a.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof a.waterMask&&(a.waterMask=!1),a.offset=e.defaultValue(r.offset,0),a.highest=e.defaultValue(r.highest,12e3),a.lowest=e.defaultValue(r.lowest,-500);var o=i.querySelector("SRS").textContent,l=t.CRS.filter((function(e){return e.name===o}));l.length>0&&(a.tilingScheme=new l[0].tilingScheme({ellipsoid:l[0].ellipsoid}));var s=i.querySelector("TileFormat"),h=t.FormatImage.filter((function(e){return e.extension==s.getAttribute("extension")}));h.length>0&&(a.formatImage=h[0],a.imageSize={},a.imageSize.width=parseInt(s.getAttribute("width")),a.imageSize.height=parseInt(s.getAttribute("height")));var u=[].slice.call(i.querySelectorAll("TileSets>TileSet")),d=[];if(e.defined(a.formatImage)&&((d=u.map((function(e){return{url:e.getAttribute("href")+"/{x}/{tmsY}."+a.formatImage.extension,level:parseInt(e.getAttribute("order"))}}))).sort((function(e,t){return e.level-t.level})),d.length>0&&(a.tileSets=d)),e.defined(a.tileSets)&&e.defined(a.formatImage)&&e.defined(a.tilingScheme)){a.URLtemplateImage=function(e,t,i){var r="";return i<d.length&&(r=d[i].url),r};var c=i.querySelector("BoundingBox"),g=parseFloat(c.getAttribute("miny")),f=parseFloat(c.getAttribute("maxy")),m=parseFloat(c.getAttribute("minx")),p=parseFloat(c.getAttribute("maxx")),y=new e.Rectangle(m,g,p,f);a.getTileDataAvailable=function(t,i,r){var o,l,s,h,u,c,g=a.tilingScheme.tileXYToNativeRectangle(t,i,r),f=(o=y,l=g,s=Math.max(o.west,l.west),h=Math.min(o.east,l.east),u=Math.max(o.south,l.south),c=Math.min(o.north,l.north),h<=s||u>=c?void 0:new e.Rectangle(s,u,h,c));return e.defined(f)&&r<n&&r<d.length},a.ready=!0}else a=void 0;return a.proxy=r.proxy,a},t.WMTSParser.generate=function(i){var r;if(i=e.defaultValue(i,e.defaultValue.EMPTY_OBJECT),e.defined(i.url)){var a=i.url,n=a.lastIndexOf("?");n>-1&&(a=a.substring(0,n));var o=a+"?REQUEST=GetCapabilities";e.defined(i.proxy)&&(o=i.proxy.getURL(o)),r=e.loadXML(o).then((function(e){return t.WMTSParser.getMetaDatafromXML(e,i)}))}else{if(!e.defined(i.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.WMTSParser.getMetaDatafromXML(i.xml,i)}return r},t.WMTSParser.getMetaDatafromXML=function(i,r){if(!(i instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var a={},n=r.layerName;a.ready=!1,a.heightMapWidth=e.defaultValue(r.heightMapWidth,65),a.heightMapHeight=e.defaultValue(r.heightMapHeight,a.heightMapWidth);var o,l=e.defaultValue(r.maxLevel,12),s=(r.proxy,r.styleName);a.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName),a.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof a.waterMask&&(a.waterMask=!1),a.offset=e.defaultValue(r.offset,0),a.highest=e.defaultValue(r.highest,12e3),a.lowest=e.defaultValue(r.lowest,-500);for(var h,u,d,c=[],g=[].slice.call(i.querySelectorAll('Operation[name="GetTile"] HTTP Get')).map((function(e){var t,i=e.querySelector("Value").textContent;return"KVP"===i&&(t={node:e,type:"KVP"}),"RESTful"===i&&(t={node:e,type:"RESTful"}),t})).filter((function(t){return e.defined(t)})),f=0;f<g.length;f++){var m=g[f];"RESTful"!==m.type||e.defined(u)||(u=m.node.getAttribute("xlink:href")),"KVP"!==m.type||e.defined(h)||(h=m.node.getAttribute("xlink:href"))}var p,y=i.querySelectorAll("Contents>Layer>Identifier");for(f=0;f<y.length&&!e.defined(p);f++)n===y[f].textContent&&(p=y[f].parentNode);if(e.defined(p)){var v,S,M=p.querySelectorAll("Style");for(f=0;f<M.length;f++){var x=M[f].querySelector("Identifier").textContent;null!=M[f].getAttribute("isDefault")&&(v=x),x===s&&(S=x)}e.defined(s)&&s==S||(s=e.defaultValue(v,""));for(var w=[].slice.call(p.querySelectorAll("Format")),T=0;T<t.FormatImage.length&&!e.defined(d);T++)w.filter((function(e){return e.textContent===t.FormatImage[T].format})).length>0&&(d=t.FormatImage[T]);c=p.querySelectorAll("TileMatrixSetLink")}for(var b=[].slice.call(i.querySelectorAll("TileMatrixSet>Identifier")),C=0;C<c.length&&!a.ready;C++){var A,_,I=c[C],R=I.querySelector("TileMatrixSet").textContent;for(f=0;f<b.length&&!e.defined(A);f++)b[f].textContent===R&&(A=b[f].parentNode);for(var P=A.querySelector("SupportedCRS").textContent,L=0;L<t.CRS.length&&!e.defined(_);L++)t.CRS[L].SupportedCRS===P&&(_=t.CRS[L]);if(e.defined(_)){var E,W=[].slice.call(A.querySelectorAll("TileMatrix"));(E=W.map((function(e){var t=e.querySelector("Identifier").textContent,i=parseInt(e.querySelector("MatrixWidth").textContent),r=parseInt(e.querySelector("MatrixHeight").textContent),a=parseInt(e.querySelector("TileWidth").textContent),n=parseInt(e.querySelector("TileHeight").textContent);return{id:t,maxWidth:i,maxHeight:r,scaleDenominator:parseFloat(e.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:a,tileHeight:n}}))).sort((function(e,t){return t.scaleDenominator-e.scaleDenominator})),listTileMatrixLimits=I.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var D=0;D<E.length;D++)for(var q=E[D],H=0;H<listTileMatrixLimits.length;H++){var V=listTileMatrixLimits[H];q.id===V.querySelector("TileMatrix").textContent&&(q.minTileRow=parseInt(V.querySelector("MinTileRow").textContent),q.maxTileRow=parseInt(V.querySelector("MaxTileRow").textContent),q.minTileCol=parseInt(V.querySelector("MinTileCol").textContent),q.maxTileCol=parseInt(V.querySelector("MaxTileCol").textContent),q.complete=!0,E[D]=q)}if(E.length>0){a.tilingScheme=new _.tilingScheme({ellipsoid:_.ellipsoid,numberOfLevelZeroTilesX:E[0].maxWidth,numberOfLevelZeroTilesY:E[0].maxHeight});var k=p.querySelector("ResourceURL[format='"+d.format+"']");if(null!=k?o=k.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",s).replace("{TileMatrixSet}",R).replace("{layer}",n).replace("{infoFormatExtension}",d.extension):e.defined(h)&&(o=h+"service=WMTS&request=GetTile&version=1.0.0&layer="+n+"&style=&"+s+"format="+d.format+"&TileMatrixSet="+R+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),e.defined(o)){a.getTileDataAvailable=function(e,t,i){var r=!1;if(i<l&&i<E.length){var a=E[i];r=a.complete?t<=a.maxTileRow&&t>=a.minTileRow&&e<=a.maxTileCol&&e>=a.minTileCol:e<a.maxWidth&&t<a.maxHeight}return r},a.URLtemplateImage=function(e,t,i){var r="";if(a.getTileDataAvailable(e,t,i)){var n=E[i];r=o.replace("{TileMatrix}",n.id)}return r};var O={width:E[0].tileWidth,height:E[0].tileHeight};0==E.filter((function(e){return e.tileWidth!=O.width||e.tileHeight!=O.height})).length&&(a.imageSize=O),a.ready=!0}}}}return a.proxy=r.proxy,a};var i=function(n){if(!e.defined(n))throw new e.DeveloperError("description is required.");var o,l,s=new e.Event,h=n.credit;"string"==typeof h&&(h=new e.Credit(h)),this.ready=!1,Object.defineProperties(this,{errorEvent:{get:function(){return s}},credit:{get:function(){return h}},hasVertexNormals:{get:function(){return!1}}}),o=t.parser(n),l=this,e.when(o,(function(t){e.defined(t)&&t.ready&&(t.levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(t.tilingScheme.ellipsoid,t.heightMapWidth,t.tilingScheme.getNumberOfXTilesAtLevel(0)),e.defined(t.URLtemplateImage)&&(t.getHeightmapTerrainDataImage=function(n,o,s){var h;if(!isNaN(n+o+s)){var u=r(t.URLtemplateImage(n,o,s),n,o,s,l),d={highest:t.highest,lowest:t.lowest,offset:t.offset},c=t.proxy||{getURL:e=>e},g=a(n,o,s,l),f=e.Resource.fetchImage({url:c.getURL(u),request:new e.Request({throttleByServer:!0})});e.defined(f)&&(h=e.when(f,(function(e){return i.imageToHeightmapTerrainData(e,d,{width:t.heightMapWidth,height:t.heightMapHeight},t.waterMask,g,t.hasStyledImage)})).otherwise((function(){return new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:g,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return h}),e.defined(t.URLtemplateArray)&&(t.getHeightmapTerrainDataArray=function(n,o,s){var h;if(!isNaN(n+o+s)){var u=r(t.URLtemplateArray(n,o,s),n,o,s,l),d={highest:t.highest,lowest:t.lowest,offset:t.offset},c=a(n,o,s,l),g=t.proxy||{getURL:e=>e},f=e.Resource.fetchArrayBuffer({url:g.getURL(u),request:new e.Request({throttleByServer:!0})});e.defined(f)&&(h=e.when(f,(function(e){return i.arrayToHeightmapTerrainData(e,d,{width:t.heightMapWidth,height:t.heightMapHeight},t.formatArray,t.waterMask,t.littleEndian,c)})).otherwise((function(){return e.defined(t.getHeightmapTerrainDataImage)?t.getHeightmapTerrainDataImage(n,o,s):new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:c,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return h}),l.getLevelMaximumGeometricError=function(e){return t.levelZeroMaximumGeometricError/(1<<e)},l.requestTileGeometry=function(i,r,a){var n;return e.defined(t.getHeightmapTerrainDataArray)?n=t.getHeightmapTerrainDataArray(i,r,a):e.defined(t.getHeightmapTerrainDataImage)&&(n=t.getHeightmapTerrainDataImage(i,r,a)),n},Object.defineProperties(l,{tilingScheme:{get:function(){return t.tilingScheme}},ready:{get:function(){return t.ready}},hasWaterMask:{get:function(){return t.waterMask}},heightMapHeight:{get:function(){return t.heightMapHeight}},heightMapWidth:{get:function(){return t.heightMapWidth}},getTileDataAvailable:{get:function(){return t.getTileDataAvailable}}}))}))};function r(e,t,i,r,a){let{getURL:n=(e=>e)}=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var o=a.tilingScheme.tileXYToNativeRectangle(t,i,r),l=(o.east-o.west)/(a.heightMapWidth-1),s=(o.north-o.south)/(a.heightMapHeight-1);o.west-=.5*l,o.east+=.5*l,o.south-=.5*s,o.north+=.5*s;var h=a.tilingScheme.getNumberOfYTilesAtLevel(r)-i-1;return e.replace("{south}",o.south).replace("{north}",o.north).replace("{west}",o.west).replace("{east}",o.east).replace("{x}",t).replace("{y}",i).replace("{tmsY}",h)}function a(e,t,i,r){var a=0,n=i+1;return a|=r.getTileDataAvailable(2*e,2*t,n)?1:0,a|=r.getTileDataAvailable(2*e+1,2*t,n)?2:0,(a|=r.getTileDataAvailable(2*e,2*t+1,n)?4:0)|(r.getTileDataAvailable(2*e+1,2*t+1,n)?8:0)}return i.arrayToHeightmapTerrainData=function(t,i,r,a,n,o,l){"number"==typeof r&&(r={width:r,height:r});var s=a.postProcessArray(t,r,i.highest,i.lowest,i.offset,o);if(!e.defined(s))throw new e.DeveloperError("no good size");var h={buffer:s,width:r.width,height:r.height,childTileMask:l,structure:a.terrainDataStructure};if(n){for(var u=new Uint8Array(s.length),d=0;d<s.length;d++)s[d]<=0&&(u[d]=255);h.waterMask=u}return new e.HeightmapTerrainData(h)},i.imageToHeightmapTerrainData=function(t,i,r,a,n,o){"number"==typeof r&&(r={width:r,height:r});for(var l=e.getImagePixels(t,r.width,r.height),s=new Uint8Array(l.length/4),h=new Int16Array(l.length/4),u=0,d=0,c=0;c<l.length;c+=4){var g=l[c],f=l[c+1],m=l[c+2]>128,p=(g<<8|f)-i.offset-32768;p>i.lowest&&p<i.highest&&(m||o)?(h[c/4]=p,d+=p,u++):h[c/4]=0==u?0:d/u}var y={buffer:h,width:r.width,height:r.height,childTileMask:n,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(a){for(s=new Uint8Array(heightBuffer.length),c=0;c<heightBuffer.length;c++)heightBuffer[c]<=0&&(s[c]=255);y.waterMask=s}return new e.HeightmapTerrainData(y)},i}(a);function T(e){let t=e,i="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),i=e.substring(e.indexOf("?")+1)),{url:t,queryString:i}}function b(e){this.proxy=e}function C(){}b.prototype.getURL=function(e){let{url:t,queryString:i}=T(e);return(0,l.b)()+encodeURIComponent(t+i)},C.prototype.getURL=function(e){let{url:t,queryString:i}=T(e);return t+i};const A=e=>{let t;return e.useForElevation?new w(function(e){let t,i=e.url,r=o.ZP.getProxyUrl({});r&&(t=e.noCors||(0,l.$)(i));const n=(0,M.getAuthenticationHeaders)(i,e.securityToken);return d()({url:new a.Resource({url:i,headers:n,proxy:t?new b(r):new C}),littleEndian:e.littleendian||!1,layerName:e.name})}(e)):(t=e.singleTile?new a.SingleTileImageryProvider(function(e){const t=void 0!==e.opacity?e.opacity:1,i=(0,S.v)(e),r=d()({styles:e.style||"",format:((0,x.z)(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,layers:e.name,width:e.size||2e3,height:e.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},i||{},(0,v.QW)(e)),n=(g()(e.url)?e.url[Math.round(Math.random()*(e.url.length-1))]:e.url)+"?service=WMS&version=1.1.0&request=GetMap&"+function(e){return Object.keys(e).map((t=>t+"="+encodeURIComponent(e[t]))).join("&")}((0,M.addAuthenticationToSLD)(r,e)),o=(0,M.getAuthenticationHeaders)(n,e.securityToken);return{url:new a.Resource({url:n,headers:o})}}(e)):new a.WebMapServiceImageryProvider(function(e){var t=void 0!==e.opacity?e.opacity:1;const i=(0,S.v)(e);let r,n=o.ZP.getProxyUrl({});n&&(r=(0,l.$)(e.url)&&n);const s=e.credits,h=s?new a.Credit(s.text||s.title,s.imageUrl,s.link):e.attribution,u=(0,v.D$)(g()(e.url)?e.url:[e.url]),c=(0,M.getAuthenticationHeaders)(u[0],e.securityToken);return d()({url:new a.Resource({url:"{s}",headers:c,proxy:r&&new b(r)||new C}),tileDiscardPolicy:"none"===e.tileDiscardPolicy?void 0:e.tileDiscardPolicy??new a.NeverTileDiscardPolicy,credit:h,subdomains:u,layers:e.name,enablePickFeatures:!1,parameters:d()({styles:e.style||"",format:((0,x.z)(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,width:e.tileSize||256,height:e.tileSize||256},d()({},e._v_?{_v_:e._v_}:{},i||{},(0,v.QW)(e)))})}(e)),t.updateParams=t=>{const i=d()({},e,{params:d()({},e.params||{},t)});return A(i)},t)};r.default.registerType("wms",{create:A,update:(e,t,i)=>{const r=t&&t.params,a=i&&i.params,n={...r,...a};return Object.keys({...t,...i,...n}).filter((e=>y().PARAM_OPTIONS.indexOf(e.toLowerCase())>=0)).filter((e=>{const n=void 0===i[e]?a&&a[e]:i[e],o=void 0===t[e]?r&&r[e]:t[e];return!m()(n,o)})).length>0||t.securityToken!==i.securityToken||!m()(t.layerFilter,i.layerFilter)||t.tileSize!==i.tileSize?A(t):null}});var _=i(7294),I=i(13218),R=i.n(I),P=i(12571),L=i.n(P),E=i(27361),W=i.n(E),D=i(91175),q=i.n(D),H=i(72500),V=i.n(H);function k(e){let t=e,i="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),i=e.substring(e.indexOf("?")+1)),{url:t,queryString:i}}function O(e){this.proxy=e}function U(){}O.prototype.getURL=function(e){let{url:t,queryString:i}=k(e);return(0,l.b)()+encodeURIComponent(t+i)},U.prototype.getURL=function(e){let{url:t,queryString:i}=k(e);return t+i};const N=e=>e.indexOf("EPSG:4326")>=0?new a.GeographicTilingScheme:e.indexOf("EPSG:3857")>=0?new a.WebMercatorTilingScheme:null,G=(e,t)=>{const i=_.C2(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),r=(a=e.matrixIds&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(R()(e)&&e[t]||g()(e)&&e||[]).map((e=>e.identifier))}(e.matrixIds,i)||function(e){let t=new Array(30);for(let i=0;i<30;++i)t[i]=e.tileMatrixPrefix+i;return t}(e),a.length>n?L()(a,0,n):a.length<n?a.concat(new Array(n-a.length)):a);var a,n;return{tileMatrixSet:i,matrixIds:r}},F=e=>{let t;const i=function(e){let t="EPSG:4326",{tileMatrixSet:i,matrixIds:r}=G(e,t);if(0===r.length){t="EPSG:3857";const a=G(e,t);i=a.tileMatrixSet,r=a.matrixIds}let n,s=o.ZP.getProxyUrl({});s&&(n=(0,l.$)(e.url)&&s);const h=(c=e.matrixIds&&e.matrixIds[i],(e,t,i)=>c&&c[i]&&!c[i].ranges||e<=parseInt(W()(c[i],"ranges.cols.max"),10)&&e>=parseInt(W()(c[i],"ranges.cols.min"),10)&&t<=parseInt(W()(c[i],"ranges.rows.max"),10)&&t>=parseInt(W()(c[i],"ranges.rows.min"),10)),u=V().format({query:{...(0,v.QW)(e)}});var c;return d()({url:new a.Resource({url:q()((0,v.D$)(g()(e.url)?e.url:[e.url],u)),proxy:n&&new O(n)||new U}),format:((0,x.z)(e.format)?"image/png":e.format)||"image/png",isValid:h,layer:e.name,style:e.style||"",tileMatrixLabels:r,tilingScheme:N(t,e.matrixIds[i]),enablePickFeatures:!1,tileWidth:e.tileWidth||e.tileSize||256,tileHeight:e.tileHeight||e.tileSize||256,tileMatrixSetID:i,maximumLevel:30,parameters:{...(0,v.QW)(e)}})}(e);t=new a.WebMapTileServiceImageryProvider(i);const r=t.requestImage;return t.requestImage=(e,a,n)=>i.isValid(e,a,n)?r.bind(t)(e,a,n):new Promise((()=>{})),t.updateParams=t=>{const i=d()({},e,{params:d()({},e.params||{},t)});return F(i)},t};function B(){let{color:e="#ffffff"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tilingScheme=new a.GeographicTilingScheme,this._readyPromise=a.when.resolve(!0),this._canvas=document.createElement("canvas"),this._canvas.width=1,this._canvas.height=1;const t=this._canvas.getContext("2d");t.fillStyle=e,t.fillRect(0,0,this._canvas.width,this._canvas.height)}r.default.registerType("wmts",{create:F,update:(e,t,i)=>t.securityToken!==i.securityToken||i.format!==t.format?F(t):null}),r.default.registerType("marker",{create:(e,t)=>{const i={point:{pixelSize:5,color:a.Color.RED,outlineColor:a.Color.WHITE,outlineWidth:2},...e.style},r=t.entities.add({position:a.Cartesian3.fromDegrees(e.point.lng,e.point.lat),...i});return{detached:!0,point:r,remove:()=>{t.entities.remove(r)}}},update:function(e,t,i,r){return m()(t.point,i.point)&&t.visibility===i.visibility?null:(e.remove(),t.visibility?this.create(t,r):null)}}),Object.defineProperties(B.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){}},tileHeight:{get:function(){}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),B.prototype.getTileCredits=function(){},B.prototype.requestImage=function(){return this._canvas},B.prototype.pickFeatures=function(){},r.default.registerType("empty",(()=>new B({color:"#ffffff"}))),r.default.registerType("bing",(e=>{const t=e.apiKey;return new a.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:a.BingMapsStyle[e.name.toUpperCase()]})}));const X=function(){let e=[a.Math.toRadians(.05),a.Math.toRadians(.1),a.Math.toRadians(.2),a.Math.toRadians(.5),a.Math.toRadians(1),a.Math.toRadians(2),a.Math.toRadians(5),a.Math.toRadians(10)];function t(e,t){let i=e||{};this._tilingScheme=i.tilingScheme||new a.GeographicTilingScheme,this._color=i.color&&new a.Color(i.color[0],i.color[1],i.color[2],i.color[3])||new a.Color(1,1,1,.4),this._tileWidth=i.tileWidth||256,this._tileHeight=i.tileHeight||256,this._ready=!0,this._sexagesimal=i.sexagesimal||!1,this._numLines=i.numLines||50,this._scene=t,this._labels=new a.LabelCollection,t.primitives.add(this._labels),this._polylines=new a.PolylineCollection,t.primitives.add(this._polylines),this._ellipsoid=t.globe.ellipsoid;let r=document.createElement("canvas");r.width=256,r.height=256,this._canvas=r}let i=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),r=Object.defineProperties;function n(e){return e<.01?3:e<.1?2:e<1?1:0}return i&&r||(r=function(e){return e}),r(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(e,t,i,r){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new a.Cartographic(e,t,10)),text:i,font:"normal",fillColor:this._color,outlineColor:this._color,style:a.LabelStyle.FILL,pixelOffset:new a.Cartesian2(5,r?5:-5),eyeOffset:a.Cartesian3.ZERO,horizontalOrigin:a.HorizontalOrigin.LEFT,verticalOrigin:r?a.VerticalOrigin.BOTTOM:a.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(this._currentExtent&&this._currentExtent.equals(t))return;this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();let i=0,r=0;for(let r=0;r<e.length&&i<(t.north-t.south)/10;r++)i=e[r];for(let i=0;i<e.length&&r<(t.east-t.west)/10;i++)r=e[i];let o=(t.west<0?Math.ceil(t.west/r):Math.floor(t.west/r))*r,l=(t.south<0?Math.ceil(t.south/i):Math.floor(t.south/i))*i,s=(t.east<0?Math.ceil(t.east/i):Math.floor(t.east/i))*i,h=(t.north<0?Math.ceil(t.north/r):Math.floor(t.north/r))*r;o=Math.max(o-2*r,-Math.PI),s=Math.min(s+2*r,Math.PI),l=Math.max(l-2*i,-Math.PI/2),h=Math.min(h+2*r,Math.PI/2);let u=this._ellipsoid,d=a.Math.toRadians(1),c=l+Math.floor((h-l)/i/2)*i;for(let e=o;e<s;e+=r){let t=[];for(let i=l;i<h;i+=d)t.push(new a.Cartographic(e,i));t.push(new a.Cartographic(e,h)),this._polylines.add({positions:u.cartographicArrayToCartesianArray(t),width:.75,material:new a.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});let i=a.Math.toDegrees(e);this.makeLabel(e,c,this._sexagesimal?this._decToSex(i):i.toFixed(n(r)),!1)}let g=o+Math.floor((s-o)/r/2)*r;for(let e=l;e<h;e+=i){let t=[];for(let i=o;i<s;i+=d)t.push(new a.Cartographic(i,e));t.push(new a.Cartographic(s,e)),this._polylines.add({positions:u.cartographicArrayToCartesianArray(t),width:1,material:new a.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});let r=a.Math.toDegrees(e);this.makeLabel(g,e,this._sexagesimal?this._decToSex(r):r.toFixed(n(i)),!0)}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(e){this._show=e,e?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){let i=Math.floor(t),r=(60*(Math.abs(t)-i)).toFixed(2);return"60.00"===r&&(i+=1,e="0.00"),[i,":",r].join("")},t.prototype._getExtentView=function(){const e=this._scene.camera,t=this._scene.canvas,i=[e.pickEllipsoid(new a.Cartesian2(0,0),this._ellipsoid),e.pickEllipsoid(new a.Cartesian2(t.width,0),this._ellipsoid),e.pickEllipsoid(new a.Cartesian2(0,t.height),this._ellipsoid),e.pickEllipsoid(new a.Cartesian2(t.width,t.height),this._ellipsoid)];for(let e=0;e<4;e++)if(void 0===i[e])return a.Rectangle.MAX_VALUE;return a.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(i))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}(),z=(e,t)=>{const i=t.scene,r=new X({tileWidth:512,tileHeight:512,numLines:10,...e},i);return e.visibility&&r.setVisible(!0),r};r.default.registerType("graticule",{create:z,update:(e,t,i,r)=>t.visibility!==i.visibility&&(e.setVisible(!1),t.visibility)?z(t,r):null}),r.default.registerType("osm",(()=>new a.OpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})));var Z=i(98143),j=i.n(Z);const Y=function(){function e(e){this._scene=e.scene;let t=document.createElement("div");t.className="infoWindow",this._div=t;let i=document.createElement("div");i.className="frame",this._div.appendChild(i);let r=document.createElement("div");r.className="content",i.appendChild(r),e.container.appendChild(t),this._content=r,this.setVisible(!0),this._div.style.position="absolute"}return e.prototype.setVisible=function(e){this._visible=e,this._div.style.display=e?"block":"none"},e.prototype.setContent=function(e){if("string"==typeof e)this._content.innerHTML=e;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(e)}},e.prototype.setPosition=function(e,t){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(a.Cartographic.fromDegrees(t,e,0))},e.prototype.showAt=function(e,t,i){this.setPosition(e,t),this.setContent(i),this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.computeVisible=function(){const e=6378137,t=6378137,i=6356752.314245179,r=this._scene.camera.position,a=r.x/e,n=r.y/t,o=r.z/i,l=a*a+n*n+o*o-1,s=this._position,h=s.x/e-a,u=s.y/t-n,d=s.z/i-o,c=-(h*a+u*n+d*o);c>l&&c*c/(h*h+u*u+d*d)>l?this.setVisible(!1):this.setVisible(!0)},e.prototype.update=function(){if(this.computeVisible(),!this._visible||!this._position)return;let e=a.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(e){let t=Math.floor(e.x)-this._div.clientWidth/2+"px",i=Math.floor(e.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=t,this._div.style.top=i}},e.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},e}(),Q=e=>{if(0!==e.length)for(let t=0;t<e.length;t++){let i=e.item(t);i.removeAttribute("data-reactid"),Q(i.children||[])}};r.default.registerType("overlay",{create:(e,t)=>{const i=((e,t)=>{let i=e.cloneNode(!0);i.id=t.id+"-overlay",i.className=(t.className||e.className)+"-overlay",i.removeAttribute("data-reactid"),Q(i.children||[]);const r=t.closeClass||"close";if(t.onClose&&1===i.getElementsByClassName(r).length){const e=i.getElementsByClassName(r)[0],a=e=>{t.onClose(e.target.getAttribute("data-overlayid"))};j().add(e,"click",a)}return i})(document.getElementById(e.id),e);let r=new Y(t);r.showAt(e.position.y,e.position.x,i),r.setVisible(!0);let a=t.scene.primitives.add(r);return{detached:!0,info:a,remove:()=>{t.scene.primitives.remove(a)}}},update:function(e,t,i,r){return m()(t.position,i.position)&&t.visibility===i.visibility?null:(e.remove(),t.visibility?this.create(t,r):null)}});const $={}},72354:e=>{e.exports={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]}}}]);