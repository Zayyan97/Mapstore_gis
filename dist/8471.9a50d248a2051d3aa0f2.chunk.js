(self.webpackChunkMyMapStoreProject=self.webpackChunkMyMapStoreProject||[]).push([[8471,2600],{29217:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var o=i(49179),n=i(66575),r=i(73381);const s=function(t){function e(e,i,o,n){t.call(this),this.extent=e,this.pixelRatio_=o,this.resolution=i,this.state=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(r.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,o.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,o.O3)()},e}(n.Z)},78471:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>ci});var o=i(49179),n=i(78426),r=i(19629),s=i(32062),a=i(91358),h=i(30006),l=i(86968),p=i(13002),c=i(66575);const u="pointermove",d="pointerdown";var _=i(14303),g=i(34681),v=["","unavailable","touch","pen","mouse"];function f(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function y(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function m(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function E(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function T(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function x(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function S(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function R(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var C=function(t){function e(e){var i={MSPointerDown:f,MSPointerMove:y,MSPointerUp:m,MSPointerOut:E,MSPointerOver:T,MSPointerCancel:x,MSGotPointerCapture:R,MSLostPointerCapture:S};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=v[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(g.Z);const L=C;function I(t){this.dispatcher.fireNativeEvent(t)}function w(t){this.dispatcher.fireNativeEvent(t)}function b(t){this.dispatcher.fireNativeEvent(t)}function O(t){this.dispatcher.fireNativeEvent(t)}function Z(t){this.dispatcher.fireNativeEvent(t)}function A(t){this.dispatcher.fireNativeEvent(t)}function D(t){this.dispatcher.fireNativeEvent(t)}function k(t){this.dispatcher.fireNativeEvent(t)}var M=function(t){function e(e){var i={pointerdown:I,pointermove:w,pointerup:b,pointerout:O,pointerover:Z,pointercancel:A,gotpointercapture:k,lostpointercapture:D};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g.Z);const P=M;var F=i(9520),N=!1,G=function(t){function e(e,i,o){t.call(this,e),this.originalEvent=i;var n=o||{};this.buttons=function(t){var e;if(t.buttons||N)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(n),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(n,this.buttons),this.bubbles="bubbles"in n&&n.bubbles,this.cancelable="cancelable"in n&&n.cancelable,this.view="view"in n?n.view:null,this.detail="detail"in n?n.detail:null,this.screenX="screenX"in n?n.screenX:0,this.screenY="screenY"in n?n.screenY:0,this.clientX="clientX"in n?n.clientX:0,this.clientY="clientY"in n?n.clientY:0,this.ctrlKey="ctrlKey"in n&&n.ctrlKey,this.altKey="altKey"in n&&n.altKey,this.shiftKey="shiftKey"in n&&n.shiftKey,this.metaKey="metaKey"in n&&n.metaKey,this.button="button"in n?n.button:0,this.relatedTarget="relatedTarget"in n?n.relatedTarget:null,this.pointerId="pointerId"in n?n.pointerId:0,this.width="width"in n?n.width:0,this.height="height"in n?n.height:0,this.tiltX="tiltX"in n?n.tiltX:0,this.tiltY="tiltY"in n?n.tiltY:0,this.pointerType="pointerType"in n?n.pointerType:"",this.hwTimestamp="hwTimestamp"in n?n.hwTimestamp:0,this.isPrimary="isPrimary"in n&&n.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F.ZP);!function(){try{var t=new MouseEvent("click",{buttons:1});N=1===t.buttons}catch(t){}}();const K=G;var Y=i(79682);function W(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function X(t){this.processTouches_(t,this.moveOverOut_)}function H(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function V(t){this.processTouches_(t,this.cancelOut_)}var U=function(t){function e(e,i){var o={touchstart:W,touchmove:X,touchend:H,touchcancel:V};t.call(this,e,o),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&_.yA.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),o=i.length;function n(){t.preventDefault()}for(var r=0;r<o;++r){var s=this.touchToPointer_(t,i[r]);s.preventDefault=n,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,o=0;o<i;o++)if(t[o].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),o=i.length;if(o>=e.length){for(var n=[],r=0;r<o;++r){var s=Number(i[r]),a=this.pointerMap[s];s==_.yA||this.findTouch_(e,s-2)||n.push(a.out)}for(var h=0;h<n.length;++h)this.cancelOut_(t,n[h])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,o=this.pointerMap[i.pointerId];if(o){var n=o.out,r=o.outTarget;this.dispatcher.move(i,t),n&&r!==i.target&&(n.relatedTarget=i.target,i.relatedTarget=r,n.target=r,i.target?(this.dispatcher.leaveOut(n,t),this.dispatcher.enterOver(i,t)):(i.target=r,i.relatedTarget=null,this.cancelOut_(t,i))),o.out=i,o.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var o=[i.clientX,i.clientY];e.push(o),setTimeout((function(){(0,Y.Od)(e,o)}),this.dedupTimeout_)}},e}(g.Z);const B=U;var z=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];const j=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(a.GQ)this.registerSource("native",new P(this));else if(a.NL)this.registerSource("ms",new L(this));else{var t=new _.ZP(this);this.registerSource("mouse",t),a.Qm&&this.registerSource("touch",new B(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,o=i.getEvents();o&&(o.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){(0,p.oL)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){(0,p.Ev)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},o=0,n=z.length;o<n;o++){var r=z[o][0];i[r]=t[r]||e[r]||z[o][1]}return i},e.prototype.down=function(t,e){this.fireEvent(d,t,e)},e.prototype.move=function(t,e){this.fireEvent(u,t,e)},e.prototype.up=function(t,e){this.fireEvent("pointerup",t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent("pointerenter",t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent("pointerleave",t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent("pointerover",t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent("pointerout",t,e)},e.prototype.cancel=function(t,e){this.fireEvent("pointercancel",t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new K(t,i,e)},e.prototype.fireEvent=function(t,e,i){var o=this.makeEvent(t,e,i);this.dispatchEvent(o)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,(0,_.R)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(c.Z),q=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*a.MP:a.MP,this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new j(o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,p.oL)(this.pointerEventHandler_,d,this.handlePointerDown_,this),this.relayedListenerKey_=(0,p.oL)(this.pointerEventHandler_,u,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new l.Z(h.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new l.Z(h.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new l.Z(h.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==h.Z.POINTERUP||e.type==h.Z.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==h.Z.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new l.Z(h.Z.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(p.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new l.Z(h.Z.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new j(document),this.dragListenerKeys_.push((0,p.oL)(this.documentPointerEventHandler_,h.Z.POINTERMOVE,this.handlePointerMove_,this),(0,p.oL)(this.documentPointerEventHandler_,h.Z.POINTERUP,this.handlePointerUp_,this),(0,p.oL)(this.pointerEventHandler_,h.Z.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new l.Z(h.Z.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new l.Z(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,p.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,p.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(p.bN),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(c.Z);var J=i(10255),Q=i(40188),$=i(39850),tt=i(97208),et=i(58493),it=i(13910),ot=i(59900),nt=i(73381),rt=i(38906),st=i(13580),at=1/0,ht=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};ht.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,st.ZH)(this.queuedElements_)},ht.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var o=this.keyFunction_(i);return delete this.queuedElements_[o],i},ht.prototype.enqueue=function(t){(0,rt.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=at&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ht.prototype.getCount=function(){return this.elements_.length},ht.prototype.getLeftChildIndex_=function(t){return 2*t+1},ht.prototype.getRightChildIndex_=function(t){return 2*t+2},ht.prototype.getParentIndex_=function(t){return t-1>>1},ht.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},ht.prototype.isEmpty=function(){return 0===this.elements_.length},ht.prototype.isKeyQueued=function(t){return t in this.queuedElements_},ht.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},ht.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,o=e.length,n=e[t],r=i[t],s=t;t<o>>1;){var a=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),l=h<o&&i[h]<i[a]?h:a;e[t]=e[l],i[t]=i[l],t=l}e[t]=n,i[t]=r,this.siftDown_(s,t)},ht.prototype.siftDown_=function(t,e){for(var i=this.elements_,o=this.priorities_,n=i[e],r=o[e];e>t;){var s=this.getParentIndex_(e);if(!(o[s]>r))break;i[e]=i[s],o[e]=o[s],e=s}i[e]=n,o[e]=r},ht.prototype.reprioritize=function(){var t,e,i,o=this.priorityFunction_,n=this.elements_,r=this.priorities_,s=0,a=n.length;for(e=0;e<a;++e)(i=o(t=n[e]))==at?delete this.queuedElements_[this.keyFunction_(t)]:(r[s]=i,n[s++]=t);n.length=s,r.length=s,this.heapify_()};var lt=function(t){function e(e,i){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var o=e[0];(0,p.oL)(o,nt.Z.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===ot.Z.LOADED||i===ot.Z.ERROR||i===ot.Z.EMPTY||i===ot.Z.ABORT){(0,p.Ev)(e,nt.Z.CHANGE,this.handleTileChange,this);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,o,n,r=0,s=!1;this.tilesLoading_<t&&r<e&&this.getCount()>0;)n=(o=this.dequeue()[0]).getKey(),(i=o.getState())===ot.Z.ABORT?s=!0:i!==ot.Z.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++r,o.load());0===r&&s&&this.tileChangeCallback_()},e}(ht);const pt=lt;var ct=i(76773),ut=i(6908),dt=i(85386),_t=i(21915),gt=i(64011),vt=i(31742),ft=i(50596),yt=i(82359),mt=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,o,r,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new vt.default({layers:t.layers});return s[$.Z.LAYERGROUP]=a,s[$.Z.TARGET]=t.target,s[$.Z.VIEW]=void 0!==t.view?t.view:new ct.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?i=new n.Z(t.controls.slice()):((0,rt.h)("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new n.Z(t.interactions.slice()):((0,rt.h)("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new n.Z(t.overlays.slice()):((0,rt.h)("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new n.Z,{controls:i,interactions:o,keyboardEventTarget:e,overlays:r,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a.MP,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,yt.Ue)(),this.pixelToCoordinateTransform_=(0,yt.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a.Qm?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[nt.Z.CLICK,nt.Z.DBLCLICK,nt.Z.MOUSEDOWN,nt.Z.TOUCHSTART,nt.Z.MSPOINTERDOWN,h.Z.POINTERDOWN,nt.Z.MOUSEWHEEL,nt.Z.WHEEL],s=0,l=o.length;s<l;++s)(0,p.oL)(this.overlayContainerStopEvent_,o[s],F.UW);for(var c in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new q(this,e.moveTolerance),h.Z)(0,p.oL)(this.mapBrowserEventHandler_,h.Z[c],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,(0,p.oL)(this.viewport_,nt.Z.CONTEXTMENU,this.handleBrowserEvent,this),(0,p.oL)(this.viewport_,nt.Z.WHEEL,this.handleBrowserEvent,this),(0,p.oL)(this.viewport_,nt.Z.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new n.Z,this.interactions=i.interactions||new n.Z,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new pt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,p.oL)(this,(0,et.v_)($.Z.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,p.oL)(this,(0,et.v_)($.Z.VIEW),this.handleViewChanged_,this),(0,p.oL)(this,(0,et.v_)($.Z.SIZE),this.handleSizeChanged_,this),(0,p.oL)(this,(0,et.v_)($.Z.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),(0,p.oL)(this.controls,r.Z.ADD,(function(t){t.element.setMap(this)}),this),(0,p.oL)(this.controls,r.Z.REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),(0,p.oL)(this.interactions,r.Z.ADD,(function(t){t.element.setMap(this)}),this),(0,p.oL)(this.interactions,r.Z.REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,p.oL)(this.overlays_,r.Z.ADD,(function(t){this.addOverlayInternal_(t.element)}),this),(0,p.oL)(this.overlays_,r.Z.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,p.Ev)(this.viewport_,nt.Z.CONTEXTMENU,this.handleBrowserEvent,this),(0,p.Ev)(this.viewport_,nt.Z.WHEEL,this.handleBrowserEvent,this),(0,p.Ev)(this.viewport_,nt.Z.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(nt.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var o=this.getCoordinateFromPixel(t),n=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==i.layerFilter?i.layerFilter:gt.uX;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,n,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,(function(t){i||(i=[]),i.push(t)}),e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var o=i||{},n=void 0!==o.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=o.layerFilter||gt.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,n,e,null,r,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),o=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:gt.uX,n=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,n,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get($.Z.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?(0,yt.nn)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get($.Z.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?(0,yt.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get($.Z.SIZE)},e.prototype.getView=function(){return this.get($.Z.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,o){var n=this.frameState_;if(!n||!(e in n.wantedTiles))return at;if(!n.wantedTiles[e][t.getKey()])return at;var r=i[0]-n.focus[0],s=i[1]-n.focus[1];return 65536*Math.log(o)+Math.sqrt(r*r+s*s)/o},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new s.Z(i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.getActive()&&!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var n=t.viewHints;n[ut.Z.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,o=2),n[ut.Z.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,o=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}!t||!this.hasListener(tt.Z.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||Tt(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(tt.Z.RENDERCOMPLETE,t);for(var r=this.postRenderFunctions_,s=0,a=r.length;s<a;++s)r[s](this,t);r.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)(0,p.bN)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,p.oL)(o,nt.Z.KEYDOWN,this.handleBrowserEvent,this),(0,p.oL)(o,nt.Z.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(nt.Z.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,dt.ZF)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(nt.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,p.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,p.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,o.sq)(t)),this.viewPropertyListenerKey_=(0,p.oL)(t,it.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,p.oL)(t,nt.Z.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(p.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,p.oL)(t,it.Z.PROPERTYCHANGE,this.render,this),(0,p.oL)(t,nt.Z.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),n=this.getView(),r=(0,_t.lJ)(),s=this.frameState_,a=null;if(void 0!==i&&(0,ft.py)(i)&&n&&n.isDef()){for(var h=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=this.getLayerGroup().getLayerStatesArray(),p={},c=0,u=l.length;c<u;++c)p[(0,o.sq)(l[c].layer)]=l[c];e=n.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:p,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:h,wantedTiles:{}}}a&&(a.extent=(0,_t.p8)(e.center,e.resolution,e.rotation,a.size,r)),this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!(0,_t.xb)(this.previousExtent_)&&!(0,_t.fS)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new J.Z(Q.Z.MOVESTART,this,s)),this.previousExtent_=(0,_t.YN)(this.previousExtent_)),this.previousExtent_&&!a.viewHints[ut.Z.ANIMATING]&&!a.viewHints[ut.Z.INTERACTING]&&!(0,_t.fS)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new J.Z(Q.Z.MOVEEND,this,a)),(0,_t.d9)(a.extent,this.previousExtent_))),this.dispatchEvent(new J.Z(Q.Z.POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set($.Z.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set($.Z.SIZE,t)},e.prototype.setTarget=function(t){this.set($.Z.TARGET,t)},e.prototype.setView=function(t){this.set($.Z.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,o.sq)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,o.sq)(t)],this.render()},e}(et.ZP);const Et=mt;function Tt(t){for(var e=0,i=t.length;e<i;++e){var o=t[e];if("function"==typeof o.getLayers)return Tt(o.getLayers().getArray());var n=o.getSource();if(n&&n.loading)return!0}return!1}var xt=i(70878),St=i(37566),Rt=i(35211),Ct=i(29217),Lt=i(11256),It=function(t){function e(e,i,o,n,r){var s=void 0!==r?Lt.Z.IDLE:Lt.Z.LOADED;t.call(this,e,i,o,s),this.loader_=void 0!==r?r:null,this.canvas_=n,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Lt.Z.ERROR):this.state=Lt.Z.LOADED,this.changed()},e.prototype.load=function(){this.state==Lt.Z.IDLE&&(this.state=Lt.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Ct.Z);const wt=It;var bt=i(66901),Ot=i(27400),Zt=i(67644),At=i(77701),Dt=function(t){function e(e,i,o,n,r){t.call(this,e),this.vectorContext=i,this.frameState=o,this.context=n,this.glContext=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F.ZP);const kt=Dt;var Mt=i(68509),Pt=i(45120),Ft=i(28795),Nt=i(32538),Gt=i(17882),Kt=function(){};Kt.prototype.drawCustom=function(t,e,i){},Kt.prototype.drawGeometry=function(t){},Kt.prototype.setStyle=function(t){},Kt.prototype.drawCircle=function(t,e){},Kt.prototype.drawFeature=function(t,e){},Kt.prototype.drawGeometryCollection=function(t,e){},Kt.prototype.drawLineString=function(t,e){},Kt.prototype.drawMultiLineString=function(t,e){},Kt.prototype.drawMultiPoint=function(t,e){},Kt.prototype.drawMultiPolygon=function(t,e){},Kt.prototype.drawPoint=function(t,e){},Kt.prototype.drawPolygon=function(t,e){},Kt.prototype.drawText=function(t,e){},Kt.prototype.setFillStrokeStyle=function(t,e){},Kt.prototype.setImageStyle=function(t,e){},Kt.prototype.setTextStyle=function(t,e){};const Yt=Kt;var Wt=function(t){function e(e,i,o,n,r){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=o,this.transform_=n,this.viewRotation_=r,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,yt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,o){if(this.image_){var n=(0,Gt.vT)(t,e,i,2,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var l=0,p=n.length;l<p;l+=2){var c=n[l]-this.imageAnchorX_,u=n[l+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_){var d=c+this.imageAnchorX_,_=u+this.imageAnchorY_;(0,yt.qC)(s,d,_,this.imageScale_,this.imageScale_,h,-d,-_),r.setTransform.apply(r,s)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,u,this.imageWidth_,this.imageHeight_)}0===h&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=(0,Gt.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=o){var a=n[e]+this.textOffsetX_,h=n[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var l=(0,yt.qC)(this.tmpLocalTransform_,a,h,this.textScale_,this.textScale_,s,-a,-h);r.setTransform.apply(r,l)}this.textStrokeState_&&r.strokeText(this.text_,a,h),this.textFillState_&&r.fillText(this.text_,a,h)}0===s&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,o,n){var r=this.context_,s=(0,Gt.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);var a=s.length;n&&(a-=2);for(var h=2;h<a;h+=2)r.lineTo(s[h],s[h+1]);return n&&r.closePath(),i},e.prototype.drawRings_=function(t,e,i,o){for(var n=0,r=i.length;n<r;++n)e=this.moveToLineTo_(t,e,i[n],o,!0);return e},e.prototype.drawCircle=function(t){if((0,_t.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,Nt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(i*i+o*o),r=this.context_;r.beginPath(),r.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Ft.Z.POINT:this.drawPoint(t);break;case Ft.Z.LINE_STRING:this.drawLineString(t);break;case Ft.Z.POLYGON:this.drawPolygon(t);break;case Ft.Z.MULTI_POINT:this.drawMultiPoint(t);break;case Ft.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Ft.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Ft.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Ft.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,_t.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,o=e.length;i<o;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if((0,_t.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,_t.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),n=0,r=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,h=r.length;a<h;++a)n=this.moveToLineTo_(o,n,r[a],s,!1);i.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if((0,_t.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if((0,_t.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),o=0,n=t.getEndss(),r=t.getStride();e.beginPath();for(var s=0,a=n.length;s<a;++s){var h=n[s];o=this.drawRings_(i,o,h,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),a.XQ&&((0,Y.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,a.XQ&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:Mt.PH;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=o&&(i.textAlign=e.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,Pt.y)(i||Mt.bL)}}else this.fillState_=null;if(e){var o=e.getColor(),n=e.getLineCap(),r=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),h=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:Mt.mb,lineDash:r||Mt.X9,lineDashOffset:s||Mt.He,lineJoin:void 0!==a?a:Mt.rc,lineWidth:this.pixelRatio_*(void 0!==h?h:Mt.yC),miterLimit:void 0!==l?l:Mt.V4,strokeStyle:(0,Pt.y)(o||Mt.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),o=t.getOrigin(),n=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=n[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=n[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,Pt.y)(i||Mt.bL)}}else this.textFillState_=null;var o=t.getStroke();if(o){var n=o.getColor(),r=o.getLineCap(),s=o.getLineDash(),a=o.getLineDashOffset(),h=o.getLineJoin(),l=o.getWidth(),p=o.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:Mt.mb,lineDash:s||Mt.X9,lineDashOffset:a||Mt.He,lineJoin:void 0!==h?h:Mt.rc,lineWidth:void 0!==l?l:Mt.yC,miterLimit:void 0!==p?p:Mt.V4,strokeStyle:(0,Pt.y)(n||Mt.Tx)}}else this.textStrokeState_=null;var c=t.getFont(),u=t.getOffsetX(),d=t.getOffsetY(),_=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),f=t.getText(),y=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:Mt.Df,textAlign:void 0!==y?y:Mt.PH,textBaseline:void 0!==m?m:Mt.ru},this.text_=void 0!==f?f:"",this.textOffsetX_=void 0!==u?this.pixelRatio_*u:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(Yt);const Xt=Wt;var Ht=i(80967),Vt=i(16250),Ut=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){(0,o.O3)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;(0,yt.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,yt.U_)((0,yt.lk)(o,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,s,a){var h,l=e.viewState,p=l.resolution;function c(t,i){var s=e.layerStates[(0,o.sq)(i)].managed;if(!((0,o.sq)(t)in e.skippedFeatureUids)||s)return n.call(r,t,s?i:null)}var u=l.projection,d=t;if(u.canWrapX()){var _=u.getExtent(),g=(0,_t.dz)(_),v=t[0];(v<_[0]||v>_[2])&&(d=[v+g*Math.ceil((_[0]-v)/g),t[1]])}var f,y=e.layerStatesArray;for(f=y.length-1;f>=0;--f){var m=y[f],E=m.layer;if((0,At.l)(m,p)&&s.call(a,E)){var T=this.getLayerRenderer(E),x=E.getSource();if(x&&(h=T.forEachFeatureAtCoordinate(x.getWrapX()?d:t,e,i,c)),h)return h}}},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,s,a){return(0,o.O3)()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,o,n){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,gt.uX,this,o,n)},e.prototype.getLayerRenderer=function(t){var e=(0,o.sq)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,n=0,r=this.layerRendererConstructors_.length;n<r;++n){var s=this.layerRendererConstructors_[n];if(s.handles(t)){i=s.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=(0,p.oL)(i,nt.Z.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],(0,p.bN)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){(0,o.O3)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Bt)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Ht.Z);function Bt(t,e){Vt.c.expire()}function zt(t,e){return t.zIndex-e.zIndex}const jt=Ut;var qt=i(82418),Jt=[],Qt=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=(0,dt.E4)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Zt.XV,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,yt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),o=this.context_;if(i.hasListener(t)){var n=e.extent,r=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),h=new Xt(o,r,n,a,s),l=new kt(t,h,e,o,null);i.dispatchEvent(l)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,o=this.canvas_.height/2,n=t.pixelRatio/e.resolution,r=-n,s=-e.rotation,a=-e.center[0],h=-e.center[1];return(0,yt.qC)(this.transform_,i,o,n,r,s,a,h)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,o=Math.round(t.size[0]*i),n=Math.round(t.size[1]*i);this.canvas_.width!=o||this.canvas_.height!=n?(this.canvas_.width=o,this.canvas_.height=n):e.clearRect(0,0,o,n);var r=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(tt.Z.PRECOMPOSE,t);var s=t.layerStatesArray;(0,Y.XV)(s,zt),r&&(e.save(),(0,Mt.qs)(e,r,o/2,n/2));var a,h,l=t.viewState.resolution;for(a=0,h=s.length;a<h;++a){var p=s[a],c=p.layer,u=this.getLayerRenderer(c);(0,At.l)(p,l)&&p.sourceState==qt.Z.READY&&u.prepareFrame(t,p)&&u.composeFrame(t,p,e)}r&&e.restore(),this.dispatchRenderEvent(tt.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,o,n,r,s){var a,h,l=e.viewState.resolution,p=e.layerStatesArray,c=p.length,u=(0,yt.nn)(e.pixelToCoordinateTransform,t.slice());for(h=c-1;h>=0;--h){var d=p[h],_=d.layer;if((0,At.l)(d,l)&&r.call(s,_)&&(a=this.getLayerRenderer(_).forEachLayerAtCoordinate(u,e,i,o,n)))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,o=e.length;i<o;++i){var n=e[i];(0,Y.q9)(Jt,n)||Jt.push(n)}},e}(jt);const $t=Qt;var te=i(90728),ee=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=(0,yt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var o=e.pixelRatio,n=e.size[0]*o,r=e.size[1]*o,s=e.viewState.rotation,a=(0,_t.rL)(i),h=(0,_t.Xv)(i),l=(0,_t.w$)(i),p=(0,_t.hC)(i);(0,yt.nn)(e.coordinateToPixelTransform,a),(0,yt.nn)(e.coordinateToPixelTransform,h),(0,yt.nn)(e.coordinateToPixelTransform,l),(0,yt.nn)(e.coordinateToPixelTransform,p),t.save(),(0,Mt.qs)(t,-s,n/2,r/2),t.beginPath(),t.moveTo(a[0]*o,a[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(l[0]*o,l[1]*o),t.lineTo(p[0]*o,p[1]*o),t.clip(),(0,Mt.qs)(t,s,n/2,r/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,o){var n=this.getLayer();if(n.hasListener(t)){var r=i.size[0]*i.pixelRatio,s=i.size[1]*i.pixelRatio,a=i.viewState.rotation;(0,Mt.qs)(e,-a,r/2,s/2);var h=void 0!==o?o:this.getTransform(i,0),l=new Xt(e,i.pixelRatio,i.extent,h,i.viewState.rotation),p=new kt(t,l,i,e,null);n.dispatchEvent(p),(0,Mt.qs)(e,a,r/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,o,n){return this.forEachFeatureAtCoordinate(t,e,i,gt.uX)?o.call(n,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,o){this.dispatchComposeEvent_(tt.Z.POSTCOMPOSE,t,e,o)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(tt.Z.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(tt.Z.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,o=t.pixelRatio,n=o*t.size[0]/2,r=o*t.size[1]/2,s=o/i.resolution,a=-s,h=-i.rotation,l=-i.center[0]+e,p=-i.center[1];return(0,yt.qC)(this.transform_,n,r,s,a,h,l,p)},e.prototype.composeFrame=function(t,e,i){(0,o.O3)()},e.prototype.prepareFrame=function(t,e){return(0,o.O3)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(o,n){return t.forEachLoadedTile(e,o,n,(function(t){i[o]||(i[o]={}),i[o][t.tileCoord.toString()]=t}))}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Lt.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Lt.Z.LOADED&&e!=Lt.Z.ERROR&&(0,p.oL)(t,nt.Z.CHANGE,this.handleImageChange_,this),e==Lt.Z.IDLE&&(t.load(),e=t.getState()),e==Lt.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==qt.Z.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var n=(0,o.sq)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,n){var r=(0,o.sq)(e),s=i.toString();r in t?s in t[r]?t[r][s].extend(n):t[r][s]=n:(t[r]={},t[r][s]=n)},e.prototype.manageTilePyramid=function(t,e,i,n,r,s,a,h,l,p){var c=(0,o.sq)(e);c in t.wantedTiles||(t.wantedTiles[c]={});var u,d,_,g,v,f,y=t.wantedTiles[c],m=t.tileQueue;for(f=i.getMinZoom();f<=a;++f)for(d=i.getTileRangeForExtentAndZ(s,f,d),_=i.getResolution(f),g=d.minX;g<=d.maxX;++g)for(v=d.minY;v<=d.maxY;++v)a-f<=h?((u=e.getTile(f,g,v,n,r)).getState()==ot.Z.IDLE&&(y[u.getKey()]=!0,m.isKeyQueued(u.getKey())||m.enqueue([u,c,i.getTileCoordCenter(u.tileCoord),_])),void 0!==l&&l.call(p,u)):e.useTile(f,g,v,r)},e}(i(56834).Z));const ie=ee;var oe=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=(0,yt.Ue)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var o=this.getImage();if(o){var n=e.extent,r=void 0!==n&&!(0,_t.r4)(n,t.extent)&&(0,_t.kK)(n,t.extent);r&&this.clip(i,t,n);var s=this.getImageTransform(),a=i.globalAlpha;i.globalAlpha=e.opacity;var h=s[4],l=s[5],p=o.width*s[0],c=o.height*s[3];p>=.5&&c>=.5&&i.drawImage(o,0,0,+o.width,+o.height,Math.round(h),Math.round(l),Math.round(p),Math.round(c)),i.globalAlpha=a,r&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return(0,o.O3)()},e.prototype.getImageTransform=function(){return(0,o.O3)()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,o,n){if(this.getImage()){var r=(0,yt.nn)(this.coordinateToCanvasPixelTransform,t.slice());(0,te.bA)(r,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,dt.E4)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),r[0],r[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?o.call(n,this.getLayer(),s):void 0}},e}(ie);const ne=oe;var re=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=(0,yt.Ue)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===bt.Z.VECTOR)for(var o=0,n=Jt.length;o<n;++o){var r=Jt[o];if(r!==e&&r.handles(i)){this.vectorRenderer_=new r(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,o=t.pixelRatio,n=t.size,r=t.viewState,s=r.center,a=r.resolution,h=this.getLayer().getSource(),l=t.viewHints,p=this.vectorRenderer_,c=t.extent;if(p||void 0===e.extent||(c=(0,_t.Ed)(c,e.extent)),!l[ut.Z.ANIMATING]&&!l[ut.Z.INTERACTING]&&!(0,_t.xb)(c)){var u=r.projection;if(!Rt.j){var d=h.getProjection();d&&(u=d)}var _=this.skippedFeatures_;if(p){var g=p.context,v=(0,st.f0)({},t,{size:[(0,_t.dz)(c)/a,(0,_t.Cr)(c)/a],viewState:(0,st.f0)({},t.viewState,{rotation:0})}),f=Object.keys(v.skippedFeatureUids).sort();i=new wt(c,a,o,g.canvas,(function(t){!p.prepareFrame(v,e)||!p.replayGroupChanged&&(0,Y.fS)(_,f)||(g.canvas.width=v.size[0]*o,g.canvas.height=v.size[1]*o,p.compose(g,v,e),_=f,t())}))}else i=h.getImage(c,a,o,u);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=_)}if(this.image_){var y=(i=this.image_).getExtent(),m=i.getResolution(),E=i.getPixelRatio(),T=o*m/(a*E),x=(0,yt.qC)(this.imageTransform_,o*n[0]/2,o*n[1]/2,T,T,0,E*(y[0]-s[0])/m,E*(s[1]-y[3])/m);(0,yt.qC)(this.coordinateToCanvasPixelTransform,o*n[0]/2-x[4],o*n[1]/2-x[5],o/a,-o/a,0,-s[0],-s[1]),this.renderedResolution=m*o/E}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,o,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,o,n):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,o,n)},e}(ne);re.handles=function(t){return t.getType()===bt.Z.IMAGE||t.getType()===bt.Z.VECTOR&&t.getRenderMode()===Ot.Z.IMAGE},re.create=function(t,e){return new re(e)};const se=re;var ae=i(19473),he=function(t){function e(e,i){t.call(this,e),this.context=i?null:(0,dt.E4)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,_t.lJ)(),this.tmpTileRange_=new ae.Z(0,0,0,0),this.imageTransform_=(0,yt.Ue)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==ot.Z.LOADED||i==ot.Z.EMPTY||i==ot.Z.ERROR&&!o},e.prototype.getTile=function(t,e,i,o,n){var r=this.getLayer(),s=r.getSource().getTile(t,e,i,o,n);return s.getState()==ot.Z.ERROR&&(r.getUseInterimTilesOnError()?r.getPreload()>0&&(this.newTiles_=!0):s.setState(ot.Z.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,n=t.size,r=t.viewState,s=r.projection,a=r.resolution,h=r.center,l=this.getLayer(),p=l.getSource(),c=p.getRevision(),u=p.getTileGridForProjection(s),d=u.getZForResolution(a,this.zDirection),_=u.getResolution(d),g=Math.round(a/_)||1,v=t.extent;if(void 0!==e.extent&&(v=(0,_t.Ed)(v,e.extent)),(0,_t.xb)(v))return!1;var f=u.getTileRangeForExtentAndZ(v,d),y=u.getTileRangeExtent(d,f),m=p.getTilePixelRatio(i),E={};E[d]={};var T,x,S,R=this.createLoadedTileFinder(p,s,E),C=t.viewHints,L=C[ut.Z.ANIMATING]||C[ut.Z.INTERACTING],I=this.tmpExtent,w=this.tmpTileRange_;for(this.newTiles_=!1,x=f.minX;x<=f.maxX;++x)for(S=f.minY;S<=f.maxY;++S)if(!(Date.now()-t.time>16&&L)){if(T=this.getTile(d,x,S,i,s),this.isDrawableTile_(T)){var b=(0,o.sq)(this);if(T.getState()==ot.Z.LOADED){E[d][T.tileCoord.toString()]=T;var O=T.inTransition(b);this.newTiles_||!O&&-1!==this.renderedTiles.indexOf(T)||(this.newTiles_=!0)}if(1===T.getAlpha(b,t.time))continue}var Z=u.getTileCoordChildTileRange(T.tileCoord,w,I),A=!1;Z&&(A=R(d+1,Z)),A||u.forEachTileCoordParentTileRange(T.tileCoord,R,null,w,I)}var D=_*i/m*g;if(!(this.renderedResolution&&Date.now()-t.time>16&&L)&&(this.newTiles_||!this.renderedExtent_||!(0,_t.r4)(this.renderedExtent_,v)||this.renderedRevision!=c||g!=this.oversampling_||!L&&D!=this.renderedResolution)){var k=this.context;if(k){var M=p.getTilePixelSize(d,i,s),P=Math.round(f.getWidth()*M[0]/g),F=Math.round(f.getHeight()*M[1]/g),N=k.canvas;N.width!=P||N.height!=F?(this.oversampling_=g,N.width=P,N.height=F):(this.renderedExtent_&&!(0,_t.fS)(y,this.renderedExtent_)&&k.clearRect(0,0,P,F),g=this.oversampling_)}this.renderedTiles.length=0;var G,K,Y,W,X,H,V,U,B,z,j=Object.keys(E).map(Number);for(j.sort((function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0})),W=0,X=j.length;W<X;++W)for(var q in Y=j[W],K=p.getTilePixelSize(Y,i,s),G=u.getResolution(Y)/_,V=m*p.getGutterForProjection(s),U=E[Y])T=U[q],x=((H=u.getTileCoordExtent(T.getTileCoord(),I))[0]-y[0])/_*m/g,S=(y[3]-H[3])/_*m/g,B=K[0]*G/g,z=K[1]*G/g,this.drawTileImage(T,t,e,x,S,B,z,V,d===Y),this.renderedTiles.push(T);this.renderedRevision=c,this.renderedResolution=_*i/m*g,this.renderedExtent_=y}var J=this.renderedResolution/a,Q=(0,yt.qC)(this.imageTransform_,i*n[0]/2,i*n[1]/2,J,J,0,(this.renderedExtent_[0]-h[0])/this.renderedResolution*i,(h[1]-this.renderedExtent_[3])/this.renderedResolution*i);return(0,yt.qC)(this.coordinateToCanvasPixelTransform,i*n[0]/2-Q[4],i*n[1]/2-Q[5],i/a,-i/a,0,-h[0],-h[1]),this.updateUsedTiles(t.usedTiles,p,d,f),this.manageTilePyramid(t,p,u,i,s,v,d,l.getPreload()),this.scheduleExpireCache(t,p),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,n,r,s,a,h,l){var p=this.getTileImage(t);if(p){var c=(0,o.sq)(this),u=l?t.getAlpha(c,e.time):1,d=this.getLayer().getSource();1!==u||d.getOpaque(e.viewState.projection)||this.context.clearRect(n,r,s,a);var _=u!==this.context.globalAlpha;_&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(p,h,h,p.width-2*h,p.height-2*h,n,r,s,a),_&&this.context.restore(),1!==u?e.animate=!0:l&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(ne);he.handles=function(t){return t.getType()===bt.Z.TILE},he.create=function(t,e){return new he(e)},he.prototype.getLayer;const le=he;var pe=i(49545),ce=i.n(pe),ue=function(){};ue.prototype.getReplay=function(t,e){return(0,o.O3)()},ue.prototype.isEmpty=function(){return(0,o.O3)()},ue.prototype.addDeclutter=function(t){return(0,o.O3)()};const de=ue,_e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};var ge=i(34178),ve=i(86204),fe=i(4027),ye=i(21882);function me(t,e,i,o,n,r,s,a){for(var h,l,p,c=[],u=t[e]>t[i-o],d=n.length,_=t[e],g=t[e+1],v=t[e+=o],f=t[e+1],y=0,m=Math.sqrt(Math.pow(v-_,2)+Math.pow(f-g,2)),E="",T=0,x=0;x<d;++x){l=u?d-x-1:x;var S=n.charAt(l),R=r(E=u?S+E:E+S)-T;T+=R;for(var C=s+R/2;e<i-o&&y+m<C;)_=v,g=f,v=t[e+=o],f=t[e+1],y+=m,m=Math.sqrt(Math.pow(v-_,2)+Math.pow(f-g,2));var L=C-y,I=Math.atan2(f-g,v-_);if(u&&(I+=I>0?-Math.PI:Math.PI),void 0!==p){var w=I-p;if(w+=w>Math.PI?-2*Math.PI:w<-Math.PI?2*Math.PI:0,Math.abs(w)>a)return null}var b=L/m,O=(0,ye.t7)(_,v,b),Z=(0,ye.t7)(g,f,b);p==I?(u&&(h[0]=O,h[1]=Z,h[2]=R/2),h[4]=E):(T=R,h=[O,Z,R/2,I,E=S],u?c.unshift(h):c.push(h),p=I),s+=R}return c}var Ee={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Te=[Ee.FILL],xe=[Ee.STROKE],Se=[Ee.BEGIN_PATH],Re=[Ee.CLOSE_PATH];const Ce=Ee;var Le=[_e.POLYGON,_e.CIRCLE,_e.LINE_STRING,_e.IMAGE,_e.TEXT,_e.DEFAULT],Ie={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},we=(0,_t.lJ)(),be=(0,yt.Ue)(),Oe=function(t){function e(e,i,o,n,r,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=i,this.overlaps=r,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=o,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,yt.Ue)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,o,n,r,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,n),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,i,o,n,r,s,a,h,l,p,c,u,d,_,g,v,f){var y=v||f;e-=n*=u,i-=r*=u;var m,E,T,x,S=_+l>o.width?o.width-l:_,R=a+p>o.height?o.height-p:a,C=g[3]+S*u+g[1],L=g[0]+R*u+g[2],I=e-g[3],w=i-g[0];(y||0!==c)&&(m=[I,w],E=[I+C,w],T=[I+C,w+L],x=[I,w+L]);var b=null;if(0!==c){var O=e+n,Z=i+r;b=(0,yt.qC)(be,O,Z,1,1,c,-O,-Z),(0,_t.YN)(we),(0,_t.Wj)(we,(0,yt.nn)(be,m)),(0,_t.Wj)(we,(0,yt.nn)(be,E)),(0,_t.Wj)(we,(0,yt.nn)(be,T)),(0,_t.Wj)(we,(0,yt.nn)(be,x))}else(0,_t.T9)(I,w,I+C,w+L,we);var A=t.canvas,D=f?f[2]*u/2:0,k=we[0]-D<=A.width&&we[2]+D>=0&&we[1]-D<=A.height&&we[3]+D>=0;if(d&&(e=Math.round(e),i=Math.round(i)),s){if(!k&&1==s[4])return;(0,_t.l7)(s,we);var M=k?[t,b?b.slice(0):null,h,o,l,p,S,R,e,i,u]:null;M&&y&&M.push(v,f,m,E,T,x),s.push(M)}else k&&(y&&this.replayTextBackground_(t,m,E,T,x,v,f),(0,Mt.AE)(t,b,h,o,l,p,S,R,e,i,u))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,i,o,n,r){var s=this.coordinates.length,a=this.getBufferedMaxExtent();r&&(e+=o);var h,l,p,c=[t[e],t[e+1]],u=[NaN,NaN],d=!0;for(h=e+o;h<i;h+=o)u[0]=t[h],u[1]=t[h+1],(p=(0,_t.pX)(a,u))!==l?(d&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),this.coordinates[s++]=u[0],this.coordinates[s++]=u[1],d=!1):p===ge.Z.INTERSECTING?(this.coordinates[s++]=u[0],this.coordinates[s++]=u[1],d=!1):d=!0,c[0]=u[0],c[1]=u[1],l=p;return(n&&d||h===e+o)&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,i,o,n){for(var r=0,s=i.length;r<s;++r){var a=i[r],h=this.appendFlatCoordinates(t,e,a,o,!1,!1);n.push(h),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var o,n,r,s,a,h=t.getType(),l=t.getStride(),p=this.coordinates.length;if(h==Ft.Z.MULTI_POLYGON){o=t.getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var u=0,d=c.length;u<d;++u){var _=[];a=this.drawCustomCoordinates_(o,a,c[u],l,_),s.push(_)}this.instructions.push([Ce.CUSTOM,p,s,t,i,ve.ug])}else h==Ft.Z.POLYGON||h==Ft.Z.MULTI_LINE_STRING?(r=[],o=h==Ft.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(o,0,t.getEnds(),l,r),this.instructions.push([Ce.CUSTOM,p,r,t,i,ve.o1])):h==Ft.Z.LINE_STRING||h==Ft.Z.MULTI_POINT?(o=t.getFlatCoordinates(),n=this.appendFlatCoordinates(o,0,o.length,l,!1,!1),this.instructions.push([Ce.CUSTOM,p,n,t,i,ve.Ml])):h==Ft.Z.POINT&&(o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),n=this.coordinates.length,this.instructions.push([Ce.CUSTOM,p,n,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ce.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ce.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,yt.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,Mt.Oz)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],a.XQ&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var o={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(o)){this.declutterTree.insert(o);for(var n=5,r=t.length;n<r;++n){var s=t[n];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Mt.AE.apply(void 0,s))}}t.length=5,(0,_t.YN)(t)}}},e.prototype.replay_=function(t,e,i,n,r,s,a){var h;this.pixelCoordinates_&&(0,Y.fS)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=(0,Gt.vT)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,yt.lk)(this.renderedTransform_,e));for(var l,p,c,u,d,_,g,v,f,y,m,E,T=!(0,st.xb)(i),x=0,S=n.length,R=0,C=0,L=0,I=null,w=null,b=this.coordinateCache_,O=this.viewRotation_,Z={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},A=this.instructions!=n||this.overlaps?0:200;x<S;){var D=n[x];switch(D[0]){case Ce.BEGIN_GEOMETRY:y=D[1],T&&i[(0,o.sq)(y)]||!y.getGeometry()?x=D[2]:void 0===a||(0,_t.kK)(a,y.getGeometry().getExtent())?++x:x=D[2]+1;break;case Ce.BEGIN_PATH:C>A&&(this.fill_(t),C=0),L>A&&(t.stroke(),L=0),C||L||(t.beginPath(),u=d=NaN),++x;break;case Ce.CIRCLE:var k=h[R=D[1]],M=h[R+1],P=h[R+2]-k,F=h[R+3]-M,N=Math.sqrt(P*P+F*F);t.moveTo(k+N,M),t.arc(k,M,N,0,2*Math.PI,!0),++x;break;case Ce.CLOSE_PATH:t.closePath(),++x;break;case Ce.CUSTOM:R=D[1],l=D[2];var G=D[3],K=D[4],W=6==D.length?D[5]:void 0;Z.geometry=G,Z.feature=y,x in b||(b[x]=[]);var X=b[x];W?W(h,R,l,2,X):(X[0]=h[R],X[1]=h[R+1],X.length=2),K(X,Z),++x;break;case Ce.DRAW_IMAGE:R=D[1],l=D[2],f=D[3],p=D[4],c=D[5],v=s?null:D[6];var H=D[7],V=D[8],U=D[9],B=D[10],z=D[11],j=D[12],q=D[13],J=D[14],Q=void 0,$=void 0,tt=void 0;for(D.length>16?(Q=D[15],$=D[16],tt=D[17]):(Q=Mt.oB,$=tt=!1),z&&(j+=O);R<l;R+=2)this.replayImage_(t,h[R],h[R+1],f,p,c,v,H,V,U,B,j,q,r,J,Q,$?I:null,tt?w:null);this.renderDeclutter_(v,y),++x;break;case Ce.DRAW_CHARS:var et=D[1],it=D[2],ot=D[3];v=s?null:D[4];var nt=D[5],rt=D[6],at=D[7],ht=D[8],lt=D[9],pt=D[10],ct=D[11],ut=D[12],dt=D[13],gt=D[14],vt=(0,fe.W)(h,et,it,2),ft=ht(ut);if(nt||ft<=vt){var mt=this,Et=mt.textStates[dt].textAlign,Tt=me(h,et,it,2,ut,ht,(vt-ft)*Ie[Et],at);if(Tt){var xt=void 0,St=void 0,Rt=void 0,Ct=void 0,Lt=void 0;if(pt)for(xt=0,St=Tt.length;xt<St;++xt)Rt=(Lt=Tt[xt])[4],Ct=mt.getImage(Rt,dt,"",pt),p=Lt[2]+ct,c=ot*Ct.height+2*(.5-ot)*ct-lt,this.replayImage_(t,Lt[0],Lt[1],Ct,p,c,v,Ct.height,1,0,0,Lt[3],gt,!1,Ct.width,Mt.oB,null,null);if(rt)for(xt=0,St=Tt.length;xt<St;++xt)Rt=(Lt=Tt[xt])[4],Ct=mt.getImage(Rt,dt,rt,""),p=Lt[2],c=ot*Ct.height-lt,this.replayImage_(t,Lt[0],Lt[1],Ct,p,c,v,Ct.height,1,0,0,Lt[3],gt,!1,Ct.width,Mt.oB,null,null)}}this.renderDeclutter_(v,y),++x;break;case Ce.END_GEOMETRY:if(void 0!==s){var It=s(y=D[1]);if(It)return It}++x;break;case Ce.FILL:A?C++:this.fill_(t),++x;break;case Ce.MOVE_TO_LINE_TO:for(R=D[1],l=D[2],m=h[R],g=(E=h[R+1])+.5|0,(_=m+.5|0)===u&&g===d||(t.moveTo(m,E),u=_,d=g),R+=2;R<l;R+=2)_=(m=h[R])+.5|0,g=(E=h[R+1])+.5|0,R!=l-2&&_===u&&g===d||(t.lineTo(m,E),u=_,d=g);++x;break;case Ce.SET_FILL_STYLE:I=D,this.alignFill_=D[2],C&&(this.fill_(t),C=0,L&&(t.stroke(),L=0)),t.fillStyle=D[1],++x;break;case Ce.SET_STROKE_STYLE:w=D,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,D),++x;break;case Ce.STROKE:A?L++:t.stroke(),++x;break;default:++x}}C&&this.fill_(t),L&&t.stroke()},e.prototype.replay=function(t,e,i,o,n){this.viewRotation_=i,this.replay_(t,e,o,this.instructions,n,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,o,n,r){return this.viewRotation_=i,this.replay_(t,e,o,this.hitDetectionInstructions,!0,n,r)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,o,n=e.length,r=-1;for(t=0;t<n;++t)(o=(i=e[t])[0])==Ce.END_GEOMETRY?r=t:o==Ce.BEGIN_GEOMETRY&&(i[2]=t,(0,Y.FZ)(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var o=t.getColor();i.fillStyle=(0,Pt.y)(o||Mt.bL)}else i.fillStyle=void 0;if(e){var n=e.getColor();i.strokeStyle=(0,Pt.y)(n||Mt.Tx);var r=e.getLineCap();i.lineCap=void 0!==r?r:Mt.mb;var s=e.getLineDash();i.lineDash=s?s.slice():Mt.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||Mt.He;var h=e.getLineJoin();i.lineJoin=void 0!==h?h:Mt.rc;var l=e.getWidth();i.lineWidth=void 0!==l?l:Mt.yC;var p=e.getMiterLimit();i.miterLimit=void 0!==p?p:Mt.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,o=[Ce.SET_FILL_STYLE,i];return"string"!=typeof i&&o.push(!0),o},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ce.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var o=t.fillStyle;"string"==typeof o&&t.currentFillStyle==o||(void 0!==o&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=o)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,o=t.lineCap,n=t.lineDash,r=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||n!=t.currentLineDash&&!(0,Y.fS)(t.currentLineDash,n)||t.currentLineDashOffset!=r||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=n,t.currentLineDashOffset=r,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[Ce.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,_t.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,_t.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Yt);const Ze=Oe;var Ae=function(t){function e(e,i,o,n,r,s){t.call(this,e,i,o,n,r,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,o){return this.appendFlatCoordinates(t,e,i,o,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),n=this.coordinates.length,r=this.drawCoordinates_(i,0,i.length,o);this.instructions.push([Ce.DRAW_IMAGE,n,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Ce.DRAW_IMAGE,n,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),n=this.coordinates.length,r=this.drawCoordinates_(i,0,i.length,o);this.instructions.push([Ce.DRAW_IMAGE,n,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Ce.DRAW_IMAGE,n,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),o=t.getSize(),n=t.getHitDetectionImage(1),r=t.getImage(1),s=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=n,this.image_=r,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=o[0]},e}(Ze);const De=Ae;var ke=function(t){function e(e,i,o,n,r,s){t.call(this,e,i,o,n,r,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,o){var n=this.coordinates.length,r=this.appendFlatCoordinates(t,e,i,o,!1,!1),s=[Ce.MOVE_TO_LINE_TO,n,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,n=i.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ce.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Se);var r=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(xe),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,n=i.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ce.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Se);for(var r=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),h=0,l=0,p=r.length;l<p;++l)h=this.drawFlatCoordinates_(s,h,r[l],a);this.hitDetectionInstructions.push(xe),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(xe),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(xe),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Se)},e}(Ze);const Me=ke;var Pe=i(8913),Fe=i(62418),Ne=function(t){function e(e,i,o,n,r,s){t.call(this,e,i,o,n,r,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,o){var n=this.state,r=void 0!==n.fillStyle,s=null!=n.strokeStyle,a=i.length;this.instructions.push(Se),this.hitDetectionInstructions.push(Se);for(var h=0;h<a;++h){var l=i[h],p=this.coordinates.length,c=this.appendFlatCoordinates(t,e,l,o,!0,!s),u=[Ce.MOVE_TO_LINE_TO,p,c];this.instructions.push(u),this.hitDetectionInstructions.push(u),s&&(this.instructions.push(Re),this.hitDetectionInstructions.push(Re)),e=l}return r&&(this.instructions.push(Te),this.hitDetectionInstructions.push(Te)),s&&(this.instructions.push(xe),this.hitDetectionInstructions.push(xe)),e},e.prototype.drawCircle=function(t,e){var i=this.state,o=i.fillStyle,n=i.strokeStyle;if(void 0!==o||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ce.SET_FILL_STYLE,(0,Pe.XC)(Mt.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ce.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(r,0,r.length,s,!1,!1);var h=[Ce.CIRCLE,a];this.instructions.push(Se,h),this.hitDetectionInstructions.push(Se,h),this.hitDetectionInstructions.push(Te),void 0!==i.fillStyle&&this.instructions.push(Te),void 0!==i.strokeStyle&&(this.instructions.push(xe),this.hitDetectionInstructions.push(xe)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,o=i.fillStyle,n=i.strokeStyle;if(void 0!==o||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ce.SET_FILL_STYLE,(0,Pe.XC)(Mt.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ce.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,r,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,o=i.fillStyle,n=i.strokeStyle;if(void 0!==o||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ce.SET_FILL_STYLE,(0,Pe.XC)(Mt.bL)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ce.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var r=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),h=0,l=0,p=r.length;l<p;++l)h=this.drawFlatCoordinatess_(s,h,r[l],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,o=e.length;i<o;++i)e[i]=(0,Fe.uZ)(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(Ze);const Ge=Ne;function Ke(t,e,i,o,n){var r,s,a,h,l,p,c,u,d,_=i,g=i,v=0,f=0,y=i;for(r=i;r<o;r+=n){var m=e[r],E=e[r+1];void 0!==h&&(u=m-h,d=E-l,a=Math.sqrt(u*u+d*d),void 0!==p&&(f+=s,Math.acos((p*u+c*d)/(s*a))>t&&(f>v&&(v=f,_=y,g=r),f=0,y=r-n)),s=a,p=u,c=d),h=m,l=E}return(f+=a)>v?[y,r]:[_,g]}var Ye=i(78288),We=function(t){function e(e,i,o,n,r,s){t.call(this,e,i,o,n,r,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Mt.GK.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,o=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(i||o)){var r,s,a=this.coordinates.length,h=t.getType(),l=null,p=2,c=2;if(n.placement===Ye.Z.LINE){if(!(0,_t.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var u;if(l=t.getFlatCoordinates(),c=t.getStride(),h==Ft.Z.LINE_STRING)u=[l.length];else if(h==Ft.Z.MULTI_LINE_STRING)u=t.getEnds();else if(h==Ft.Z.POLYGON)u=t.getEnds().slice(0,1);else if(h==Ft.Z.MULTI_POLYGON){var d=t.getEndss();for(u=[],r=0,s=d.length;r<s;++r)u.push(d[r][0])}this.beginGeometry(t,e);for(var _,g=n.textAlign,v=0,f=0,y=u.length;f<y;++f){if(null==g){var m=Ke(n.maxAngle,l,v,u[f],c);v=m[0],_=m[1]}else _=u[f];for(r=v;r<_;r+=c)this.coordinates.push(l[r],l[r+1]);p=this.coordinates.length,v=u[f],this.drawChars_(a,p,this.declutterGroup_),a=p}this.endGeometry(t,e)}else{var E=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),T=E.width/this.pixelRatio;switch(h){case Ft.Z.POINT:case Ft.Z.MULTI_POINT:p=(l=t.getFlatCoordinates()).length;break;case Ft.Z.LINE_STRING:l=t.getFlatMidpoint();break;case Ft.Z.CIRCLE:l=t.getCenter();break;case Ft.Z.MULTI_LINE_STRING:p=(l=t.getFlatMidpoints()).length;break;case Ft.Z.POLYGON:if(l=t.getFlatInteriorPoint(),!n.overflow&&l[2]/this.resolution<T)return;c=3;break;case Ft.Z.MULTI_POLYGON:var x=t.getFlatInteriorPoints();for(l=[],r=0,s=x.length;r<s;r+=3)(n.overflow||x[r+2]/this.resolution>=T)&&l.push(x[r],x[r+1]);if(0==(p=l.length))return}p=this.appendFlatCoordinates(l,0,p,c,!1,!1),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(E,a,p),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,o){var n,r=o+e+t+i+this.pixelRatio;if(!Mt.GK.containsKey(r)){var s=o?this.strokeStates[o]||this.textStrokeState_:null,h=i?this.fillStates[i]||this.textFillState_:null,l=this.textStates[e]||this.textState_,p=this.pixelRatio,c=l.scale*p,u=Ie[l.textAlign||Mt.PH],d=o&&s.lineWidth?s.lineWidth:0,_=t.split("\n"),g=_.length,v=[],f=function(t,e,i){for(var o=e.length,n=0,r=0;r<o;++r){var s=(0,Mt.Ux)(t,e[r]);n=Math.max(n,s),i.push(s)}return n}(l.font,_,v),y=(0,Mt.fk)(l.font),m=y*g,E=f+d,T=(0,dt.E4)(Math.ceil(E*c),Math.ceil((m+d)*c));n=T.canvas,Mt.GK.set(r,n),1!=c&&T.scale(c,c),T.font=l.font,o&&(T.strokeStyle=s.strokeStyle,T.lineWidth=d,T.lineCap=s.lineCap,T.lineJoin=s.lineJoin,T.miterLimit=s.miterLimit,a.XQ&&s.lineDash.length&&(T.setLineDash(s.lineDash),T.lineDashOffset=s.lineDashOffset)),i&&(T.fillStyle=h.fillStyle),T.textBaseline="middle",T.textAlign="center";var x,S=.5-u,R=u*n.width/c+S*d;if(o)for(x=0;x<g;++x)T.strokeText(_[x],R+S*v[x],.5*(d+y)+x*y);if(i)for(x=0;x<g;++x)T.fillText(_[x],R+S*v[x],.5*(d+y)+x*y)}return Mt.GK.get(r)},e.prototype.drawTextImage_=function(t,e,i){var o=this.textState_,n=this.textStrokeState_,r=this.pixelRatio,s=Ie[o.textAlign||Mt.PH],a=Ie[o.textBaseline],h=n&&n.lineWidth?n.lineWidth:0,l=s*t.width/r+2*(.5-s)*h,p=a*t.height/r+2*(.5-a)*h;this.instructions.push([Ce.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*r,(p-this.textOffsetY_)*r,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,o.padding==Mt.oB?Mt.oB:o.padding.map((function(t){return t*r})),!!o.backgroundFill,!!o.backgroundStroke]),this.hitDetectionInstructions.push([Ce.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*r,(p-this.textOffsetY_)*r,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/r,t.width,o.padding,!!o.backgroundFill,!!o.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var o=this.textStrokeState_,n=this.textState_,r=this.textFillState_,s=this.strokeKey_;o&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:o.strokeStyle,lineCap:o.lineCap,lineDashOffset:o.lineDashOffset,lineWidth:o.lineWidth,lineJoin:o.lineJoin,miterLimit:o.miterLimit,lineDash:o.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:n.font,textAlign:n.textAlign||Mt.PH,scale:n.scale});var h=this.fillKey_;r&&(h in this.fillStates||(this.fillStates[h]={fillStyle:r.fillStyle}));var l=this.pixelRatio,p=Ie[n.textBaseline],c=this.textOffsetY_*l,u=this.text_,d=n.font,_=n.scale,g=o?o.lineWidth*_/2:0,v=this.widths_[d];v||(this.widths_[d]=v={}),this.instructions.push([Ce.DRAW_CHARS,t,e,p,i,n.overflow,h,n.maxAngle,function(t){var e=v[t];return e||(e=v[t]=(0,Mt.Ux)(d,t)),e*_*l},c,s,g*l,u,a,1]),this.hitDetectionInstructions.push([Ce.DRAW_CHARS,t,e,p,i,n.overflow,h,n.maxAngle,function(t){var e=v[t];return e||(e=v[t]=(0,Mt.Ux)(d,t)),e*_},c,s,g,u,a,1/l])},e.prototype.setTextStyle=function(t,e){var i,n,r;if(t){this.declutterGroup_=e;var s=t.getFill();s?((n=this.textFillState_)||(n=this.textFillState_={}),n.fillStyle=(0,Pt.y)(s.getColor()||Mt.bL)):n=this.textFillState_=null;var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var h=a.getLineDash(),l=a.getLineDashOffset(),p=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||Mt.mb,r.lineDash=h?h.slice():Mt.X9,r.lineDashOffset=void 0===l?Mt.He:l,r.lineJoin=a.getLineJoin()||Mt.rc,r.lineWidth=void 0===p?Mt.yC:p,r.miterLimit=void 0===c?Mt.V4:c,r.strokeStyle=(0,Pt.y)(a.getColor()||Mt.Tx)}else r=this.textStrokeState_=null;i=this.textState_;var u=t.getFont()||Mt.Df;(0,Mt.Uh)(u);var d=t.getScale();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||Mt.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Mt.oB,i.scale=void 0===d?1:d;var _=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),f=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===_?0:_,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===f?0:f,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,o.sq)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+(0,o.sq)(n.fillStyle):""}else this.text_=""},e}(Ze),Xe={Circle:Ge,Default:Ze,Image:De,LineString:Me,Polygon:Ge,Text:We},He=function(t){function e(e,i,o,n,r,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=o,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=(0,dt.E4)(1,1),this.hitDetectionTransform_=(0,yt.Ue)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=(0,_t.lJ)()).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],o=0,n=t.length;o<n;++o)if(t[o]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,n,r,s){var a,h=2*(o=Math.round(o))+1,l=(0,yt.qC)(this.hitDetectionTransform_,o+.5,o+.5,1/e,-1/e,-i,-t[0],-t[1]),p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):p.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(a=(0,_t.lJ)(),(0,_t.Wj)(a,t),(0,_t.f3)(a,e*(this.renderBuffer_+o),a));var c,u,d=function(t){if(void 0!==Ve[t])return Ve[t];for(var e=2*t+1,i=new Array(e),o=0;o<e;o++)i[o]=new Array(e);for(var n=t,r=0,s=0;n>=r;)Ue(i,t+n,t+r),Ue(i,t+r,t+n),Ue(i,t-r,t+n),Ue(i,t-n,t+r),Ue(i,t-n,t-r),Ue(i,t-r,t-n),Ue(i,t+r,t-n),Ue(i,t+n,t-r),2*((s+=1+2*++r)-n)+1>0&&(s+=1-2*(n-=1));return Ve[t]=i,i}(o);function _(t){for(var e=p.getImageData(0,0,h,h).data,i=0;i<h;i++)for(var o=0;o<h;o++)if(d[i][o]&&e[4*(o*h+i)+3]>0){var n=void 0;return(!c||u!=_e.IMAGE&&u!=_e.TEXT||-1!==c.indexOf(t))&&(n=r(t)),n||void p.clearRect(0,0,h,h)}}this.declutterTree_&&(c=this.declutterTree_.all().map((function(t){return t.value})));var g,v,f,y,m,E=Object.keys(this.replaysByZIndex_).map(Number);for(E.sort(Y.kK),g=E.length-1;g>=0;--g){var T=E[g].toString();for(f=this.replaysByZIndex_[T],v=Le.length-1;v>=0;--v)if(void 0!==(y=f[u=Le[v]]))if(!s||u!=_e.IMAGE&&u!=_e.TEXT){if(m=y.replayHitDetection(p,l,i,n,_,a))return m}else{var x=s[T];x?x.push(y,l.slice(0)):s[T]=[y,l.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],o=e[1],n=e[2],r=e[3],s=[i,o,i,r,n,r,n,o];return(0,Gt.vT)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",o=this.replaysByZIndex_[i];void 0===o&&(o={},this.replaysByZIndex_[i]=o);var n=o[e];return void 0===n&&(n=new(0,Xe[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),o[e]=n),n},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return(0,st.xb)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,o,n,r,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Y.kK),t.save(),this.clip(t,e);var h,l,p,c,u,d,_=r||Le;for(h=0,l=a.length;h<l;++h){var g=a[h].toString();for(u=this.replaysByZIndex_[g],p=0,c=_.length;p<c;++p){var v=_[p];if(void 0!==(d=u[v]))if(!s||v!=_e.IMAGE&&v!=_e.TEXT)d.replay(t,e,i,o,n);else{var f=s[g];f?f.push(d,e.slice(0)):s[g]=[d,e.slice(0)]}}}t.restore()},e}(de),Ve={0:[[!0]]};function Ue(t,e,i){var o,n=Math.floor(t.length/2);if(e>=n)for(o=n;o<e;o++)t[o][i]=!0;else if(e<n)for(o=e+1;o<n;o++)t[o][i]=!0}const Be=He;var ze=.5,je={Point:function(t,e,i,o){var n=i.getImage();if(n){if(n.getImageState()!=Lt.Z.LOADED)return;var r=t.getReplay(i.getZIndex(),_e.IMAGE);r.setImageStyle(n,t.addDeclutter(!1)),r.drawPoint(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),_e.TEXT);a.setTextStyle(s,t.addDeclutter(!!n)),a.drawText(e,o)}},LineString:function(t,e,i,o){var n=i.getStroke();if(n){var r=t.getReplay(i.getZIndex(),_e.LINE_STRING);r.setFillStrokeStyle(null,n),r.drawLineString(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),_e.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,o)}},Polygon:function(t,e,i,o){var n=i.getFill(),r=i.getStroke();if(n||r){var s=t.getReplay(i.getZIndex(),_e.POLYGON);s.setFillStrokeStyle(n,r),s.drawPolygon(e,o)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),_e.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,o)}},MultiPoint:function(t,e,i,o){var n=i.getImage();if(n){if(n.getImageState()!=Lt.Z.LOADED)return;var r=t.getReplay(i.getZIndex(),_e.IMAGE);r.setImageStyle(n,t.addDeclutter(!1)),r.drawMultiPoint(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),_e.TEXT);a.setTextStyle(s,t.addDeclutter(!!n)),a.drawText(e,o)}},MultiLineString:function(t,e,i,o){var n=i.getStroke();if(n){var r=t.getReplay(i.getZIndex(),_e.LINE_STRING);r.setFillStrokeStyle(null,n),r.drawMultiLineString(e,o)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),_e.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,o)}},MultiPolygon:function(t,e,i,o){var n=i.getFill(),r=i.getStroke();if(r||n){var s=t.getReplay(i.getZIndex(),_e.POLYGON);s.setFillStrokeStyle(n,r),s.drawMultiPolygon(e,o)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),_e.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,o)}},GeometryCollection:function(t,e,i,o){var n,r,s=e.getGeometriesArray();for(n=0,r=s.length;n<r;++n)(0,je[s[n].getType()])(t,s[n],i,o)},Circle:function(t,e,i,o){var n=i.getFill(),r=i.getStroke();if(n||r){var s=t.getReplay(i.getZIndex(),_e.CIRCLE);s.setFillStrokeStyle(n,r),s.drawCircle(e,o)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),_e.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,o)}}};function qe(t,e){return parseInt((0,o.sq)(t),10)-parseInt((0,o.sq)(e),10)}function Je(t,e){var i=Qe(t,e);return i*i}function Qe(t,e){return ze*t/e}function $e(t,e,i,o,n,r){var s=!1,a=i.getImage();if(a){var h=a.getImageState();h==Lt.Z.LOADED||h==Lt.Z.ERROR?a.unlistenImageChange(n,r):(h==Lt.Z.IDLE&&a.load(),h=a.getImageState(),a.listenImageChange(n,r),s=!0)}return function(t,e,i,o){var n=i.getGeometryFunction()(e);if(n){var r=n.getSimplifiedGeometry(o);i.getRenderer()?ti(t,r,i,e):(0,je[r.getType()])(t,r,i,e)}}(t,e,i,o),s}function ti(t,e,i,o){if(e.getType()!=Ft.Z.GEOMETRY_COLLECTION)t.getReplay(i.getZIndex(),_e.DEFAULT).drawCustom(e,o,i.getRenderer());else for(var n=e.getGeometries(),r=0,s=n.length;r<s;++r)ti(t,n[r],i,o)}var ei=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?ce()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,_t.lJ)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,dt.E4)(),(0,p.oL)(Mt.GK,nt.Z.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,p.Ev)(Mt.GK,nt.Z.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var o=e.extent,n=e.pixelRatio,r=i.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,h=s.rotation,l=a.getExtent(),p=this.getLayer().getSource(),c=this.getTransform(e,0),u=i.extent,d=void 0!==u;d&&this.clip(t,e,u);var _=this.replayGroup_;if(_&&!_.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,v=this.getLayer(),f=0,y=0,m=1!==i.opacity,E=v.hasListener(tt.Z.RENDER);if(m||E){var T=t.canvas.width,x=t.canvas.height;if(h){var S=Math.round(Math.sqrt(T*T+x*x));f=(S-T)/2,y=(S-x)/2,T=x=S}this.context.canvas.width=T,this.context.canvas.height=x,g=this.context}else g=t;var R=g.globalAlpha;m||(g.globalAlpha=i.opacity),g!=t&&g.translate(f,y);var C=e.viewHints,L=!(C[ut.Z.ANIMATING]||C[ut.Z.INTERACTING]),I=e.size[0]*n,w=e.size[1]*n;if((0,Mt.qs)(g,-h,I/2,w/2),_.replay(g,c,h,r,L),p.getWrapX()&&a.canWrapX()&&!(0,_t.r4)(l,o)){for(var b,O=o[0],Z=(0,_t.dz)(l),A=0;O<l[0];)b=Z*--A,c=this.getTransform(e,b),_.replay(g,c,h,r,L),O+=Z;for(A=0,O=o[2];O>l[2];)b=Z*++A,c=this.getTransform(e,b),_.replay(g,c,h,r,L),O-=Z}if((0,Mt.qs)(g,h,I/2,w/2),E&&this.dispatchRenderEvent(g,e,c),g!=t){if(m){var D=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(g.canvas,-f,-y),t.globalAlpha=D}else t.drawImage(g.canvas,-f,-y);g.translate(-f,-y)}m||(g.globalAlpha=R)}d&&t.restore()},e.prototype.composeFrame=function(t,e,i){var o=this.getTransform(t,0);this.preCompose(i,t,o),this.compose(i,t,e),this.postCompose(i,t,e,o)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,h=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,{},(function(t){var e=(0,o.sq)(t);if(!(e in l))return l[e]=!0,n.call(r,t,h)}),null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),o=i.getSource(),n=t.viewHints[ut.Z.ANIMATING],r=t.viewHints[ut.Z.INTERACTING],s=i.getUpdateWhileAnimating(),a=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&n||!a&&r)return!0;var h=t.extent,l=t.viewState,p=l.projection,c=l.resolution,u=t.pixelRatio,d=i.getRevision(),_=i.getRenderBuffer(),g=i.getRenderOrder();void 0===g&&(g=qe);var v=(0,_t.f3)(h,_*c),f=l.projection.getExtent();if(o.getWrapX()&&l.projection.canWrapX()&&!(0,_t.r4)(f,t.extent)){var y=(0,_t.dz)(f),m=Math.max((0,_t.dz)(v)/2,y);v[0]=f[0]-m,v[2]=f[2]+m}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&(0,_t.r4)(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E=new Be(Qe(c,u),v,c,u,o.getOverlaps(),this.declutterTree_,i.getRenderBuffer());o.loadFeatures(v,c,p);var T=function(t){var e,o=t.getStyleFunction()||i.getStyleFunction();if(o&&(e=o(t,c)),e){var n=this.renderFeature(t,c,u,e,E);this.dirty_=this.dirty_||n}}.bind(this);if(g){var x=[];o.forEachFeatureInExtent(v,(function(t){x.push(t)})),x.sort(g);for(var S=0,R=x.length;S<R;++S)T(x[S])}else o.forEachFeatureInExtent(v,T);return E.finish(),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=v,this.replayGroup_=E,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,o,n){if(!o)return!1;var r=!1;if(Array.isArray(o))for(var s=0,a=o.length;s<a;++s)r=$e(n,t,o[s],Je(e,i),this.handleStyleImageChange_,this)||r;else r=$e(n,t,o,Je(e,i),this.handleStyleImageChange_,this);return r},e}(ie);ei.handles=function(t){return t.getType()===bt.Z.VECTOR},ei.create=function(t,e){return new ei(e)};const ii=ei;var oi=i(78181),ni=i(2285),ri=i(40868),si={image:[_e.POLYGON,_e.CIRCLE,_e.LINE_STRING,_e.IMAGE,_e.TEXT],hybrid:[_e.POLYGON,_e.LINE_STRING]},ai={image:[_e.DEFAULT],hybrid:[_e.IMAGE,_e.TEXT,_e.DEFAULT],vector:Le},hi=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?ce()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,yt.Ue)();var i=e.getRenderMode();this.zDirection=i===oi.Z.VECTOR?1:0,i!==oi.Z.VECTOR&&(this.context=(0,dt.E4)()),(0,p.oL)(Mt.GK,nt.Z.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,p.Ev)(Mt.GK,nt.Z.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,o,n,r){var s=t.prototype.getTile.call(this,e,i,o,n,r);return s.getState()===ot.Z.LOADED&&(this.createReplayGroup_(s,n,r),this.context&&this.renderTileImage_(s,n,r)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,i){var o=this.getLayer().getRevision();return this.renderedLayerRevision_!=o&&(this.renderedTiles.length=0),this.renderedLayerRevision_=o,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var o=this,n=this.getLayer(),r=n.getRevision(),s=n.getRenderOrder()||null,a=t.getReplayState(n);if(a.dirty||a.renderedRevision!=r||a.renderedRenderOrder!=s){for(var h=n.getSource(),l=h.getTileGrid(),p=h.getTileGridForProjection(i).getResolution(t.tileCoord[0]),c=t.extent,u=function(r,u){var d=t.getTile(t.tileKeys[r]);if(d.getState()==ot.Z.LOADED){var _=d.tileCoord,g=l.getTileCoordExtent(_),v=(0,_t.Ed)(c,g),f=(0,_t.fS)(g,v)?null:(0,_t.f3)(v,n.getRenderBuffer()*p,o.tmpExtent),y=d.getProjection(),m=!1;(0,ni.OP)(i,y)||(m=!0,d.setProjection(i)),a.dirty=!1;var E=new Be(0,v,p,e,h.getOverlaps(),o.declutterTree_,n.getRenderBuffer()),T=Je(p,e),x=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,p)),e){var o=this.renderFeature(t,T,e,E);this.dirty_=this.dirty_||o,a.dirty=a.dirty||o}},S=d.getFeatures();s&&s!==a.renderedRenderOrder&&S.sort(s);for(var R=0,C=S.length;R<C;++R){var L=S[R];m&&(y.getUnits()==ri.default.TILE_PIXELS&&(y.setWorldExtent(g),y.setExtent(d.getExtent())),L.getGeometry().transform(y,i)),f&&!(0,_t.kK)(f,L.getGeometry().getExtent())||x.call(o,L)}E.finish(),d.setReplayGroup(n,t.tileCoord.toString(),E)}},d=0,_=t.tileKeys.length;d<_;++d)u(d);a.renderedRevision=r,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var s=e.viewState.resolution,a=e.viewState.rotation;i=null==i?0:i;var h,l,p,c,u=this.getLayer(),d={},_=this.renderedTiles;for(p=0,c=_.length;p<c;++p){var g=_[p];if(h=(0,_t.f3)(g.extent,i*s,h),(0,_t.b8)(h,t))for(var v=0,f=g.tileKeys.length;v<f;++v){var y=g.getTile(g.tileKeys[v]);if(y.getState()==ot.Z.LOADED){var m=y.getReplayGroup(u,g.tileCoord.toString());l=l||m.forEachFeatureAtCoordinate(t,s,a,i,{},(function(t){var e=(0,o.sq)(t);if(!(e in d))return d[e]=!0,n.call(r,t,u)}),null)}}}return l},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),o=t.tileCoord,n=i.getResolution(o[0]),r=e.viewState,s=e.pixelRatio,a=r.resolution/s,h=i.getTileCoordExtent(o,this.tmpExtent),l=r.center,p=(0,_t.rL)(h),c=e.size,u=Math.round(s*c[0]/2),d=Math.round(s*c[1]/2);return(0,yt.qC)(this.tmpTransform_,u,d,n/a,n/a,r.rotation,(p[0]-l[0])/n,(l[1]-p[1])/n)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,o){var n=this.getLayer(),r=n.getRenderMode();if(r!=oi.Z.IMAGE){var s,a,h=n.getDeclutter()?{}:null,l=n.getSource(),p=ai[r],c=i.pixelRatio,u=i.viewState.rotation,d=i.size;u&&(s=Math.round(c*d[0]/2),a=Math.round(c*d[1]/2),(0,Mt.qs)(e,-u,s,a)),h&&this.declutterTree_.clear();for(var _=i.viewHints,g=!(_[ut.Z.ANIMATING]||_[ut.Z.INTERACTING]),v=this.renderedTiles,f=l.getTileGridForProjection(i.viewState.projection),y=[],m=[],E=v.length-1;E>=0;--E){var T=v[E];if(T.getState()!=ot.Z.ABORT)for(var x=T.tileCoord,S=f.getTileCoordExtent(x,this.tmpExtent)[0]-T.extent[0],R=void 0,C=0,L=T.tileKeys.length;C<L;++C){var I=T.getTile(T.tileKeys[C]);if(I.getState()==ot.Z.LOADED){var w=I.getReplayGroup(n,x.toString());if(w&&w.hasReplays(p)){R||(R=this.getTransform(i,S));var b=I.tileCoord[0],O=w.getClipCoords(R);e.save(),e.globalAlpha=o.opacity;for(var Z=0,A=y.length;Z<A;++Z){var D=y[Z];b<m[Z]&&(e.beginPath(),e.moveTo(O[0],O[1]),e.lineTo(O[2],O[3]),e.lineTo(O[4],O[5]),e.lineTo(O[6],O[7]),e.moveTo(D[6],D[7]),e.lineTo(D[4],D[5]),e.lineTo(D[2],D[3]),e.lineTo(D[0],D[1]),e.clip())}w.replay(e,R,u,{},g,p,h),e.restore(),y.push(O),m.push(b)}}}}h&&function(t,e,i,o){for(var n=Object.keys(t).map(Number).sort(Y.kK),r={},s=0,a=n.length;s<a;++s)for(var h=t[n[s].toString()],l=0,p=h.length;l<p;){var c=h[l++],u=h[l++];c.replay(e,u,i,r,o)}}(h,e,u,g),u&&(0,Mt.qs)(e,u,s,a)}t.prototype.postCompose.call(this,e,i,o)},e.prototype.renderFeature=function(t,e,i,o){if(!i)return!1;var n=!1;if(Array.isArray(i))for(var r=0,s=i.length;r<s;++r)n=$e(o,t,i[r],e,this.handleStyleImageChange_,this)||n;else n=$e(o,t,i,e,this.handleStyleImageChange_,this);return n},e.prototype.renderTileImage_=function(t,e,i){var o=this.getLayer(),n=t.getReplayState(o),r=o.getRevision(),s=si[o.getRenderMode()];if(s&&n.renderedTileRevision!==r){n.renderedTileRevision=r;var a=t.wrappedTileCoord,h=a[0],l=o.getSource(),p=l.getTileGridForProjection(i),c=p.getResolution(h),u=t.getContext(o),d=l.getTilePixelSize(h,e,i);u.canvas.width=d[0],u.canvas.height=d[1];for(var _=p.getTileCoordExtent(a,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var f=t.getTile(t.tileKeys[g]);if(f.getState()==ot.Z.LOADED){var y=e/c,m=(0,yt.mc)(this.tmpTransform_);(0,yt.bA)(m,y,-y),(0,yt.Iu)(m,-_[0],-_[3]),f.getReplayGroup(o,t.tileCoord.toString()).replay(u,m,0,{},!0,s)}}}},e}(le);hi.handles=function(t){return t.getType()===bt.Z.VECTOR_TILE},hi.create=function(t,e){return new hi(e)};const li=hi;var pi=function(t){function e(e){(e=(0,st.f0)({},e)).controls||(e.controls=(0,xt.c)()),e.interactions||(e.interactions=(0,St.ce)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new $t(this);return t.registerLayerRenderers([se,le,ii,li]),t},e}(Et);const ci=pi},39850:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},19473:(t,e,i)=>{"use strict";i.d(e,{T:()=>n,Z:()=>r});var o=function(t,e,i,o){this.minX=t,this.maxX=e,this.minY=i,this.maxY=o};function n(t,e,i,n,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=i,r.maxY=n,r):new o(t,e,i,n)}o.prototype.contains=function(t){return this.containsXY(t[1],t[2])},o.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},o.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},o.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},o.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},o.prototype.getHeight=function(){return this.maxY-this.minY+1},o.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},o.prototype.getWidth=function(){return this.maxX-this.minX+1},o.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};const r=o},59900:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},76773:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>C});var o=i(10508),n=i(49179),r=i(64011),s=i(21882);function a(t){return t}var h=i(58493),l=i(79682),p=i(38642),c=i(6908),u=i(86340),d=i(38906),_=i(90728),g=i(86320),v=i(21915),f=i(28795),y=i(40353),m=i(13580),E=i(2285),T=i(40868),x=function(t){function e(e){t.call(this);var i=(0,m.f0)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,E.UQ)(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[u.Z.CENTER]=void 0!==t.center?t.center:null;var i=function(t){var e,i,n,r=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28,h=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var p=t.resolutions;i=p[r],n=void 0!==p[a]?p[a]:p[p.length-1],e=function(t){return function(e,i,o){if(void 0!==e){var n=(0,l.h7)(t,e,o);n=(0,s.uZ)(n+i,0,t.length-1);var r=Math.floor(n);if(n!=r&&r<t.length-1){var a=t[r]/t[r+1];return t[r]/Math.pow(a,n-r)}return t[r]}}}(p)}else{var c=(0,E.UQ)(t.projection,"EPSG:3857"),u=c.getExtent(),d=(u?Math.max((0,v.dz)(u),(0,v.Cr)(u)):360*T.METERS_PER_UNIT[T.default.DEGREES]/c.getMetersPerUnit())/o.S/Math.pow(2,0),_=d/Math.pow(2,28);void 0!==(i=t.maxResolution)?r=0:i=d/Math.pow(h,r),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(h,a):d/Math.pow(h,a):_),a=r+Math.floor(Math.log(i/n)/Math.log(h)),n=i/Math.pow(h,a-r),e=function(t,e,i){return function(o,n,r){if(void 0!==o){var s=-r/2+.5,a=Math.floor(Math.log(e/o)/Math.log(t)+s),h=Math.max(a+n,0);return void 0!==i&&(h=Math.min(h,i)),e/Math.pow(t,h)}}}(h,i,a-r)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:r,zoomFactor:h}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var n=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[(0,s.uZ)(t[0],e[0],e[2]),(0,s.uZ)(t[1],e[1],e[3])]:void 0}):a;var e}(t),r=i.constraint,h=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,p.Gw)():!1===e?p.YP:"number"==typeof e?(0,p.gE)(e):p.YP}return p.h$}(t);this.constraints_={center:n,resolution:r,rotation:h},void 0!==t.resolution?e[u.Z.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[u.Z.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[u.Z.RESOLUTION]=(0,s.uZ)(Number(this.getResolution()||e[u.Z.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[u.Z.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,m.f0)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),(0,m.f0)({},e,t)},e.prototype.animate=function(t){var e,i=arguments,o=arguments.length;if(o>1&&"function"==typeof arguments[o-1]&&(e=arguments[o-1],--o),!this.isDef()){var n=arguments[o-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&S(e,!0))}for(var r=Date.now(),a=this.getCenter().slice(),h=this.getResolution(),l=this.getRotation(),p=[],u=0;u<o;++u){var d=i[u],_={start:r,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||g.rd};if(d.center&&(_.sourceCenter=a,_.targetCenter=d.center,a=_.targetCenter),void 0!==d.zoom?(_.sourceResolution=h,_.targetResolution=this.constrainResolution(this.maxResolution_,d.zoom-this.minZoom_,0),h=_.targetResolution):d.resolution&&(_.sourceResolution=h,_.targetResolution=d.resolution,h=_.targetResolution),void 0!==d.rotation){_.sourceRotation=l;var v=(0,s.$W)(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;_.targetRotation=l+v,l=_.targetRotation}_.callback=e,R(_)?_.complete=!0:r+=_.duration,p.push(_)}this.animations_.push(p),this.setHint(c.Z.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.Z.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.Z.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.Z.ANIMATING,-this.hints_[c.Z.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&S(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],n=!0,r=0,a=o.length;r<a;++r){var h=o[r];if(!h.complete){var l=t-h.start,p=h.duration>0?l/h.duration:1;p>=1?(h.complete=!0,p=1):n=!1;var d=h.easing(p);if(h.sourceCenter){var _=h.sourceCenter[0],g=h.sourceCenter[1],v=_+d*(h.targetCenter[0]-_),f=g+d*(h.targetCenter[1]-g);this.set(u.Z.CENTER,[v,f])}if(h.sourceResolution&&h.targetResolution){var y=1===d?h.targetResolution:h.sourceResolution+d*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(u.Z.CENTER,this.calculateCenterZoom(y,h.anchor)),this.set(u.Z.RESOLUTION,y)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var m=1===d?(0,s.$W)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+d*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(u.Z.CENTER,this.calculateCenterRotate(m,h.anchor)),this.set(u.Z.ROTATION,m)}if(e=!0,!h.complete)break}}if(n){this.animations_[i]=null,this.setHint(c.Z.ANIMATING,-1);var E=o[0].callback;E&&S(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenter();return void 0!==o&&(i=[o[0]-e[0],o[1]-e[1]],(0,_.U1)(i,t-this.getRotation()),(0,_.IH)(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenter(),n=this.getResolution();return void 0!==o&&void 0!==n&&(i=[e[0]-t*(e[0]-o[0])/n,e[1]-t*(e[1]-o[1])/n]),i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,n.sq)(this)+'"]',i=document.querySelector(e);if(i){var o=getComputedStyle(i);t[0]=parseInt(o.width,10),t[1]=parseInt(o.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var o=e||0,n=i||0;return this.constraints_.resolution(t,o,n)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(u.Z.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();(0,d.h)(i,1);var o=this.getResolution();(0,d.h)(void 0!==o,2);var n=this.getRotation();return(0,d.h)(void 0!==n,3),(0,v.p8)(i,o,n,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(u.Z.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),o=(0,v.dz)(t)/i[0],n=(0,v.Cr)(t)/i[1];return Math.max(o,n)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,n=Math.log(i/o)/Math.log(e);return function(t){return i/Math.pow(e,t*n)}},e.prototype.getRotation=function(){return this.get(u.Z.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,n=Math.log(i/o)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/n}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),o=this.getResolution(),n=o/t,r=this.getRotation();return{center:[Math.round(e[0]/n)*n,Math.round(e[1]/n)*n],projection:void 0!==i?i:null,resolution:o,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,o=this.minZoom_||0;if(this.resolutions_){var n=(0,l.h7)(this.resolutions_,t,1);o=n,e=this.resolutions_[n],i=n==this.resolutions_.length-1?2:e/this.resolutions_[n+1]}else e=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,o=e||{},n=o.size;n||(n=this.getSizeFromViewport_()),(0,d.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,d.h)(!(0,v.xb)(t),25),i=(0,y.oJ)(t)):t.getType()===f.Z.CIRCLE?(t=t.getExtent(),(i=(0,y.oJ)(t)).rotate(this.getRotation(),(0,v.qg)(t))):i=t;var s,a=void 0!==o.padding?o.padding:[0,0,0,0],h=void 0===o.constrainResolution||o.constrainResolution,l=void 0!==o.nearest&&o.nearest;s=void 0!==o.minResolution?o.minResolution:void 0!==o.maxZoom?this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0):0;for(var p=i.getFlatCoordinates(),c=this.getRotation(),u=Math.cos(-c),_=Math.sin(-c),g=1/0,m=1/0,E=-1/0,T=-1/0,x=i.getStride(),R=0,C=p.length;R<C;R+=x){var L=p[R]*u-p[R+1]*_,I=p[R]*_+p[R+1]*u;g=Math.min(g,L),m=Math.min(m,I),E=Math.max(E,L),T=Math.max(T,I)}var w=this.getResolutionForExtent([g,m,E,T],[n[0]-a[1]-a[3],n[1]-a[0]-a[2]]);if(w=isNaN(w)?s:Math.max(w,s),h){var b=this.constrainResolution(w,0,0);!l&&b<w&&(b=this.constrainResolution(b,-1,0)),w=b}_=-_;var O=(g+E)/2,Z=(m+T)/2,A=[(O+=(a[1]-a[3])/2*w)*u-(Z+=(a[0]-a[2])/2*w)*_,Z*u+O*_],D=o.callback?o.callback:r.Zn;void 0!==o.duration?this.animate({resolution:w,center:A,duration:o.duration,easing:o.easing},D):(this.setResolution(w),this.setCenter(A),S(D,!0))},e.prototype.centerOn=function(t,e,i){var o=this.getRotation(),n=Math.cos(-o),r=Math.sin(-o),s=t[0]*n-t[1]*r,a=t[1]*n+t[0]*r,h=this.getResolution(),l=(s+=(e[0]/2-i[0])*h)*n-(a+=(i[1]-e[1]/2)*h)*(r=-r),p=a*n+s*r;this.setCenter([l,p])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(u.Z.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(u.Z.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(u.Z.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(h.ZP);function S(t,e){setTimeout((function(){t(e)}),0)}function R(t){return!(t.sourceCenter&&t.targetCenter&&!(0,_.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}const C=x},6908:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={ANIMATING:0,INTERACTING:1}},86340:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},19530:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var o=i(64011),n=i(40188),r=i(58493),s=i(85386),a=i(13002);const h=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:o.Zn,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,s.ZF)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,s.ZF)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)(0,a.bN)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.Zn&&this.listenerKeys.push((0,a.oL)(t,n.Z.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(r.ZP)},99937:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var o=i(13002),n=i(73381),r=i(19530),s=i(67644),a=i(86320);const h=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var r=void 0!==i.className?i.className:"ol-zoom",a=void 0!==i.delta?i.delta:1,h=void 0!==i.zoomInLabel?i.zoomInLabel:"+",l=void 0!==i.zoomOutLabel?i.zoomOutLabel:"−",p=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r+"-in",u.setAttribute("type","button"),u.title=p,u.appendChild("string"==typeof h?document.createTextNode(h):h),(0,o.oL)(u,n.Z.CLICK,this.handleClick_.bind(this,a));var d=document.createElement("button");d.className=r+"-out",d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof l?document.createTextNode(l):l),(0,o.oL)(d,n.Z.CLICK,this.handleClick_.bind(this,-a));var _=r+" "+s.XV+" "+s.hg,g=this.element;g.className=_,g.appendChild(u),g.appendChild(d),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var o=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,duration:this.duration_,easing:a.Vv})):e.setResolution(o)}}},e}(r.Z)},70878:(t,e,i)=>{"use strict";i.d(e,{c:()=>m});var o=i(78426),n=i(79682),r=i(19530),s=i(67644),a=i(85386),h=i(13002),l=i(73381),p=i(77701),c=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||u,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",n=void 0!==i.tipLabel?i.tipLabel:"Attributions",r=void 0!==i.collapseLabel?i.collapseLabel:"»";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;var a=void 0!==i.label?i.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var p=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=n,c.appendChild(p),(0,h.oL)(c,l.Z.CLICK,this.handleClick_,this);var d=o+" "+s.XV+" "+s.hg+(this.collapsed_&&this.collapsible_?" "+s.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=d,_.appendChild(this.ulElement_),_.appendChild(c),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],o=t.layerStatesArray,n=t.viewState.resolution,r=0,s=o.length;r<s;++r){var a=o[r];if((0,p.l)(a,n)){var h=a.layer.getSource();if(h){var l=h.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==h.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var u=0,d=c.length;u<d;++u)c[u]in e||(i.push(c[u]),e[c[u]]=!0);else c in e||(i.push(c),e[c]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,n.fS)(e,this.renderedAttributions_)){(0,a.ep)(this.ulElement_);for(var o=0,r=e.length;o<r;++o){var s=document.createElement("li");s.innerHTML=e[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.hN),this.collapsed_?(0,a.$H)(this.collapseLabel_,this.label_):(0,a.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(r.Z);function u(t){this.updateElement_(t.frameState)}const d=c;var _=i(86320),g=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||v,target:i.target});var o=void 0!==i.className?i.className:"ol-rotate",n=void 0!==i.label?i.label:"⇧";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=n):(this.label_=n,this.label_.classList.add("ol-compass"));var r=i.tipLabel?i.tipLabel:"Reset rotation",a=document.createElement("button");a.className=o+"-reset",a.setAttribute("type","button"),a.title=r,a.appendChild(this.label_),(0,h.oL)(a,l.Z.CLICK,this.handleClick_,this);var p=o+" "+s.XV+" "+s.hg,c=this.element;c.className=p,c.appendChild(a),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.oj)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:_.Vv}):t.setRotation(0))},e}(r.Z);function v(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var n=this.element.classList.contains(s.oj);n||0!==i?n&&0!==i&&this.element.classList.remove(s.oj):this.element.classList.add(s.oj)}this.label_.style.msTransform=o,this.label_.style.webkitTransform=o,this.label_.style.transform=o}this.rotation_=i}}const f=g;var y=i(99937);function m(t){var e=t||{},i=new o.Z;return(void 0===e.zoom||e.zoom)&&i.push(new y.Z(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new f(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new d(e.attributionOptions)),i}},36403:(t,e,i)=>{"use strict";i.d(e,{Ko:()=>a,aj:()=>h,T_:()=>l,Bx:()=>p,v8:()=>c,Fi:()=>u,MJ:()=>d,Kf:()=>_,rM:()=>g,QC:()=>v,vY:()=>f,TN:()=>y,QL:()=>m,Xp:()=>E});var o=i(30006),n=i(38906),r=i(64011),s=i(91358),a=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},h=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},l=function(t){return t.target.getTargetElement()===document.activeElement},p=r.uX,c=function(t){var e=t.originalEvent;return 0==e.button&&!(s.G$&&s.tK&&e.ctrlKey)},u=r.Dv,d=function(t){return"pointermove"==t.type},_=function(t){return t.type==o.Z.SINGLECLICK},g=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},v=function(t){var e=t.originalEvent;return!e.altKey&&(s.tK?e.metaKey:e.ctrlKey)&&!e.shiftKey},f=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},y=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},m=function(t){var e=t.pointerEvent;return(0,n.h)(void 0!==e,56),"mouse"==e.pointerType},E=function(t){var e=t.pointerEvent;return(0,n.h)(void 0!==e,56),e.isPrimary&&0===e.button}},37566:(t,e,i)=>{"use strict";i.d(e,{ce:()=>v});var o=i(78426),n=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var o=this.points_[e+2]-this.points_[i+2];if(o<1e3/60)return!1;var n=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,n),this.initialVelocity_=Math.sqrt(n*n+r*r)/o,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_};const r=n;var s=i(18369),a=i(73800),h=i(97950),l=i(78516),p=i(45801),c=i(52),u=i(86306),d=i(78653),_=i(48041),g=i(36403);function v(t){var e=t||{},i=new o.Z,n=new r(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new h.Z),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new s.Z({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new a.Z({condition:e.onFocusOnly?g.T_:void 0,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new d.Z),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new _.Z({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new p.Z),i.push(new c.Z({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new u.Z({condition:e.onFocusOnly?g.T_:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new l.Z({duration:e.zoomDuration})),i}},43033:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var o=i(9520),n=i(36403),r=i(64011),s=i(38024),a=i(80967),h=i(40353),l=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+i,o.top=Math.min(t[1],e[1])+i,o.width=Math.abs(e[0]-t[0])+i,o.height=Math.abs(e[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new h.ZP([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(a.Z);const p=l;var c=function(t){function e(e,i,o){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.ZP);const u=function(t){function e(e){t.call(this);var i=e||{};this.box_=new p(i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:r.Zn,this.startPixel_=null,this.condition_=i.condition?i.condition:n.Bx,this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,i){var o=i[0]-e[0],n=i[1]-e[1];return o*o+n*n>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){(0,n.QL)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new c("boxdrag",t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!(0,n.QL)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new c("boxend",t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!(0,n.QL)(t)||!(0,n.v8)(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c("boxstart",t.coordinate,t)),0))},e}(s.Z)},73800:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var o=i(6908),n=i(90728),r=i(86320),s=i(36403),a=i(64011),h=i(38024);const l=function(t){function e(e){t.call(this,{stopDown:a.Dv});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:s.rM,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(o.Z.INTERACTING,1));var e=this.targetPointers,i=(0,h.S)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=this.lastCentroid[0]-i[0],s=i[1]-this.lastCentroid[1],a=t.map.getView(),l=[r,s];(0,n.bA)(l,a.getResolution()),(0,n.U1)(l,a.getRotation()),(0,n.IH)(l,a.getCenter()),l=a.constrainCenter(l),a.setCenter(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenter(),h=e.getPixelFromCoordinate(a),l=e.getCoordinateFromPixel([h[0]-n*Math.cos(s),h[1]-n*Math.sin(s)]);i.animate({center:i.constrainCenter(l),duration:500,easing:r.Vv})}return this.panning_&&(this.panning_=!1,i.setHint(o.Z.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(h.Z)},97950:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var o=i(38642),n=i(6908),r=i(36403),s=i(64011),a=i(47588);const h=function(t){function e(e){var i=e||{};t.call(this,{stopDown:s.Dv}),this.condition_=i.condition?i.condition:r.aj,this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if((0,r.QL)(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==o.h$){var n=e.getSize(),s=t.pixel,h=Math.atan2(n[1]/2-s[1],s[0]-n[0]/2);if(void 0!==this.lastAngle_){var l=h-this.lastAngle_,p=i.getRotation();(0,a.dl)(i,p-l)}this.lastAngle_=h}}},e.prototype.handleUpEvent=function(t){if(!(0,r.QL)(t))return!0;var e=t.map.getView();e.setHint(n.Z.INTERACTING,-1);var i=e.getRotation();return(0,a.U1)(e,i,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!(!(0,r.QL)(t)||!(0,r.v8)(t)||!this.condition_(t)||(t.map.getView().setHint(n.Z.INTERACTING,1),this.lastAngle_=void 0,0))},e}(i(38024).Z)},78516:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(86320),n=i(36403),r=i(21915);function s(){var t=this.getMap(),e=t.getView(),i=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var s=e.calculateExtent(i),a=(0,r.ZT)([t.getPixelFromCoordinate((0,r.hC)(n)),t.getPixelFromCoordinate((0,r.Xv)(n))]),h=e.getResolutionForExtent(a,i);(0,r.H9)(s,1/h),n=s}var l=e.constrainResolution(e.getResolutionForExtent(n,i)),p=(0,r.qg)(n);p=e.constrainCenter(p),e.animate({resolution:l,center:p,duration:this.duration_,easing:o.Vv})}const a=function(t){function e(e){var i=e||{},o=i.condition?i.condition:n.vY;t.call(this,{condition:o,className:i.className||"ol-dragzoom",onBoxEnd:s}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(43033).Z)},45801:(t,e,i)=>{"use strict";i.d(e,{Z:()=>p});var o=i(90728),n=i(73381);const r={LEFT:37,UP:38,RIGHT:39,DOWN:40};var s=i(36403),a=i(47588),h=function(t){function e(e){t.call(this,{handleEvent:l});var i=e||{};this.defaultCondition_=function(t){return(0,s.rM)(t)&&(0,s.TN)(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.ZP);function l(t){var e=!1;if(t.type==n.Z.KEYDOWN){var i=t.originalEvent.keyCode;if(this.condition_(t)&&(i==r.DOWN||i==r.LEFT||i==r.RIGHT||i==r.UP)){var s=t.map.getView(),h=s.getResolution()*this.pixelDelta_,l=0,p=0;i==r.DOWN?p=-h:i==r.LEFT?l=-h:i==r.RIGHT?l=h:p=h;var c=[l,p];(0,o.U1)(c,s.getRotation()),(0,a.Cv)(s,c,this.duration_),t.preventDefault(),e=!0}}return!e}const p=h},52:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(73381),n=i(36403),r=i(47588);function s(t){var e=!1;if(t.type==o.Z.KEYDOWN||t.type==o.Z.KEYPRESS){var i=t.originalEvent.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var n=t.map,s=i=="+".charCodeAt(0)?this.delta_:-this.delta_,a=n.getView();(0,r.FW)(a,s,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}const a=function(t){function e(e){t.call(this,{handleEvent:s});var i=e||{};this.condition_=i.condition?i.condition:n.TN,this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.ZP)},86306:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var o=i(6908),n=i(36403),r=i(86320),s=i(73381),a=i(91358),h=i(47588),l=i(21882),p="trackpad";const c=function(t){function e(e){var i=e||{};t.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:n.Bx,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(o.Z.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==s.Z.WHEEL&&e!==s.Z.MOUSEWHEEL)return!0;t.preventDefault();var i,n=t.map,h=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==s.Z.WHEEL?(i=h.deltaY,a.V&&h.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=a.MP),h.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==s.Z.MOUSEWHEEL&&(i=-h.wheelDeltaY,a.vw&&(i/=3)),0===i)return!1;var l=Date.now();if(void 0===this.startTime_&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?p:"wheel"),this.mode_===p){var c=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):c.setHint(o.Z.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var u=c.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),d=c.getMinResolution(),_=c.getMaxResolution(),g=0;if(u<d?(u=Math.max(u,d/this.trackpadZoomBuffer_),g=1):u>_&&(u=Math.min(u,_*this.trackpadZoomBuffer_),g=-1),this.lastAnchor_){var v=c.calculateCenterZoom(u,this.lastAnchor_);c.setCenter(c.constrainCenter(v))}return c.setResolution(u),0===g&&this.constrainResolution_&&c.animate({resolution:c.constrainResolution(u,i>0?-1:1),easing:r.Vv,anchor:this.lastAnchor_,duration:this.duration_}),g>0?c.animate({resolution:d,easing:r.Vv,anchor:this.lastAnchor_,duration:500}):g<0&&c.animate({resolution:_,easing:r.Vv,anchor:this.lastAnchor_,duration:500}),this.startTime_=l,!1}this.delta_+=i;var f=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),f),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=(0,l.uZ)(this.delta_,-1,1);(0,h.FW)(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(h.ZP)},78653:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var o=i(6908),n=i(64011),r=i(47588),s=i(38024),a=i(38642);const h=function(t){function e(e){var i=e||{},o=i;o.stopDown||(o.stopDown=n.Dv),t.call(this,o),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],o=this.targetPointers[1],n=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(void 0!==this.lastAngle_){var h=n-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=h}this.lastAngle_=n;var l=t.map,p=l.getView();if(p.getConstraints().rotation!==a.h$){var c=l.getViewport().getBoundingClientRect(),u=(0,s.S)(this.targetPointers);if(u[0]-=c.left,u[1]-=c.top,this.anchor_=l.getCoordinateFromPixel(u),this.rotating_){var d=p.getRotation();l.render(),(0,r.dl)(p,d+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(o.Z.INTERACTING,-1),this.rotating_){var i=e.getRotation();(0,r.U1)(e,i,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(o.Z.INTERACTING,1),!0}return!1},e}(s.Z)},48041:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(6908),n=i(64011),r=i(47588),s=i(38024);const a=function(t){function e(e){var i=e||{},o=i;o.stopDown||(o.stopDown=n.Dv),t.call(this,o),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],o=this.targetPointers[1],n=i.clientX-o.clientX,a=i.clientY-o.clientY,h=Math.sqrt(n*n+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/h),this.lastDistance_=h;var l=t.map,p=l.getView(),c=p.getResolution(),u=p.getMaxResolution(),d=p.getMinResolution(),_=c*e;_>u?(e=u/c,_=u):_<d&&(e=d/c,_=d),1!=e&&(this.lastScaleDelta_=e);var g=l.getViewport().getBoundingClientRect(),v=(0,s.S)(this.targetPointers);v[0]-=g.left,v[1]-=g.top,this.anchor_=l.getCoordinateFromPixel(v),l.render(),(0,r.DQ)(p,_,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(o.Z.INTERACTING,-1);var i=e.getResolution();if(this.constrainResolution_||i<e.getMinResolution()||i>e.getMaxResolution()){var n=this.lastScaleDelta_-1;(0,r.sP)(e,i,this.anchor_,this.duration_,n)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(o.Z.INTERACTING,1),!0}return!1},e}(s.Z)},31742:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});var o=i(49179),n=i(78426),r=i(19629),s=i(58493),a=i(13910),h=i(38906),l=i(13002),p=i(73381),c=i(21915),u=i(10410),d=i(13580),_=i(82418),g="layers";const v=function(t){function e(e){var i=e||{},o=(0,d.f0)({},i);delete o.layers;var r=i.layers;t.call(this,o),this.layersListenerKeys_=[],this.listenerKeys_={},(0,l.oL)(this,(0,s.v_)(g),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new n.Z(r.slice(),{unique:!0}):(0,h.h)("function"==typeof r.getArray,43):r=new n.Z(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(l.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,l.oL)(t,r.Z.ADD,this.handleLayersAdd_,this),(0,l.oL)(t,r.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(l.bN);(0,d.ZH)(this.listenerKeys_);for(var i=t.getArray(),n=0,s=i.length;n<s;n++){var h=i[n];this.listenerKeys_[(0,o.sq)(h)]=[(0,l.oL)(h,a.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.oL)(h,p.Z.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,o.sq)(e)]=[(0,l.oL)(e,a.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.oL)(e,p.Z.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=(0,o.sq)(e);this.listenerKeys_[i].forEach(l.bN),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(g)},e.prototype.setLayers=function(t){this.set(g,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var o=this.getLayerState(),n=i,r=e.length;n<r;n++){var s=e[n];s.opacity*=o.opacity,s.visible=s.visible&&o.visible,s.maxResolution=Math.min(s.maxResolution,o.maxResolution),s.minResolution=Math.max(s.minResolution,o.minResolution),void 0!==o.extent&&(void 0!==s.extent?s.extent=(0,c.Ed)(s.extent,o.extent):s.extent=o.extent)}return e},e.prototype.getSourceState=function(){return _.Z.READY},e}(u.default)},78181:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},35211:(t,e,i)=>{"use strict";i.d(e,{m:()=>o,j:()=>n});var o=.5,n=!0},38642:(t,e,i)=>{"use strict";i.d(e,{h$:()=>n,YP:()=>r,gE:()=>s,Gw:()=>a});var o=i(21882);function n(t,e){return void 0!==t?0:void 0}function r(t,e){return void 0!==t?t+e:void 0}function s(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function a(t){var e=t||(0,o.Yr)(5);return function(t,i){return void 0!==t?Math.abs(t+i)<=e?0:t+i:void 0}}},50596:(t,e,i)=>{"use strict";function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function n(t){return t[0]>0&&t[1]>0}function r(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}i.d(e,{f3:()=>o,py:()=>n,bA:()=>r,Pq:()=>s})},10508:(t,e,i)=>{"use strict";i.d(e,{e:()=>o,S:()=>n});var o=42,n=256}}]);