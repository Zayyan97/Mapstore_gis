(self.webpackChunkMyMapStoreProject=self.webpackChunkMyMapStoreProject||[]).push([[1055],{91055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D});var o=t(24852),s=t.n(o),n=t(45697),i=t.n(n);function l(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const c={ALLOW:{classNameRow:"ms-allow-row"},DENY:{classNameRow:"ms-deny-row"}};class p extends s().Component{constructor(e){super(e),this.setScrollLeft=e=>this.row.setScrollLeft(e)}componentWillUnmount(){this.setScrollLeft=null}render(){const{row:e={},isSelected:r}=this.props,t=(r?" ms-row-select ":"")+((c[e.grant]||{}).classNameRow||" ");return this.props.renderBaseRow({extraClasses:t,...this.props})}}l(p,"propTypes",{idx:i().oneOfType([i().string,i().number]),row:i().object,renderBaseRow:i().func.isRequired,isSelected:i().bool}),l(p,"defaultProps",{selected:[]});const d=p;var a=t(35400),u=t(45453),w=t(14526),h=t(90937),g=t(53370);const{CheckboxEditor:m}=g.editors;class f extends s().Component{renderRowIndex(){return s().createElement("div",{className:"rdg-row-index"},this.props.dependentValues&&this.props.dependentValues.priority||"")}render(){const{connectDragSource:e,rowSelection:r}=this.props;let t=null!==r?{position:"absolute",marginTop:"-2px",marginLeft:"3px"}:{},o=this.props.value,n=o?"rdg-actions-checkbox selected":"rdg-actions-checkbox";return e(s().createElement("div",null,s().createElement("div",{className:"rdg-drag-row-handle",style:t}),o?null:this.renderRowIndex(),null!==r&&s().createElement("div",{className:n},s().createElement(m,{column:this.props.column,rowIdx:this.props.rowIdx,dependentValues:this.props.dependentValues,value:this.props.value}))))}}f.propTypes={rowIdx:i().number.isRequired,connectDragSource:i().func.isRequired,connectDragPreview:i().func.isRequired,isDragging:i().bool.isRequired,isRowHovered:i().bool,column:i().object,dependentValues:i().object,value:i().bool,rowSelection:i().object.isRequired},f.defaultProps={rowIdx:0};const y=(0,h.Ej)("Row",{beginDrag:e=>({idx:e.rowIdx,data:e.dependentValues}),endDrag:e=>({idx:e.rowIdx,data:e.dependentValues})},(function(e,r){return{connectDragSource:e.dragSource(),isDragging:r.isDragging(),connectDragPreview:e.dragPreview()}}))(f);function b(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const{Container:S,DropTargetRowContainer:R}=u.Draggable,v=R(d);class x extends s().Component{constructor(){super(...arguments),b(this,"componentDidUpdate",(e=>{let{rowsCount:r,isEditing:t}=e;(this.props.rowsCount>0&&r!==this.props.rowsCount||t&&!this.props.isEditing)&&this.grid.scrollListener()})),b(this,"onRowsSelected",(e=>{const r=this._getSelectedRow(this.props.rowKey,this.props.selectedIds,this.props.rows).concat(e.map((e=>{let{row:r}=e;return r})).filter((e=>{let{id:r}=e;return"empty_row"!==r})));r.length>0&&this.props.onSelect(r)})),b(this,"onRowsDeselected",(e=>{let r=e.map((e=>e.row[this.props.rowKey]));const t=this.props.selectedIds.filter((e=>-1===r.indexOf(e)));this.props.onSelect(this._getSelectedRow(this.props.rowKey,t,this.props.rows))})),b(this,"isDraggedRowSelected",((e,r)=>{if(e&&e.length>0){let t=this.props.rowKey;return e.filter((e=>e[t]===r.data[t])).length>0}return!1})),b(this,"_getSelectedRow",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(t).reduce(((o,s)=>o.concat(t[s].filter((t=>-1!==r.indexOf(t[e]))))),[])})),b(this,"reorderRows",(e=>{if("empty_row"===e.rowSource.data[this.props.rowKey]||"empty_row"===e.rowTarget.data[this.props.rowKey])return;if(e.rowSource.idx===e.rowTarget.idx)return;let r=this._getSelectedRow(this.props.rowKey,this.props.selectedIds,this.props.rows),t=this.isDraggedRowSelected(r,e.rowSource)?r:[e.rowSource.data];this.props.onReorderRows({rules:t,targetPriority:e.rowTarget.data.priority})}))}componentDidMount(){this.props.rowsCount>0&&this.grid.scrollListener()}componentWillUnmount(){this.grid=null}render(){return s().createElement(S,null,s().createElement(w.Z,{displayFilters:!0,ref:e=>{this.grid=e},enableCellSelection:!1,emptyRowsView:()=>s().createElement(a.Z,{glyph:"inbox"}),rowActionsCell:y,columns:this.props.columns,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,rows:this.props.rows,minHeight:this.props.height,minWidth:this.props.width,rowRenderer:s().createElement(v,{onRowDrop:this.reorderRows}),virtualScroll:!0,onGridScroll:this.props.onGridScroll,onAddFilter:this.props.onAddFilter,rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:this.onRowsSelected,onRowsDeselected:this.onRowsDeselected,selectBy:{keys:{rowKey:this.props.rowKey,values:this.props.selectedIds}}}}))}}b(x,"propTypes",{rowKey:i().string.isRequired,width:i().number,height:i().number,rows:i().oneOfType([i().array,i().object]),rowsCount:i().number,columns:i().array,onSelect:i().func,selectedIds:i().array,rowGetter:i().func,onGridScroll:i().func,onAddFilter:i().func,onReorderRows:i().func,isEditing:i().bool}),b(x,"contextTypes",{messages:i().object}),b(x,"defaultProps",{rowKey:"id",rows:[],onSort:()=>{},onSelect:()=>{},selectedIds:[],columns:[],isEditing:!1});const D=x}}]);