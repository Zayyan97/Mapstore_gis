(self.webpackChunkMyMapStoreProject=self.webpackChunkMyMapStoreProject||[]).push([[1994],{34990:(e,t,r)=>{"use strict";r.d(t,{Jl:()=>n,XH:()=>o,XR:()=>i}),r(47037),r(55877),r(92579);const n="GEOSTORY:GEOSTORY_LOADED",o="GEOSTORY:LOAD_GEOSTORY",i="GEOSTORY:LOAD_GEOSTORY_ERROR"},15047:(e,t,r)=>{"use strict";r.d(t,{b:()=>u});var n=r(27418),o=r.n(n);var i=r(59286),s=r(32420);const a=e=>{let{searchText:t,staticFilter:r,blacklist:n,item:o,queriableAttributes:s,predicate:a}=e;const l=(0,i.generateTemplateString)(r||"")(o);let c,u=t.split(" ").filter((e=>e)).filter((e=>n.indexOf(e.toLowerCase())<0));return 0===u.length&&(u=t?[t]:[]),u.length>0&&(c="(".concat(u.map((e=>s.map((t=>`${t} ${a} '%${e.replace("'","''")}%'`)).join(" OR "))).join(") AND (")).concat(")")),c=c?c.concat(l):l||null,c};let l={nominatim:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{returnFullData:!1};return r(47310).Z.geocode(e,t).then((e=>{return t.returnFullData?e:null===(r=e.data)?[]:r.map((e=>({properties:{...e},id:e.osm_id,type:"Feature",bbox:e.boundingbox.map((e=>parseFloat(e))).reduce(((e,t,r)=>(e[(e=>{switch(e){case 0:return 1;case 1:return 3;case 2:return 0;case 3:return 2;default:return-1}})(r)]=t,e)),[]),geometry:e.geojson||{type:"Point",coordinates:[parseFloat(e.lon),parseFloat(e.lat)]}})));var r}))},wfs:(e,t)=>{let{url:r,typeName:n,queriableAttributes:i=[],outputFormat:l="application/json",predicate:c="ILIKE",staticFilter:u="",blacklist:p=[],item:m,fromTextToFilter:d=a,returnFullData:f=!1,...h}=t;const b=d({searchText:e,staticFilter:u,blacklist:p,item:m,queriableAttributes:i,predicate:c});return s.DH(r,o()({maxFeatures:10,typeName:n,outputFormat:l,cql_filter:b},h)).then((e=>f?e:e.features))}};const c={setService:(e,t)=>{l[e]=t},getService:e=>l[e]?l[e]:null},u={Services:l,Utils:c}},47361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(45697),o=r.n(n),i=r(24852),s=r.n(i),a=r(14293),l=r.n(a),c=r(68195);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends s().Component{render(){return this.context.intl?s().createElement(c.FormattedNumber,u({value:this.props.value},this.props.numberParams)):s().createElement("span",null,!l()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}p(m,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),p(m,"contextTypes",{intl:o().object});const d=m},72688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(24852),o=r.n(n),i=r(45697),s=r.n(i),a=r(38560),l=r(43614),c=r(72986),u=r.n(c);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends o().Component{constructor(){super(...arguments),m(this,"onConfirm",(()=>{this.props.onConfirm()}))}render(){const e=o().createElement("span",{role:"footer"},o().createElement("div",{style:{float:"left"}}),o().createElement(a.Z,{ref:"confirmButton",disabled:this.props.running,className:this.props.className,key:"confirmButton",bsStyle:"primary",bsSize:this.props.buttonSize,onClick:()=>{this.onConfirm()}},this.props.running?o().createElement(u(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):null,this.props.confirmText),this.props.includeCloseButton?o().createElement(a.Z,{key:"cancelButton",ref:"cancelButton",bsSize:this.props.buttonSize,onClick:this.props.onClose},this.props.cancelText):o().createElement("span",null)),t=this.props.body;return o().createElement(l.Z,p({},this.props.options,{show:this.props.show,onHide:this.props.onClose}),o().createElement(l.Z.Header,{key:"dialogHeader",closeButton:!0},o().createElement(l.Z.Title,null,this.props.titleText)),o().createElement(l.Z.Body,null,t),o().createElement(l.Z.Footer,null,e))}}m(d,"propTypes",{className:s().string,show:s().bool,options:s().object,onConfirm:s().func,onClose:s().func,closeGlyph:s().string,style:s().object,buttonSize:s().string,includeCloseButton:s().bool,body:s().oneOfType([s().string,s().element]),titleText:s().oneOfType([s().string,s().element]),confirmText:s().oneOfType([s().string,s().element]),cancelText:s().oneOfType([s().string,s().element]),running:s().bool}),m(d,"defaultProps",{onConfirm:()=>{},onClose:()=>{},options:{animation:!1},className:"",closeGlyph:"",style:{},includeCloseButton:!0,body:"",titleText:"Confirm Delete",confirmText:"Delete",cancelText:"Cancel"});const f=d},43614:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(27418),o=r.n(n),i=r(57588),s=r(61365);class a extends i.Modal{handleDialogClick(e){e.target===e.currentTarget&&this.props.onHide(e)}}const l=o()((0,s.Z)(a),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},75875:(e,t,r)=>{const n=r(9669),o=r(7303),i=r(72500),s=r(37275).ZP,{isAuthenticationActivated:a,getAuthenticationRule:l,getToken:c,getBasicAuthHeader:u}=r(33044),p=r(27418),m=r(13218),d=r(14176),f=r(14293),h=r(72500);function b(e,t,r){e.params=p({},e.params,{[t]:r}),e.url=e.url?s.getUrlWithoutParameters(e.url,[t]):e.url}function y(e,t,r){e.headers=p({},e.headers,{[t]:r})}const g=[];n.interceptors.request.use((e=>{var t=e.url||"",r=!(0===t.indexOf("http")),n=!r&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(function(e){if(!e||!e.url||!a())return e;const t=o(e.baseURL||"",e.url),r=l(t);switch(r&&r.method){case"browserWithCredentials":return e.withCredentials=!0,e;case"authkey":{const t=c();return t?(b(e,r.authkeyParamName||"authkey",t),e):e}case"test":{const t=r?r.token:"";return t?(b(e,r.authkeyParamName||"authkey",t),e):e}case"basic":const t=u();return t?(y(e,"Authorization",t),e):e;case"bearer":{const t=c();t&&y(e,"Authorization","Bearer "+t)}}}(e),n){let e=window.location;r=n[1]===e.protocol&&n[3]===e.hostname;let t=n[4],o=e.port,i=0===e.protocol.indexOf("https")?443:80;t=""===t?i+"":t+"",o=""===o?i+"":o+"",r=r&&t===o}if(!r){let r=s.getProxyUrl(e);if(r){let n=[],o=!1;m(r)&&(n=r.useCORS||[],o=r.autoDetectCORS||!1,r=r.url);const i=n.reduce(((e,r)=>e||0===t.indexOf(r)),!1),s=g.reduce(((e,r)=>e||0===t.indexOf(r)),!1);if(i||o&&!s)o&&(e.autoDetectCORS=!0);else{const n=h.parse(t,!0,!0),o=d(e.params,f);e.url=r+encodeURIComponent(h.format(p({},n,{search:null,query:p({},n.query,o)}))),e.params=void 0}}}return e})),n.interceptors.response.use((e=>e),(e=>{if(e.config&&e.config.autoDetectCORS){const t=i.parse(e.config.url),r=t.protocol+"//"+t.host+t.pathname;if(-1===g.indexOf(r))return g.push(r),new Promise(((t,r)=>{n({...e.config,autoDetectCORS:!1}).then(t).catch(r)}))}return Promise.reject(e.response?{...e.response,originalError:e}:e)})),e.exports=n},66113:(e,t,r)=>{"use strict";r.d(t,{JM:()=>o}),r(27361),r(13311),r(30998),r(18446),r(44908),r(64721),r(92579),r(74621);var n=r(24684);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.F)(e).includes("geostory/shared")}},24684:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var n=r(27361),o=r.n(n);const i=e=>o()(e,"router.location.pathname")||"/"},92579:(e,t,r)=>{"use strict";r.d(t,{of:()=>i}),r(27361),r(30998),r(30084),r(1469);var n=r(52628),o=r.n(n);r(63105),r(82492),r(47037),r(13218),r(64721),r(13880),r(55877);const i=(o()({CASCADE:"cascade"}),o()({TITLE:"title",PARAGRAPH:"paragraph",IMMERSIVE:"immersive",BANNER:"banner",CAROUSEL:"carousel"}),o()({IMAGE:"image",MAP:"map",VIDEO:"video"}),o()({EDIT:"edit",VIEW:"view"}),()=>window.location.href.match("geostory-embedded")?"geostoryEmbedded":"geostory")}}]);